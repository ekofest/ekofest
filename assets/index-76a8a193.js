var nm=Object.defineProperty;var am=(e,r,t)=>r in e?nm(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var fe=(e,r,t)=>(am(e,typeof r!="symbol"?r+"":r,t),t);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();function Br(e,r,t){return t.a=e,t.f=r,t}function $(e){return Br(2,e,function(r){return function(t){return e(r,t)}})}function A(e){return Br(3,e,function(r){return function(t){return function(n){return e(r,t,n)}}})}function X(e){return Br(4,e,function(r){return function(t){return function(n){return function(a){return e(r,t,n,a)}}}})}function qe(e){return Br(5,e,function(r){return function(t){return function(n){return function(a){return function(s){return e(r,t,n,a,s)}}}}})}function yr(e){return Br(6,e,function(r){return function(t){return function(n){return function(a){return function(s){return function(o){return e(r,t,n,a,s,o)}}}}}})}function Vt(e){return Br(7,e,function(r){return function(t){return function(n){return function(a){return function(s){return function(o){return function(u){return e(r,t,n,a,s,o,u)}}}}}}})}function Ou(e){return Br(8,e,function(r){return function(t){return function(n){return function(a){return function(s){return function(o){return function(u){return function(m){return e(r,t,n,a,s,o,u,m)}}}}}}}})}function Iu(e){return Br(9,e,function(r){return function(t){return function(n){return function(a){return function(s){return function(o){return function(u){return function(m){return function(l){return e(r,t,n,a,s,o,u,m,l)}}}}}}}}})}function i(e,r,t){return e.a===2?e.f(r,t):e(r)(t)}function _(e,r,t,n){return e.a===3?e.f(r,t,n):e(r)(t)(n)}function P(e,r,t,n,a){return e.a===4?e.f(r,t,n,a):e(r)(t)(n)(a)}function T(e,r,t,n,a,s){return e.a===5?e.f(r,t,n,a,s):e(r)(t)(n)(a)(s)}function ur(e,r,t,n,a,s,o){return e.a===6?e.f(r,t,n,a,s,o):e(r)(t)(n)(a)(s)(o)}function me(e,r,t,n,a,s,o,u){return e.a===7?e.f(r,t,n,a,s,o,u):e(r)(t)(n)(a)(s)(o)(u)}function im(e,r,t,n,a,s,o,u,m){return e.a===8?e.f(r,t,n,a,s,o,u,m):e(r)(t)(n)(a)(s)(o)(u)(m)}function Q(e,r){for(var t,n=[],a=Ha(e,r,0,n);a&&(t=n.pop());a=Ha(t.a,t.b,0,n));return a}function Ha(e,r,t,n){if(e===r)return!0;if(typeof e!="object"||e===null||r===null)return typeof e=="function"&&It(5),!1;if(t>100)return n.push(y(e,r)),!0;e.$<0&&(e=at(e),r=at(r));for(var a in e)if(!Ha(e[a],r[a],t+1,n))return!1;return!0}$(Q);$(function(e,r){return!Q(e,r)});function ne(e,r,t){if(typeof e!="object")return e===r?0:e<r?-1:1;if(typeof e.$>"u")return(t=ne(e.a,r.a))||(t=ne(e.b,r.b))?t:ne(e.c,r.c);for(;e.b&&r.b&&!(t=ne(e.a,r.a));e=e.b,r=r.b);return t||(e.b?1:r.b?-1:0)}$(function(e,r){return ne(e,r)<0});$(function(e,r){return ne(e,r)<1});$(function(e,r){return ne(e,r)>0});$(function(e,r){return ne(e,r)>=0});var sm=$(function(e,r){var t=ne(e,r);return t<0?Xu:t?$$:Yu}),Ot=0;function y(e,r){return{a:e,b:r}}function we(e,r,t){return{a:e,b:r,c:t}}function H(e,r){var t={};for(var n in e)t[n]=e[n];for(var n in r)t[n]=r[n];return t}$(F);function F(e,r){if(typeof e=="string")return e+r;if(!e.b)return r;var t=hr(e.a,r);e=e.b;for(var n=t;e.b;e=e.b)n=n.b=hr(e.a,r);return t}var S={$:0};function hr(e,r){return{$:1,a:e,b:r}}var om=$(hr);function b(e){for(var r=S,t=e.length;t--;)r=hr(e[t],r);return r}function ji(e){for(var r=[];e.b;e=e.b)r.push(e.a);return r}var um=A(function(e,r,t){for(var n=[];r.b&&t.b;r=r.b,t=t.b)n.push(i(e,r.a,t.a));return b(n)});X(function(e,r,t,n){for(var a=[];r.b&&t.b&&n.b;r=r.b,t=t.b,n=n.b)a.push(_(e,r.a,t.a,n.a));return b(a)});qe(function(e,r,t,n,a){for(var s=[];r.b&&t.b&&n.b&&a.b;r=r.b,t=t.b,n=n.b,a=a.b)s.push(P(e,r.a,t.a,n.a,a.a));return b(s)});yr(function(e,r,t,n,a,s){for(var o=[];r.b&&t.b&&n.b&&a.b&&s.b;r=r.b,t=t.b,n=n.b,a=a.b,s=s.b)o.push(T(e,r.a,t.a,n.a,a.a,s.a));return b(o)});$(function(e,r){return b(ji(r).sort(function(t,n){return ne(e(t),e(n))}))});$(function(e,r){return b(ji(r).sort(function(t,n){var a=i(e,t,n);return a===Yu?0:a===Xu?-1:1}))});var lm=[];function cm(e){return e.length}var mm=A(function(e,r,t){for(var n=new Array(e),a=0;a<e;a++)n[a]=t(r+a);return n}),vm=$(function(e,r){for(var t=new Array(e),n=0;n<e&&r.b;n++)t[n]=r.a,r=r.b;return t.length=n,y(t,r)});$(function(e,r){return r[e]});A(function(e,r,t){for(var n=t.length,a=new Array(n),s=0;s<n;s++)a[s]=t[s];return a[e]=r,a});$(function(e,r){for(var t=r.length,n=new Array(t+1),a=0;a<t;a++)n[a]=r[a];return n[t]=e,n});A(function(e,r,t){for(var n=t.length,a=0;a<n;a++)r=i(e,t[a],r);return r});var $m=A(function(e,r,t){for(var n=t.length-1;n>=0;n--)r=i(e,t[n],r);return r});$(function(e,r){for(var t=r.length,n=new Array(t),a=0;a<t;a++)n[a]=e(r[a]);return n});A(function(e,r,t){for(var n=t.length,a=new Array(n),s=0;s<n;s++)a[s]=i(e,r+s,t[s]);return a});A(function(e,r,t){return t.slice(e,r)});A(function(e,r,t){var n=r.length,a=e-n;a>t.length&&(a=t.length);for(var s=n+a,o=new Array(s),u=0;u<n;u++)o[u]=r[u];for(var u=0;u<a;u++)o[u+n]=t[u];return o});$(function(e,r){return r});$(function(e,r){return console.log(e+": "+fm()),r});function fm(e){return"<internals>"}function It(e){throw new Error("https://github.com/elm/core/blob/1.0.0/hints/"+e+".md")}var dm=$(function(e,r){return e+r});$(function(e,r){return e-r});$(function(e,r){return e*r});$(function(e,r){return e/r});$(function(e,r){return e/r|0});var pm=$(Math.pow);$(function(e,r){return r%e});var bm=$(function(e,r){var t=r%e;return e===0?It(11):t>0&&e<0||t<0&&e>0?t+e:t}),hm=Math.PI,gm=Math.E,_m=Math.cos,ym=Math.sin,Em=Math.tan;$(Math.atan2);function km(e){return e}function xm(e){return e===1/0||e===-1/0}var Cm=Math.ceil,wm=Math.floor,Am=Math.round,Sm=Math.sqrt,fo=Math.log,Dm=isNaN;$(function(e,r){return e&&r});$(function(e,r){return e||r});$(function(e,r){return e!==r});var jm=$(function(e,r){return e+r});function Vm(e){var r=e.charCodeAt(0);return isNaN(r)?q:W(55296<=r&&r<=56319?y(e[0]+e[1],e.slice(2)):y(e[0],e.slice(1)))}$(function(e,r){return e+r});function Om(e){return e.length}$(function(e,r){for(var t=r.length,n=new Array(t),a=0;a<t;){var s=r.charCodeAt(a);if(55296<=s&&s<=56319){n[a]=e(r[a]+r[a+1]),a+=2;continue}n[a]=e(r[a]),a++}return n.join("")});var Im=$(function(e,r){for(var t=[],n=r.length,a=0;a<n;){var s=r[a],o=r.charCodeAt(a);a++,55296<=o&&o<=56319&&(s+=r[a],a++),e(s)&&t.push(s)}return t.join("")});function Nm(e){for(var r=e.length,t=new Array(r),n=0;n<r;){var a=e.charCodeAt(n);55296<=a&&a<=56319?(t[r-n]=e[n+1],n++,t[r-n]=e[n-1],n++):(t[r-n]=e[n],n++)}return t.join("")}A(function(e,r,t){for(var n=t.length,a=0;a<n;){var s=t[a],o=t.charCodeAt(a);a++,55296<=o&&o<=56319&&(s+=t[a],a++),r=i(e,s,r)}return r});var qm=A(function(e,r,t){for(var n=t.length;n--;){var a=t[n],s=t.charCodeAt(n);56320<=s&&s<=57343&&(n--,a=t[n]+a),r=i(e,a,r)}return r}),Pm=$(function(e,r){return r.split(e)}),Tm=$(function(e,r){return r.join(e)}),Mm=A(function(e,r,t){return t.slice(e,r)});function Rm(e){return e.toUpperCase()}function Fm(e){return e.toLowerCase()}$(function(e,r){for(var t=r.length;t--;){var n=r[t],a=r.charCodeAt(t);if(56320<=a&&a<=57343&&(t--,n=r[t]+n),e(n))return!0}return!1});var Lm=$(function(e,r){for(var t=r.length;t--;){var n=r[t],a=r.charCodeAt(t);if(56320<=a&&a<=57343&&(t--,n=r[t]+n),!e(n))return!1}return!0}),Um=$(function(e,r){return r.indexOf(e)>-1}),Bm=$(function(e,r){return r.indexOf(e)===0});$(function(e,r){return r.length>=e.length&&r.lastIndexOf(e)===r.length-e.length});var zm=$(function(e,r){var t=e.length;if(t<1)return S;for(var n=0,a=[];(n=r.indexOf(e,n))>-1;)a.push(n),n=n+t;return b(a)});function Nu(e){return e+""}function Hm(e){for(var r=0,t=e.charCodeAt(0),n=t==43||t==45?1:0,a=n;a<e.length;++a){var s=e.charCodeAt(a);if(s<48||57<s)return q;r=10*r+s-48}return a==n?q:W(t==45?-r:r)}function Jm(e){if(e.length===0||/[\sxbo]/.test(e))return q;var r=+e;return r===r?W(r):q}function Wm(e){var r=e.charCodeAt(0);return 55296<=r&&r<=56319?(r-55296)*1024+e.charCodeAt(1)-56320+65536:r}function Km(e){return e<0||1114111<e?"�":e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(Math.floor(e/1024)+55296,e%1024+56320))}function Gm(e){return{$:0,a:e}}function ha(e){return{$:2,b:e}}var Ym=ha(function(e){return typeof e=="boolean"?dr(e):fr("a BOOL",e)}),Xm=ha(function(e){return typeof e=="number"?dr(e):fr("a FLOAT",e)}),Qm=ha(function(e){return dr(e)}),Zm=ha(function(e){return typeof e=="string"?dr(e):e instanceof String?dr(e+""):fr("a STRING",e)});function ev(e){return{$:3,b:e}}function rv(e){return{$:5,c:e}}var tv=$(function(e,r){return{$:6,d:e,b:r}}),nv=$(function(e,r){return{$:7,e,b:r}});function av(e){return{$:8,b:e}}function zr(e,r){return{$:9,f:e,g:r}}var iv=$(function(e,r){return{$:10,b:r,h:e}});function sv(e){return{$:11,g:e}}var ov=$(function(e,r){return zr(e,[r])}),uv=A(function(e,r,t){return zr(e,[r,t])}),lv=X(function(e,r,t,n){return zr(e,[r,t,n])}),cv=qe(function(e,r,t,n,a){return zr(e,[r,t,n,a])});yr(function(e,r,t,n,a,s){return zr(e,[r,t,n,a,s])});Vt(function(e,r,t,n,a,s,o){return zr(e,[r,t,n,a,s,o])});Ou(function(e,r,t,n,a,s,o,u){return zr(e,[r,t,n,a,s,o,u])});Iu(function(e,r,t,n,a,s,o,u,m){return zr(e,[r,t,n,a,s,o,u,m])});$(function(e,r){try{var t=JSON.parse(r);return Xe(e,t)}catch(n){return Or(i(Ui,"This is not valid JSON! "+n.message,r))}});var Vi=$(function(e,r){return Xe(e,r)});function Xe(e,r){switch(e.$){case 2:return e.b(r);case 5:return r===null?dr(e.c):fr("null",r);case 3:return On(r)?po(e.b,r,b):fr("a LIST",r);case 4:return On(r)?po(e.b,r,mv):fr("an ARRAY",r);case 6:var t=e.d;if(typeof r!="object"||r===null||!(t in r))return fr("an OBJECT with a field named `"+t+"`",r);var l=Xe(e.b,r[t]);return ir(l)?l:Or(i(ko,t,l.a));case 7:var n=e.e;if(!On(r))return fr("an ARRAY",r);if(n>=r.length)return fr("a LONGER array. Need index "+n+" but only see "+r.length+" entries",r);var l=Xe(e.b,r[n]);return ir(l)?l:Or(i(Zu,n,l.a));case 8:if(typeof r!="object"||r===null||On(r))return fr("an OBJECT",r);var a=S;for(var s in r)if(r.hasOwnProperty(s)){var l=Xe(e.b,r[s]);if(!ir(l))return Or(i(ko,s,l.a));a=hr(y(s,l.a),a)}return dr(Re(a));case 9:for(var o=e.f,u=e.g,m=0;m<u.length;m++){var l=Xe(u[m],r);if(!ir(l))return l;o=o(l.a)}return dr(o);case 10:var l=Xe(e.b,r);return ir(l)?Xe(e.h(l.a),r):l;case 11:for(var v=S,c=e.g;c.b;c=c.b){var l=Xe(c.a,r);if(ir(l))return l;v=hr(l.a,v)}return Or(f$(Re(v)));case 1:return Or(i(Ui,e.a,r));case 0:return dr(e.a)}}function po(e,r,t){for(var n=r.length,a=new Array(n),s=0;s<n;s++){var o=Xe(e,r[s]);if(!ir(o))return Or(i(Zu,s,o.a));a[s]=o.a}return dr(t(a))}function On(e){return Array.isArray(e)||typeof FileList<"u"&&e instanceof FileList}function mv(e){return i(O$,e.length,function(r){return e[r]})}function fr(e,r){return Or(i(Ui,"Expecting "+e,r))}function pt(e,r){if(e===r)return!0;if(e.$!==r.$)return!1;switch(e.$){case 0:case 1:return e.a===r.a;case 2:return e.b===r.b;case 5:return e.c===r.c;case 3:case 4:case 8:return pt(e.b,r.b);case 6:return e.d===r.d&&pt(e.b,r.b);case 7:return e.e===r.e&&pt(e.b,r.b);case 9:return e.f===r.f&&bo(e.g,r.g);case 10:return e.h===r.h&&pt(e.b,r.b);case 11:return bo(e.g,r.g)}}function bo(e,r){var t=e.length;if(t!==r.length)return!1;for(var n=0;n<t;n++)if(!pt(e[n],r[n]))return!1;return!0}var vv=$(function(e,r){return JSON.stringify(r,null,e)+""});function Oi(e){return e}function $v(){return[]}function fv(){return{}}var dv=A(function(e,r,t){return t[e]=r,t});function pv(e){return $(function(r,t){return t.push(e(r)),t})}var bv=null;function Hr(e){return{$:0,a:e}}function hv(e){return{$:1,a:e}}function Er(e){return{$:2,b:e,c:null}}var Ja=$(function(e,r){return{$:3,b:e,d:r}});$(function(e,r){return{$:4,b:e,d:r}});function gv(e){return{$:5,b:e}}var _v=0;function Ii(e){var r={$:0,e:_v++,f:e,g:null,h:[]};return Ni(r),r}function qu(e){return Er(function(r){r(Hr(Ii(e)))})}function Pu(e,r){e.h.push(r),Ni(e)}var yv=$(function(e,r){return Er(function(t){Pu(e,r),t(Hr(Ot))})}),Va=!1,ho=[];function Ni(e){if(ho.push(e),!Va){for(Va=!0;e=ho.shift();)Ev(e);Va=!1}}function Ev(e){for(;e.f;){var r=e.f.$;if(r===0||r===1){for(;e.g&&e.g.$!==r;)e.g=e.g.i;if(!e.g)return;e.f=e.g.b(e.f.a),e.g=e.g.i}else if(r===2){e.f.c=e.f.b(function(t){e.f=t,Ni(e)});return}else if(r===5){if(e.h.length===0)return;e.f=e.f.b(e.h.shift())}else e.g={$:r===3?0:1,b:e.f.b,i:e.g},e.f=e.f.d}}function kv(e){return Er(function(r){var t=setTimeout(function(){r(Hr(Ot))},e);return function(){clearTimeout(t)}})}X(function(e,r,t,n){return qi(r,n,e.c1,e.dO,e.dw,function(){return function(){}})});function qi(e,r,t,n,a,s){var o=i(Vi,e,r?r.flags:void 0);ir(o)||It(2);var u={},m=t(o.a),l=m.a,v=s(p,l),c=xv(u,p);function p(f,g){var h=i(n,f,l);v(l=h.a,g),_o(u,h.b,a(l))}return _o(u,m.b,a(l)),c?{ports:c}:{}}var Me={};function xv(e,r){var t;for(var n in Me){var a=Me[n];a.a&&(t=t||{},t[n]=a.a(n,r)),e[n]=wv(a,r)}return t}function Cv(e,r,t,n,a){return{b:e,c:r,d:t,e:n,f:a}}function wv(e,r){var t={g:r,h:void 0},n=e.c,a=e.d,s=e.e,o=e.f;function u(m){return i(Ja,u,gv(function(l){var v=l.a;return l.$===0?_(a,t,v,m):s&&o?P(n,t,v.i,v.j,m):_(n,t,s?v.i:v.j,m)}))}return t.h=Ii(i(Ja,u,e.b))}var Av=$(function(e,r){return Er(function(t){e.g(r),t(Hr(Ot))})});$(function(e,r){return i(yv,e.h,{$:0,a:r})});function Pi(e){return function(r){return{$:1,k:e,l:r}}}function Tu(e){return{$:2,m:e}}$(function(e,r){return{$:3,n:e,o:r}});var go=[],Oa=!1;function _o(e,r,t){if(go.push({p:e,q:r,r:t}),!Oa){Oa=!0;for(var n;n=go.shift();)Sv(n.p,n.q,n.r);Oa=!1}}function Sv(e,r,t){var n={};Xn(!0,r,n,null),Xn(!1,t,n,null);for(var a in e)Pu(e[a],{$:"fx",a:n[a]||{i:S,j:S}})}function Xn(e,r,t,n){switch(r.$){case 1:var a=r.k,s=Dv(e,a,n,r.l);t[a]=jv(e,s,t[a]);return;case 2:for(var o=r.m;o.b;o=o.b)Xn(e,o.a,t,n);return;case 3:Xn(e,r.o,t,{s:r.n,t:n});return}}function Dv(e,r,t,n){function a(o){for(var u=t;u;u=u.t)o=u.s(o);return o}var s=e?Me[r].e:Me[r].f;return i(s,a,n)}function jv(e,r,t){return t=t||{i:S,j:S},e?t.i=hr(r,t.i):t.j=hr(r,t.j),t}function Mu(e){Me[e]&&It(3)}function Ru(e,r){return Mu(e),Me[e]={e:Vv,u:r,a:Ov},Pi(e)}var Vv=$(function(e,r){return r});function Ov(e){var r=[],t=Me[e].u,n=kv(0);Me[e].b=n,Me[e].c=A(function(o,u,m){for(;u.b;u=u.b)for(var l=r,v=t(u.a),c=0;c<l.length;c++)l[c](v);return n});function a(o){r.push(o)}function s(o){r=r.slice();var u=r.indexOf(o);u>=0&&r.splice(u,1)}return{subscribe:a,unsubscribe:s}}function Ti(e,r){return Mu(e),Me[e]={f:Iv,u:r,a:Nv},Pi(e)}var Iv=$(function(e,r){return function(t){return e(r(t))}});function Nv(e,r){var t=S,n=Me[e].u,a=Hr(null);Me[e].b=a,Me[e].c=A(function(o,u,m){return t=u,a});function s(o){var u=i(Vi,n,o);ir(u)||It(4,e,u.a);for(var m=u.a,l=t;l.b;l=l.b)r(l.a(m))}return{send:s}}var Qn,Zr=typeof document<"u"?document:{};function Mi(e,r){e.appendChild(r)}X(function(e,r,t,n){var a=n.node;return a.parentNode.replaceChild(Pr(e,function(){}),a),{}});function Wa(e){return{$:0,a:e}}var Fu=$(function(e,r){return $(function(t,n){for(var a=[],s=0;n.b;n=n.b){var o=n.a;s+=o.b||0,a.push(o)}return s+=a.length,{$:1,c:r,d:Bu(t),e:a,f:e,b:s}})}),De=Fu(void 0),qv=$(function(e,r){return $(function(t,n){for(var a=[],s=0;n.b;n=n.b){var o=n.a;s+=o.b.b||0,a.push(o)}return s+=a.length,{$:2,c:r,d:Bu(t),e:a,f:e,b:s}})});qv(void 0);var Pv=$(function(e,r){return{$:4,j:e,k:r,b:1+(r.b||0)}});function Jr(e,r){return{$:5,l:e,m:r,k:void 0}}var Tv=$(function(e,r){return Jr([e,r],function(){return e(r)})});A(function(e,r,t){return Jr([e,r,t],function(){return i(e,r,t)})});X(function(e,r,t,n){return Jr([e,r,t,n],function(){return _(e,r,t,n)})});qe(function(e,r,t,n,a){return Jr([e,r,t,n,a],function(){return P(e,r,t,n,a)})});yr(function(e,r,t,n,a,s){return Jr([e,r,t,n,a,s],function(){return T(e,r,t,n,a,s)})});Vt(function(e,r,t,n,a,s,o){return Jr([e,r,t,n,a,s,o],function(){return ur(e,r,t,n,a,s,o)})});Ou(function(e,r,t,n,a,s,o,u){return Jr([e,r,t,n,a,s,o,u],function(){return me(e,r,t,n,a,s,o,u)})});Iu(function(e,r,t,n,a,s,o,u,m){return Jr([e,r,t,n,a,s,o,u,m],function(){return im(e,r,t,n,a,s,o,u,m)})});var Lu=$(function(e,r){return{$:"a0",n:e,o:r}}),Mv=$(function(e,r){return{$:"a1",n:e,o:r}}),Uu=$(function(e,r){return{$:"a2",n:e,o:r}}),ae=$(function(e,r){return{$:"a3",n:e,o:r}});A(function(e,r,t){return{$:"a4",n:r,o:{f:e,o:t}}});var Rv=/^(on|formAction$)/i,Fv=/^\s*j\s*a\s*v\s*a\s*s\s*c\s*r\s*i\s*p\s*t\s*:/i,Lv=/^\s*(j\s*a\s*v\s*a\s*s\s*c\s*r\s*i\s*p\s*t\s*:|d\s*a\s*t\s*a\s*:\s*t\s*e\s*x\s*t\s*\/\s*h\s*t\s*m\s*l\s*(,|;))/i;function Uv(e){return Rv.test(e)?"data-"+e:e}function Bv(e){return Fv.test(e)?"":e}function zv(e){return Lv.test(e)?"":e}var Hv=$(function(e,r){return r.$==="a0"?i(Lu,r.n,Jv(e,r.o)):r});function Jv(e,r){var t=zi(r);return{$:r.$,a:t?_(sl,t<3?Wv:Kv,mr(e),r.a):i(Ae,e,r.a)}}var Wv=$(function(e,r){return y(e(r.a),r.b)}),Kv=$(function(e,r){return{X:e(r.X),bq:r.bq,be:r.be}});function Bu(e){for(var r={};e.b;e=e.b){var t=e.a,n=t.$,a=t.n,s=t.o;if(n==="a2"){a==="className"?yo(r,a,s):r[a]=s;continue}var o=r[n]||(r[n]={});n==="a3"&&a==="class"?yo(o,a,s):o[a]=s}return r}function yo(e,r,t){var n=e[r];e[r]=n?n+" "+t:t}function Pr(e,r){var t=e.$;if(t===5)return Pr(e.k||(e.k=e.m()),r);if(t===0)return Zr.createTextNode(e.a);if(t===4){for(var n=e.k,a=e.j;n.$===4;)typeof a!="object"?a=[a,n.j]:a.push(n.j),n=n.k;var s={j:a,p:r},o=Pr(n,s);return o.elm_event_node_ref=s,o}if(t===3){var o=e.h(e.g);return Ka(o,r,e.d),o}var o=e.f?Zr.createElementNS(e.f,e.c):Zr.createElement(e.c);Qn&&e.c=="a"&&o.addEventListener("click",Qn(o)),Ka(o,r,e.d);for(var u=e.e,m=0;m<u.length;m++)Mi(o,Pr(t===1?u[m]:u[m].b,r));return o}function Ka(e,r,t){for(var n in t){var a=t[n];n==="a1"?Gv(e,a):n==="a0"?Qv(e,r,a):n==="a3"?Yv(e,a):n==="a4"?Xv(e,a):(n!=="value"&&n!=="checked"||e[n]!==a)&&(e[n]=a)}}function Gv(e,r){var t=e.style;for(var n in r)t[n]=r[n]}function Yv(e,r){for(var t in r){var n=r[t];typeof n<"u"?e.setAttribute(t,n):e.removeAttribute(t)}}function Xv(e,r){for(var t in r){var n=r[t],a=n.f,s=n.o;typeof s<"u"?e.setAttributeNS(a,t,s):e.removeAttributeNS(a,t)}}function Qv(e,r,t){var n=e.elmFs||(e.elmFs={});for(var a in t){var s=t[a],o=n[a];if(!s){e.removeEventListener(a,o),n[a]=void 0;continue}if(o){var u=o.q;if(u.$===s.$){o.q=s;continue}e.removeEventListener(a,o)}o=Zv(r,s),e.addEventListener(a,o,Ri&&{passive:zi(s)<2}),n[a]=o}}var Ri;try{window.addEventListener("t",null,Object.defineProperty({},"passive",{get:function(){Ri=!0}}))}catch{}function Zv(e,r){function t(n){var a=t.q,s=Xe(a.a,n);if(ir(s)){for(var o=zi(a),u=s.a,m=o?o<3?u.a:u.X:u,l=o==1?u.b:o==3&&u.bq,v=(l&&n.stopPropagation(),(o==2?u.b:o==3&&u.be)&&n.preventDefault(),e),c,p;c=v.j;){if(typeof c=="function")m=c(m);else for(var p=c.length;p--;)m=c[p](m);v=v.p}v(m,l)}}return t.q=r,t}function e$(e,r){return e.$==r.$&&pt(e.a,r.a)}function zu(e,r){var t=[];return sr(e,r,t,0),t}function je(e,r,t,n){var a={$:r,r:t,s:n,t:void 0,u:void 0};return e.push(a),a}function sr(e,r,t,n){if(e!==r){var a=e.$,s=r.$;if(a!==s)if(a===1&&s===2)r=u$(r),s=1;else{je(t,0,n,r);return}switch(s){case 5:for(var o=e.l,u=r.l,m=o.length,l=m===u.length;l&&m--;)l=o[m]===u[m];if(l){r.k=e.k;return}r.k=r.m();var v=[];sr(e.k,r.k,v,0),v.length>0&&je(t,1,n,v);return;case 4:for(var c=e.j,p=r.j,f=!1,g=e.k;g.$===4;)f=!0,typeof c!="object"?c=[c,g.j]:c.push(g.j),g=g.k;for(var h=r.k;h.$===4;)f=!0,typeof p!="object"?p=[p,h.j]:p.push(h.j),h=h.k;if(f&&c.length!==p.length){je(t,0,n,r);return}(f?!r$(c,p):c!==p)&&je(t,2,n,p),sr(g,h,t,n+1);return;case 0:e.a!==r.a&&je(t,3,n,r.a);return;case 1:Eo(e,r,t,n,t$);return;case 2:Eo(e,r,t,n,n$);return;case 3:if(e.h!==r.h){je(t,0,n,r);return}var k=Fi(e.d,r.d);k&&je(t,4,n,k);var x=r.i(e.g,r.g);x&&je(t,5,n,x);return}}}function r$(e,r){for(var t=0;t<e.length;t++)if(e[t]!==r[t])return!1;return!0}function Eo(e,r,t,n,a){if(e.c!==r.c||e.f!==r.f){je(t,0,n,r);return}var s=Fi(e.d,r.d);s&&je(t,4,n,s),a(e,r,t,n)}function Fi(e,r,t){var n;for(var a in e){if(a==="a1"||a==="a0"||a==="a3"||a==="a4"){var s=Fi(e[a],r[a]||{},a);s&&(n=n||{},n[a]=s);continue}if(!(a in r)){n=n||{},n[a]=t?t==="a1"?"":t==="a0"||t==="a3"?void 0:{f:e[a].f,o:void 0}:typeof e[a]=="string"?"":null;continue}var o=e[a],u=r[a];o===u&&a!=="value"&&a!=="checked"||t==="a0"&&e$(o,u)||(n=n||{},n[a]=u)}for(var m in r)m in e||(n=n||{},n[m]=r[m]);return n}function t$(e,r,t,n){var a=e.e,s=r.e,o=a.length,u=s.length;o>u?je(t,6,n,{v:u,i:o-u}):o<u&&je(t,7,n,{v:o,e:s});for(var m=o<u?o:u,l=0;l<m;l++){var v=a[l];sr(v,s[l],t,++n),n+=v.b||0}}function n$(e,r,t,n){for(var a=[],s={},o=[],u=e.e,m=r.e,l=u.length,v=m.length,c=0,p=0,f=n;c<l&&p<v;){var g=u[c],h=m[p],k=g.a,x=h.a,d=g.b,D=h.b,C=void 0,w=void 0;if(k===x){f++,sr(d,D,a,f),f+=d.b||0,c++,p++;continue}var Z=u[c+1],be=m[p+1];if(Z){var ie=Z.a,ce=Z.b;w=x===ie}if(be){var Je=be.a,Pe=be.b;C=k===Je}if(C&&w){f++,sr(d,Pe,a,f),Ft(s,a,k,D,p,o),f+=d.b||0,f++,Lt(s,a,k,ce,f),f+=ce.b||0,c+=2,p+=2;continue}if(C){f++,Ft(s,a,x,D,p,o),sr(d,Pe,a,f),f+=d.b||0,c+=1,p+=2;continue}if(w){f++,Lt(s,a,k,d,f),f+=d.b||0,f++,sr(ce,D,a,f),f+=ce.b||0,c+=2,p+=1;continue}if(Z&&ie===Je){f++,Lt(s,a,k,d,f),Ft(s,a,x,D,p,o),f+=d.b||0,f++,sr(ce,Pe,a,f),f+=ce.b||0,c+=2,p+=2;continue}break}for(;c<l;){f++;var g=u[c],d=g.b;Lt(s,a,g.a,d,f),f+=d.b||0,c++}for(;p<v;){var E=E||[],h=m[p];Ft(s,a,h.a,h.b,void 0,E),p++}(a.length>0||o.length>0||E)&&je(t,8,n,{w:a,x:o,y:E})}var Hu="_elmW6BL";function Ft(e,r,t,n,a,s){var o=e[t];if(!o){o={c:0,z:n,r:a,s:void 0},s.push({r:a,A:o}),e[t]=o;return}if(o.c===1){s.push({r:a,A:o}),o.c=2;var u=[];sr(o.z,n,u,o.r),o.r=a,o.s.s={w:u,A:o};return}Ft(e,r,t+Hu,n,a,s)}function Lt(e,r,t,n,a){var s=e[t];if(!s){var o=je(r,9,a,void 0);e[t]={c:1,z:n,r:a,s:o};return}if(s.c===0){s.c=2;var u=[];sr(n,s.z,u,a),je(r,9,a,{w:u,A:s});return}Lt(e,r,t+Hu,n,a)}function Ju(e,r,t,n){Ut(e,r,t,0,0,r.b,n)}function Ut(e,r,t,n,a,s,o){for(var u=t[n],m=u.r;m===a;){var l=u.$;if(l===1)Ju(e,r.k,u.s,o);else if(l===8){u.t=e,u.u=o;var v=u.s.w;v.length>0&&Ut(e,r,v,0,a,s,o)}else if(l===9){u.t=e,u.u=o;var c=u.s;if(c){c.A.s=e;var v=c.w;v.length>0&&Ut(e,r,v,0,a,s,o)}}else u.t=e,u.u=o;if(n++,!(u=t[n])||(m=u.r)>s)return n}var p=r.$;if(p===4){for(var f=r.k;f.$===4;)f=f.k;return Ut(e,f,t,n,a+1,s,e.elm_event_node_ref)}for(var g=r.e,h=e.childNodes,k=0;k<g.length;k++){a++;var x=p===1?g[k]:g[k].b,d=a+(x.b||0);if(a<=m&&m<=d&&(n=Ut(h[k],x,t,n,a,d,o),!(u=t[n])||(m=u.r)>s))return n;a=d}return n}function Wu(e,r,t,n){return t.length===0?e:(Ju(e,r,t,n),Zn(e,t))}function Zn(e,r){for(var t=0;t<r.length;t++){var n=r[t],a=n.t,s=a$(a,n);a===e&&(e=s)}return e}function a$(e,r){switch(r.$){case 0:return i$(e,r.s,r.u);case 4:return Ka(e,r.u,r.s),e;case 3:return e.replaceData(0,e.length,r.s),e;case 1:return Zn(e,r.s);case 2:return e.elm_event_node_ref?e.elm_event_node_ref.j=r.s:e.elm_event_node_ref={j:r.s,p:r.u},e;case 6:for(var s=r.s,n=0;n<s.i;n++)e.removeChild(e.childNodes[s.v]);return e;case 7:for(var s=r.s,t=s.e,n=s.v,a=e.childNodes[n];n<t.length;n++)e.insertBefore(Pr(t[n],r.u),a);return e;case 9:var s=r.s;if(!s)return e.parentNode.removeChild(e),e;var o=s.A;return typeof o.r<"u"&&e.parentNode.removeChild(e),o.s=Zn(e,s.w),e;case 8:return s$(e,r);case 5:return r.s(e);default:It(10)}}function i$(e,r,t){var n=e.parentNode,a=Pr(r,t);return a.elm_event_node_ref||(a.elm_event_node_ref=e.elm_event_node_ref),n&&a!==e&&n.replaceChild(a,e),a}function s$(e,r){var t=r.s,n=o$(t.y,r);e=Zn(e,t.w);for(var a=t.x,s=0;s<a.length;s++){var o=a[s],u=o.A,m=u.c===2?u.s:Pr(u.z,r.u);e.insertBefore(m,e.childNodes[o.r])}return n&&Mi(e,n),e}function o$(e,r){if(e){for(var t=Zr.createDocumentFragment(),n=0;n<e.length;n++){var a=e[n],s=a.A;Mi(t,s.c===2?s.s:Pr(s.z,r.u))}return t}}function Li(e){if(e.nodeType===3)return Wa(e.textContent);if(e.nodeType!==1)return Wa("");for(var r=S,t=e.attributes,n=t.length;n--;){var a=t[n],s=a.name,o=a.value;r=hr(i(ae,s,o),r)}for(var u=e.tagName.toLowerCase(),m=S,l=e.childNodes,n=l.length;n--;)m=hr(Li(l[n]),m);return _(De,u,r,m)}function u$(e){for(var r=e.e,t=r.length,n=new Array(t),a=0;a<t;a++)n[a]=r[a].b;return{$:1,c:e.c,d:e.d,e:n,f:e.f,b:e.b}}var l$=X(function(e,r,t,n){return qi(r,n,e.c1,e.dO,e.dw,function(a,s){var o=e.dQ,u=n.node,m=Li(u);return Ku(s,function(l){var v=o(l),c=zu(m,v);u=Wu(u,m,c,a),m=v})})});X(function(e,r,t,n){return qi(r,n,e.c1,e.dO,e.dw,function(a,s){var o=e.bi&&e.bi(a),u=e.dQ,m=Zr.title,l=Zr.body,v=Li(l);return Ku(s,function(c){Qn=o;var p=u(c),f=De("body")(S)(p.cB),g=zu(v,f);l=Wu(l,v,g,a),v=f,Qn=0,m!==p.dB&&(Zr.title=m=p.dB)})})});var ea=typeof requestAnimationFrame<"u"?requestAnimationFrame:function(e){return setTimeout(e,1e3/60)};function Ku(e,r){r(e);var t=0;function n(){t=t===1?0:(ea(n),r(e),1)}return function(a,s){e=a,s?(r(e),t===2&&(t=1)):(t===0&&ea(n),t=2)}}$(function(e,r){return i(Wi,hn,Er(function(){r&&history.go(r),e()}))});$(function(e,r){return i(Wi,hn,Er(function(){history.pushState({},"",r),e()}))});$(function(e,r){return i(Wi,hn,Er(function(){history.replaceState({},"",r),e()}))});var c$={addEventListener:function(){},removeEventListener:function(){}},m$=typeof window<"u"?window:c$;A(function(e,r,t){return qu(Er(function(n){function a(s){Ii(t(s))}return e.addEventListener(r,a,Ri&&{passive:!0}),function(){e.removeEventListener(r,a)}}))});$(function(e,r){var t=Xe(e,r);return ir(t)?W(t.a):q});function Gu(e,r){return Er(function(t){ea(function(){var n=document.getElementById(e);t(n?Hr(r(n)):hv(I$(e)))})})}function v$(e){return Er(function(r){ea(function(){r(Hr(e()))})})}$(function(e,r){return Gu(r,function(t){return t[e](),Ot})});$(function(e,r){return v$(function(){return m$.scroll(e,r),Ot})});A(function(e,r,t){return Gu(e,function(n){return n.scrollLeft=r,n.scrollTop=t,Ot})});$(function(e,r){return e&r});$(function(e,r){return e|r});$(function(e,r){return e^r});$(function(e,r){return r<<e});$(function(e,r){return r>>e});$(function(e,r){return r>>>e});var Yu=1,$$=2,Xu=0,L=om,Qu=A(function(e,r,t){e:for(;;){if(t.$===-2)return r;var n=t.b,a=t.c,s=t.d,o=t.e,u=e,m=_(e,n,a,_(Qu,e,r,o)),l=s;e=u,r=m,t=l;continue e}}),at=function(e){return _(Qu,A(function(r,t,n){return i(L,y(r,t),n)}),S,e)},In=$m;A(function(e,r,t){var n=t.c,a=t.d,s=$(function(o,u){if(o.$){var l=o.a;return _(In,e,u,l)}else{var m=o.a;return _(In,s,u,m)}});return _(In,s,_(In,e,r,a),n)});var Or=function(e){return{$:1,a:e}},Ui=$(function(e,r){return{$:3,a:e,b:r}}),ko=$(function(e,r){return{$:0,a:e,b:r}}),Zu=$(function(e,r){return{$:1,a:e,b:r}}),dr=function(e){return{$:0,a:e}},f$=function(e){return{$:2,a:e}},d$=dm,W=function(e){return{$:0,a:e}},q={$:1},el=Lm,p$=vv,se=Nu,Ce=$(function(e,r){return i(Tm,e,ji(r))}),Mr=$(function(e,r){return b(i(Pm,e,r))}),rl=function(e){return i(Ce,`
    `,i(Mr,`
`,e))},$e=A(function(e,r,t){e:for(;;)if(t.b){var n=t.a,a=t.b,s=e,o=i(e,n,r),u=a;e=s,r=o,t=u;continue e}else return r}),Rr=function(e){return _($e,$(function(r,t){return t+1}),0,e)},b$=um,h$=A(function(e,r,t){e:for(;;)if(ne(e,r)<1){var n=e,a=r-1,s=i(L,r,t);e=n,r=a,t=s;continue e}else return t}),Bi=$(function(e,r){return _(h$,e,r,S)}),pr=$(function(e,r){return _(b$,e,i(Bi,0,Rr(r)-1),r)}),fn=Wm,tl=function(e){var r=fn(e);return 97<=r&&r<=122},nl=function(e){var r=fn(e);return r<=90&&65<=r},g$=function(e){return tl(e)||nl(e)},ra=function(e){var r=fn(e);return r<=57&&48<=r},_$=function(e){return tl(e)||nl(e)||ra(e)},Re=function(e){return _($e,L,S,e)},dn=Vm,y$=$(function(e,r){return`

(`+(se(e+1)+(") "+rl(E$(r))))}),E$=function(e){return i(k$,e,S)},k$=$(function(e,r){e:for(;;)switch(e.$){case 0:var t=e.a,o=e.b,n=function(){var h=dn(t);if(h.$===1)return!1;var k=h.a,x=k.a,d=k.b;return g$(x)&&i(el,_$,d)}(),a=n?"."+t:"['"+(t+"']"),m=o,l=i(L,a,r);e=m,r=l;continue e;case 1:var s=e.a,o=e.b,u="["+(se(s)+"]"),m=o,l=i(L,u,r);e=m,r=l;continue e;case 2:var v=e.a;if(v.b)if(v.b.b){var c=function(){return r.b?"The Json.Decode.oneOf at json"+i(Ce,"",Re(r)):"Json.Decode.oneOf"}(),g=c+(" failed in the following "+(se(Rr(v))+" ways:"));return i(Ce,`

`,i(L,g,i(pr,y$,v)))}else{var o=v.a,m=o,l=r;e=m,r=l;continue e}else return"Ran into a Json.Decode.oneOf with no possibilities"+function(){return r.b?" at json"+i(Ce,"",Re(r)):"!"}();default:var p=e.a,f=e.b,g=function(){return r.b?"Problem with the value at json"+(i(Ce,"",Re(r))+`:

    `):`Problem with the given value:

`}();return g+(rl(i(p$,4,f))+(`

`+p))}}),lr=32,Ga=X(function(e,r,t,n){return{$:0,a:e,b:r,c:t,d:n}}),Ya=lm,ga=Cm,ta=$(function(e,r){return fo(r)/fo(e)}),xo=km,Xa=ga(i(ta,2,lr)),x$=P(Ga,0,Xa,Ya,Ya),al=mm,C$=function(e){return{$:1,a:e}};$(function(e,r){return e(r)});var w$=$(function(e,r){return r(e)}),pn=wm,Co=cm,Ne=$(function(e,r){return ne(e,r)>0?e:r}),A$=function(e){return{$:0,a:e}},il=vm,S$=$(function(e,r){e:for(;;){var t=i(il,lr,e),n=t.a,a=t.b,s=i(L,A$(n),r);if(a.b){var o=a,u=s;e=o,r=u;continue e}else return Re(s)}}),D$=$(function(e,r){e:for(;;){var t=ga(r/lr);if(t===1)return i(il,lr,e).a;var n=i(S$,e,S),a=t;e=n,r=a;continue e}}),j$=$(function(e,r){if(r.o){var t=r.o*lr,n=pn(i(ta,lr,t-1)),a=e?Re(r.u):r.u,s=i(D$,a,r.o);return P(Ga,Co(r.t)+t,i(Ne,5,n*Xa),s,r.t)}else return P(Ga,Co(r.t),Xa,Ya,r.t)}),V$=qe(function(e,r,t,n,a){e:for(;;){if(r<0)return i(j$,!1,{u:n,o:t/lr|0,t:a});var s=C$(_(al,lr,r,e)),o=e,u=r-lr,m=t,l=i(L,s,n),v=a;e=o,r=u,t=m,n=l,a=v;continue e}}),O$=$(function(e,r){if(e<=0)return x$;var t=e%lr,n=_(al,t,e-t,r),a=e-t-lr;return T(V$,r,a,e,S,n)}),ir=function(e){return!e.$},Ae=ov,sl=uv,mr=Gm,zi=function(e){switch(e.$){case 0:return 0;case 1:return 1;case 2:return 2;default:return 3}},gr=function(e){return e},I$=gr,wo=yr(function(e,r,t,n,a,s){return{bI:s,bM:r,b$:n,b1:t,b8:e,b9:a}}),N$=Um,Te=Om,Nr=Mm,bn=$(function(e,r){return e<1?r:_(Nr,e,Te(r),r)}),_a=zm,Nt=function(e){return e===""},Et=$(function(e,r){return e<1?"":_(Nr,0,e,r)}),Hi=Hm,Ao=qe(function(e,r,t,n,a){if(Nt(a)||i(N$,"@",a))return q;var s=i(_a,":",a);if(s.b){if(s.b.b)return q;var o=s.a,u=Hi(i(bn,o+1,a));if(u.$===1)return q;var m=u;return W(ur(wo,e,i(Et,o,a),m,r,t,n))}else return W(ur(wo,e,a,q,r,t,n))}),So=X(function(e,r,t,n){if(Nt(n))return q;var a=i(_a,"/",n);if(a.b){var s=a.a;return T(Ao,e,i(bn,s,n),r,t,i(Et,s,n))}else return T(Ao,e,"/",r,t,n)}),Do=A(function(e,r,t){if(Nt(t))return q;var n=i(_a,"?",t);if(n.b){var a=n.a;return P(So,e,W(i(bn,a+1,t)),r,i(Et,a,t))}else return P(So,e,q,r,t)});$(function(e,r){if(Nt(r))return q;var t=i(_a,"#",r);if(t.b){var n=t.a;return _(Do,e,W(i(bn,n+1,r)),i(Et,n,r))}else return _(Do,e,q,r)});var q$=Bm,hn=function(e){},gn=Hr,P$=gn(0),ol=X(function(e,r,t,n){if(n.b){var a=n.a,s=n.b;if(s.b){var o=s.a,u=s.b;if(u.b){var m=u.a,l=u.b;if(l.b){var v=l.a,c=l.b,p=t>500?_($e,e,r,Re(c)):P(ol,e,r,t+1,c);return i(e,a,i(e,o,i(e,m,i(e,v,p))))}else return i(e,a,i(e,o,i(e,m,r)))}else return i(e,a,i(e,o,r))}else return i(e,a,r)}else return r}),cr=A(function(e,r,t){return P(ol,e,r,0,t)}),te=$(function(e,r){return _(cr,$(function(t,n){return i(L,e(t),n)}),S,r)}),na=Ja,Ji=$(function(e,r){return i(na,function(t){return gn(e(t))},r)}),T$=A(function(e,r,t){return i(na,function(n){return i(na,function(a){return gn(i(e,n,a))},t)},r)}),M$=function(e){return _(cr,T$(L),gn(S),e)},R$=Av,F$=$(function(e,r){var t=r;return qu(i(na,R$(e),t))}),L$=A(function(e,r,t){return i(Ji,function(n){return 0},M$(i(te,F$(e),r)))}),U$=A(function(e,r,t){return gn(0)}),B$=$(function(e,r){var t=r;return i(Ji,e,t)});Me.Task=Cv(P$,L$,U$,B$);var z$=Pi("Task"),Wi=$(function(e,r){return z$(i(Ji,e,r))}),H$=l$,aa=Vi,Cr={$:-2},bt=Cr,jo={av:S,T:bt,aQ:bt,Z:bt,ay:bt},J$=$(function(e,r){return _($e,pv(e),$v(),r)}),Jt=Oi,ul=Ru("evaluateAll",J$(Jt)),W$=function(e){return b(["informations","alimentation","transport","infrastructures","hébergement","énergie","communication"])},K$=A(function(e,r,t){var n=e(r);if(n.$)return t;var a=n.a;return i(L,a,t)}),xr=$(function(e,r){return _(cr,K$(e),S,r)}),Fr=$(function(e,r){if(r.$)return q;var t=r.a;return W(e(t))}),Ki=$(function(e,r){e:for(;;)if(r.b){var t=r.a,n=r.b;if(e(t))return!0;var a=e,s=n;e=a,r=s;continue e}else return!1}),Bt=$(function(e,r){return i(Ki,function(t){return Q(t,e)},r)}),kt=function(e){if(e.b){var r=e.a;return e.b,W(r)}else return q},ll=function(e){return i(Mr," . ",e)},oe=$(function(e,r){if(r.$)return e;var t=r.a;return t}),G$=function(e){return i(oe,e,kt(ll(e)))},cl=sm,_r=$(function(e,r){e:for(;;){if(r.$===-2)return q;var t=r.b,n=r.c,a=r.d,s=r.e,o=i(cl,e,t);switch(o){case 0:var u=e,m=a;e=u,r=m;continue e;case 1:return W(n);default:var u=e,m=s;e=u,r=m;continue e}}}),Y=qe(function(e,r,t,n,a){return{$:-1,a:e,b:r,c:t,d:n,e:a}}),xt=qe(function(e,r,t,n,a){if(a.$===-1&&!a.a){a.a;var s=a.b,o=a.c,u=a.d,m=a.e;if(n.$===-1&&!n.a){n.a;var l=n.b,v=n.c,c=n.d,p=n.e;return T(Y,0,r,t,T(Y,1,l,v,c,p),T(Y,1,s,o,u,m))}else return T(Y,e,s,o,T(Y,0,r,t,n,u),m)}else if(n.$===-1&&!n.a&&n.d.$===-1&&!n.d.a){n.a;var l=n.b,v=n.c,f=n.d;f.a;var g=f.b,h=f.c,k=f.d,x=f.e,p=n.e;return T(Y,0,l,v,T(Y,1,g,h,k,x),T(Y,1,r,t,p,a))}else return T(Y,e,r,t,n,a)}),Qa=A(function(e,r,t){if(t.$===-2)return T(Y,0,e,r,Cr,Cr);var n=t.a,a=t.b,s=t.c,o=t.d,u=t.e,m=i(cl,e,a);switch(m){case 0:return T(xt,n,a,s,_(Qa,e,r,o),u);case 1:return T(Y,n,a,r,o,u);default:return T(xt,n,a,s,o,_(Qa,e,r,u))}}),ya=A(function(e,r,t){var n=_(Qa,e,r,t);if(n.$===-1&&!n.a){n.a;var a=n.b,s=n.c,o=n.d,u=n.e;return T(Y,1,a,s,o,u)}else{var m=n;return m}}),Y$=function(e){e:for(;;)if(e.$===-1&&e.d.$===-1){var r=e.d,t=r;e=t;continue e}else return e},ml=function(e){if(e.$===-1&&e.d.$===-1&&e.e.$===-1)if(e.e.d.$===-1&&!e.e.d.a){var r=e.a,t=e.b,n=e.c,a=e.d;a.a;var s=a.b,o=a.c,u=a.d,m=a.e,l=e.e;l.a;var v=l.b,c=l.c,p=l.d;p.a;var f=p.b,g=p.c,h=p.d,k=p.e,x=l.e;return T(Y,0,f,g,T(Y,1,t,n,T(Y,0,s,o,u,m),h),T(Y,1,v,c,k,x))}else{var r=e.a,t=e.b,n=e.c,d=e.d;d.a;var s=d.b,o=d.c,u=d.d,m=d.e,D=e.e;D.a;var v=D.b,c=D.c,p=D.d,x=D.e;return T(Y,1,t,n,T(Y,0,s,o,u,m),T(Y,0,v,c,p,x))}else return e},Vo=function(e){if(e.$===-1&&e.d.$===-1&&e.e.$===-1)if(e.d.d.$===-1&&!e.d.d.a){var r=e.a,t=e.b,n=e.c,a=e.d;a.a;var s=a.b,o=a.c,u=a.d;u.a;var m=u.b,l=u.c,v=u.d,c=u.e,p=a.e,f=e.e;f.a;var g=f.b,h=f.c,k=f.d,x=f.e;return T(Y,0,s,o,T(Y,1,m,l,v,c),T(Y,1,t,n,p,T(Y,0,g,h,k,x)))}else{var r=e.a,t=e.b,n=e.c,d=e.d;d.a;var s=d.b,o=d.c,D=d.d,p=d.e,C=e.e;C.a;var g=C.b,h=C.c,k=C.d,x=C.e;return T(Y,1,t,n,T(Y,0,s,o,D,p),T(Y,0,g,h,k,x))}else return e},X$=Vt(function(e,r,t,n,a,s,o){if(s.$===-1&&!s.a){s.a;var u=s.b,m=s.c,l=s.d,v=s.e;return T(Y,t,u,m,l,T(Y,0,n,a,v,o))}else{e:for(;;)if(o.$===-1&&o.a===1)if(o.d.$===-1)if(o.d.a===1){o.a;var c=o.d;return c.a,Vo(r)}else break e;else return o.a,o.d,Vo(r);else break e;return r}}),Un=function(e){if(e.$===-1&&e.d.$===-1){var r=e.a,t=e.b,n=e.c,a=e.d,s=a.a,o=a.d,u=e.e;if(s===1){if(o.$===-1&&!o.a)return o.a,T(Y,r,t,n,Un(a),u);var m=ml(e);if(m.$===-1){var l=m.a,v=m.b,c=m.c,p=m.d,f=m.e;return T(xt,l,v,c,Un(p),f)}else return Cr}else return T(Y,r,t,n,Un(a),u)}else return Cr},Wt=$(function(e,r){if(r.$===-2)return Cr;var t=r.a,n=r.b,a=r.c,s=r.d,o=r.e;if(ne(e,n)<0)if(s.$===-1&&s.a===1){s.a;var u=s.d;if(u.$===-1&&!u.a)return u.a,T(Y,t,n,a,i(Wt,e,s),o);var m=ml(r);if(m.$===-1){var l=m.a,v=m.b,c=m.c,p=m.d,f=m.e;return T(xt,l,v,c,i(Wt,e,p),f)}else return Cr}else return T(Y,t,n,a,i(Wt,e,s),o);else return i(Q$,e,me(X$,e,r,t,n,a,s,o))}),Q$=$(function(e,r){if(r.$===-1){var t=r.a,n=r.b,a=r.c,s=r.d,o=r.e;if(Q(e,n)){var u=Y$(o);if(u.$===-1){var m=u.b,l=u.c;return T(xt,t,m,l,s,Un(o))}else return Cr}else return T(xt,t,n,a,s,i(Wt,e,o))}else return Cr}),Z$=$(function(e,r){var t=i(Wt,e,r);if(t.$===-1&&!t.a){t.a;var n=t.b,a=t.c,s=t.d,o=t.e;return T(Y,1,n,a,s,o)}else{var u=t;return u}}),ef=A(function(e,r,t){var n=r(i(_r,e,t));if(n.$)return i(Z$,e,t);var a=n.a;return _(ya,e,a,t)}),rf=$(function(e,r){return _($e,$(function(t,n){var a=G$(t);return i(Bt,a,r)?_(ef,a,function(s){if(s.$)return W(b([t]));var o=s.a;return W(i(L,t,o))},n):n}),bt,i(xr,function(t){var n=t.a,a=t.b;return i(Fr,function(s){return n},a.dj)},at(e)))}),tf=Tu,Bn=tf(S),vl=function(e){return _($e,$(function(r,t){var n=r.a,a=r.b;return _(ya,n,a,t)}),bt,e)},nf=av,$l=function(e){return i(Ae,vl,nf(e))},af=Vt(function(e,r,t,n,a,s,o){return{cO:n,cV:a,dc:o,dj:e,dx:r,dB:s,dN:t}}),sf=A(function(e,r,t){return{cv:r,dq:e,dr:t}}),of=function(e){return{$:0,a:e}},uf=function(e){return{$:2,a:e}},lf=function(e){return{$:7,a:e}},cf=function(e){return{$:1,a:e}},mf=function(e){return{$:5,a:e}},vf=function(e){return{$:6,a:e}},$f=function(e){return{$:4,a:e}},ff=function(e){return{$:3,a:e}},_e=tv,it=iv,zn=function(e){return i(it,e,mr(0))},Ir=ev,Kt=function(e){return{$:2,a:e}},fl={$:3},dl=function(e){return{$:1,a:e}},pl=function(e){return{$:0,a:e}},Gi=Ym,wr=Xm,_n=rv,qt=sv,Ie=Zm,Yi=qt(b([i(Ae,function(e){switch(e){case"oui":return Kt(!0);case"non":return Kt(!1);default:return pl(e)}},Ie),i(Ae,dl,wr),i(Ae,Kt,Gi),_n(fl)])),nr=function(e){return qt(b([_n(q),i(Ae,W,e)]))},bl=sl(w$),ia=$(function(e,r){return _(cr,_e,r,e)}),sn=Qm,df=A(function(e,r,t){var n=function(s){return qt(b([s,_n(t)]))},a=function(s){var o=i(aa,i(ia,e,sn),s);if(o.$)return mr(t);var u=o.a,m=i(aa,n(r),u);if(m.$)return i(ia,e,n(r));var l=m.a;return mr(l)};return i(it,a,sn)}),ar=X(function(e,r,t,n){return i(bl,_(df,b([e]),r,t),n)}),pf=$(function(e,r){return{cG:e,b4:r}}),gt=A(function(e,r,t){return i(bl,i(_e,e,r),t)}),bf=_(gt,"possibilités",Ir(Ie),P(ar,"choix obligatoire",nr(Ie),q,mr(pf))),hf=$(function(e,r){return{cy:r,dk:e}}),gf=$l(Yi),_f=_(gt,"avec",gf,_(gt,"règle",Ie,mr(hf)));function Gt(){return P(ar,"sinon",nr(Yt()),q,P(ar,"alors",nr(Yt()),q,P(ar,"si",nr(Yt()),q,mr(sf))))}function Yt(){return qt(b([i(Ae,of,Yi),i(Ae,cf,i(_e,"somme",Ir(Ie))),i(Ae,uf,i(_e,"moyenne",Ir(Ie))),i(Ae,ff,i(_e,"variations",Ir(zn(function(e){return Gt()})))),i(Ae,$f,i(_e,"une possibilité",bf)),i(Ae,mf,i(_e,"toutes ces conditions",Ir(zn(function(e){return Gt()})))),i(Ae,vf,i(_e,"une de ces conditions",Ir(zn(function(e){return Gt()})))),i(Ae,lf,i(_e,"recalcul",_f))]))}var yf=Gt();Gt=function(){return yf};var Za=Yt();Yt=function(){return Za};var Ef=P(ar,"note",nr(Ie),q,P(ar,"titre",nr(Ie),q,P(ar,"formule",nr(Za),q,P(ar,"par défaut",nr(Za),q,P(ar,"unité",nr(Ie),q,P(ar,"résumé",nr(Ie),q,P(ar,"question",nr(Ie),q,mr(af)))))))),kf=$l(Ef),xf=function(e){var r=i(aa,kf,e);if(r.$)return y(jo,Bn);var t=r.a,n=W$();return y(H(jo,{av:n,aQ:i(rf,t,n),Z:t}),ul(i(te,function(a){var s=a.a;return s},at(t))))},Cf=function(e){return{$:3,a:e}},wf=function(e){return{$:2,a:e}},Af=function(e){return{$:1,a:e}},Sf=Tu,sa=nv,Df=Ti("evaluatedRule",i(it,function(e){return i(it,function(r){return mr(y(e,r))},i(sa,1,sn))},i(sa,0,Ie))),jf=Ti("evaluatedRules",Ir(i(it,function(e){return i(it,function(r){return mr(y(e,r))},i(sa,1,sn))},i(sa,0,Ie)))),Vf=Ti("situationUpdated",_n(0)),Of=function(e){return Sf(b([Df(Af),jf(wf),Vf(Cf)]))},hl=A(function(e,r,t){e:for(;;){if(t.$===-2)return r;var n=t.b,a=t.c,s=t.d,o=t.e,u=e,m=_(e,n,a,_(hl,e,r,s)),l=o;e=u,r=m,t=l;continue e}}),If=A(function(e,r,t){return _(hl,A(function(n,a,s){return _(dv,e(n),r(a),s)}),fv(),t)}),Nf=Oi,qf=bv,gl=function(e){return"'"+(e+"'")},Pf=function(e){switch(e.$){case 0:var r=e.a;return Jt(gl(r));case 1:var t=e.a;return Nf(t);case 2:var n=e.a;return Jt(n?"oui":"non");default:return qf}},Tf=function(e){return _(If,gr,Pf,e)},Mf=Ru("setSituation",gr),Rf=A(function(e,r,t){return{bR:t,c8:r,ag:e}}),Ff=_(gt,"isNullable",Gi,_(gt,"missingVariables",Ir(Ie),_(gt,"nodeValue",Yi,mr(Rf)))),Oo=$(function(e,r){var t=e.a,n=e.b,a=i(aa,Ff,n);if(a.$)return r;var s=a.a;return H(r,{T:_(ya,t,s,r.T)})}),Lf=$(function(e,r){switch(e.$){case 0:var t=e.a,o=t.a,n=t.b,a=_(ya,o,n,r.ay);return y(H(r,{ay:a}),Mf(Tf(a)));case 1:var s=e.a,o=s.a,u=s.b;return y(i(Oo,y(o,u),r),Bn);case 2:var m=e.a;return y(_($e,Oo,r,m),Bn);case 3:return y(r,ul(i(te,function(l){var v=l.a;return v},at(r.Z))));default:return y(r,Bn)}}),mt=$(function(e,r){return i(Uu,e,Jt(r))}),J=mt("className"),ve=De("div"),Uf=function(e){return e.$===-2},Bf=Tv,Ia=Bf,_l=Wa,xe=_l,zf=De("ul"),Hf=mt("id"),Xi=Rm,ei=De("label"),oa=De("span"),Xt=function(e){return{$:0,a:e}},V=Nu,Yr=De("input"),yl=function(e){return{$:2,a:e}},Jf=qe(function(e,r,t,n,a){return{cM:t,bQ:r,b_:e,aP:n,aT:a}}),El=$(function(e,r){return r.b?_(cr,L,r,e):e}),kl=function(e){return i(Ce,"",e)},Wf=function(e){return b([e])},Kf=function(e){var r=i(el,function(t){return t==="0"},kl(i(El,e.bQ,Wf(e.cM))));return r?1:e.b_<0?2:0},ri=Im,Lr=function(e){return e<0?-e:e},xl=A(function(e,r,t){return e<=0?t:_(xl,e>>1,F(r,r),e&1?F(t,r):t)}),on=$(function(e,r){return _(xl,e,r,"")}),Gf=$(function(e,r){var t=Te(r),n=ne(t,e)<0?Lr(e-t):0;return F(r,i(on,n,"0"))}),ua=$(function(e,r){return e<1?r:_(Nr,0,-e,r)}),un=$(function(e,r){return e<1?"":_(Nr,-e,Te(r),r)}),Cl=function(e){return i(un,1,e)!=="0"?e:Cl(i(ua,1,e))},Yf=$(function(e,r){var t=e.cM;switch(t.$){case 1:return Cl(r);case 2:return r;default:var n=t.a;return i(Gf,n,r)}}),Xf=qm,Qf=function(e){return _(Xf,L,S,e)},Zf=$(function(e,r){var t=i(Ki,function(n){return n!=="0"&&n!=="."},Qf(r));return F(e&&t?"-":"",r)}),ti=jm,ed=Km,wl=function(e){var r=e.a,t=e.b;if(r==="9"){var n=dn(t);if(n.$===1)return"01";var a=n.a;return i(ti,"0",wl(a))}else{var s=fn(r);return s>=48&&s<57?i(ti,ed(s+1),t):"0"}},rd=xm,td=Dm,Al=function(e){return i(ti,e,"")},ni=A(function(e,r,t){return F(t,i(on,e-Te(t),Al(r)))}),Io=Nm,Sl=function(e){var r=i(Mr,".",e);if(r.b)if(r.b.b){var t=r.a,n=r.b,a=n.a;return y(t,a)}else{var t=r.a;return y(t,"0")}else return y("0","0")},nd=$(function(e,r){var t=r.a,n=r.b;return y(e(t),n)}),ad=function(e){var r=i(Mr,"e",V(Lr(e)));if(r.b)if(r.b.b){var t=r.a,n=r.b,a=n.a,s=i(oe,0,Hi(i(q$,"+",a)?i(bn,1,a):a)),o=Sl(t),u=o.a,m=o.b,l=F(u,m),v=s<0?i(oe,"0",i(Fr,function(c){var p=c.a,f=c.b;return p+("."+f)},i(Fr,nd(Al),dn(F(i(on,Lr(s),"0"),l))))):_(ni,s+1,"0",l);return F(e<0?"-":"",v)}else{var t=r.a;return F(e<0?"-":"",t)}else return""},id=A(function(e,r,t){if(rd(t)||td(t))return V(t);var n=t<0,a=Sl(ad(Lr(t))),s=a.a,o=a.b,u=Te(s)+r,m=F(i(on,-u+1,"0"),_(ni,u,"0",F(s,o))),l=Te(m),v=i(Ne,1,u),c=i(e,n,_(Nr,v,l,m)),p=_(Nr,0,v,m),f=c?Io(i(oe,"1",i(Fr,wl,dn(Io(p))))):p,g=Te(f),h=f==="0"?f:r<=0?F(f,i(on,Lr(r),"0")):ne(r,Te(o))<0?_(Nr,0,g-r,f)+("."+_(Nr,g-r,g,f)):F(s+".",_(ni,r,"0",o));return i(Zf,n,h)}),ai=id($(function(e,r){var t=dn(r);if(t.$===1)return!1;if(t.a.a==="5")return t.a.b===""?(t.a,!e):(t.a,!0);var n=t.a,a=n.a;return function(s){return s>53&&e||s>=53&&!e}(fn(a))})),sd=function(e){if(e.b){e.a;var r=e.b;return W(r)}else return q},od=$(function(e,r){var t=function(){var o=e.cM;switch(o.$){case 1:var u=o.a;return ai(u);case 0:return V;default:var m=o.a;return ai(m)}}(),n=i(Mr,".",t(r)),a=function(){var o=sd(n);if(o.$)return"";var u=o.a;return i(oe,"",kt(u))}(),s=i(oe,"",kt(n));return y(s,a)}),ud=function(e){var r=Te(e)>3?i(un,3,e):e,t=function(n){return Te(n)>2?i(L,i(un,2,n),t(i(ua,2,n))):Te(n)?b([n]):S};return Re(i(L,r,t(i(ua,3,e))))},ld=function(e){var r=function(t){return Te(t)>3?i(L,i(un,3,t),r(i(ua,3,t))):b([t])};return Re(r(e))},cd=$(function(e,r){return e?ud(i(ri,ra,r)):ld(i(ri,ra,r))}),md=$(function(e,r){var t=i(od,e,r),n=i(cd,e.aU,i(ri,ra,t.a)),a=i(Yf,e,t.b),s=T(Jf,r,n,a,"",""),o=Kf(s);switch(o){case 2:return H(s,{aP:e.ba,aT:e.bb});case 0:return H(s,{aP:e.b2,aT:e.b3});default:return H(s,{aP:e.ct,aT:e.cu})}}),vd=$(function(e,r){return r===""?"":F(e.ad,r)}),$d=$(function(e,r){var t=vd(e),n=i(Ce,e._,r.bQ),a=t(r.cM);return kl(b([r.aP,n,a,r.aT]))}),fd=$(function(e,r){return i($d,e,i(md,e,r))}),dd=function(e){return{$:0,a:e}},pd={ad:".",cM:dd(0),ba:"−",bb:"",b2:"",b3:"",aU:0,_:"",ct:"",cu:""},bd=H(pd,{ad:",",cM:yl(3),_:" "}),ii=function(e){switch(e.$){case 0:var r=e.a;return r;case 1:var t=e.a;return i(fd,H(bd,{cM:yl(1)}),t);case 2:var n=e.a;return n?"oui":"non";default:return""}},hd=function(e){return y(e,!0)},gd=function(e){return{$:1,a:e}},Dl=Lu,_d=$(function(e,r){return i(Dl,e,gd(r))}),yd=i(ia,b(["target","value"]),Ie),Gr=function(e){return i(_d,"input",i(Ae,hd,i(Ae,e,yd)))},No=De("option"),qo=mt("placeholder"),Po=De("select"),Ed=Oi,jl=$(function(e,r){return i(Uu,e,Ed(r))}),To=jl("selected"),Vl=Jm,Xr=mt("type"),Nn=mt("value"),Mo=jl("checked"),kd=function(e){return{$:0,a:e}},Ol=$(function(e,r){return i(Dl,e,kd(r))}),xd=i(ia,b(["target","checked"]),Gi),Ro=function(e){return i(Ol,"change",i(Ae,e,xd))},Fo=$(function(e,r){return i(ve,b([J("form-control")]),b([i(ei,b([J("label cursor-pointer")]),b([i(oa,b([J("label-text")]),b([xe("Oui")])),i(Yr,b([J("radio"),Xr("radio"),Mo(r),Ro(function(t){return Xt(y(e,Kt(t)))})]),S)])),i(ei,b([J("label cursor-pointer")]),b([i(oa,b([J("label-text")]),b([xe("Non")])),i(Yr,b([J("radio"),Xr("radio"),Mo(!r),Ro(function(t){return Xt(y(e,Kt(!t)))})]),S)]))]))}),Cd=$(function(e,r){var t=r.a,n=r.b,a=function(f){var g=Vl(f);if(g.$)return Nt(f)?Xt(y(t,fl)):Xt(y(t,pl(f)));var h=g.a;return Xt(y(t,dl(h)))},s=i(Fr,function(f){var g=f.ag;return g},i(_r,t,e.T)),o=we(n.cV,i(_r,t,e.ay),s);e:for(;;){r:for(;;){t:for(;;)if(o.b.$){if(o.c.$)break t;switch(o.c.a.$){case 1:if(!o.a.$&&o.a.a.$===4)break r;o.b;var u=o.c.a.a;return i(Yr,b([Xr("number"),J("input input-bordered"),qo(V(u)),Gr(a)]),S);case 0:if(!o.a.$&&o.a.a.$===4)break r;o.b;var m=o.c.a.a;return i(Yr,b([Xr("text"),J("input input-bordered"),qo(m),Gr(a)]),S);case 2:if(!o.a.$&&o.a.a.$===4)break r;o.b;var l=o.c.a.a;return i(Fo,t,l);default:if(!o.a.$&&o.a.a.$===4)break r;break t}}else switch(o.b.a.$){case 1:if(!o.a.$&&o.a.a.$===4)break e;var u=o.b.a.a;return i(Yr,b([Xr("number"),J("input input-bordered"),Nn(V(u)),Gr(a)]),S);case 0:if(!o.a.$&&o.a.a.$===4)break e;var m=o.b.a.a;return i(Yr,b([Xr("text"),J("input input-bordered"),Nn(m),Gr(a)]),S);case 2:if(!o.a.$&&o.a.a.$===4)break e;var l=o.b.a.a;return i(Fo,t,l);default:if(!o.a.$&&o.a.a.$===4)break e;break t}return i(Yr,b([Xr("number"),Gr(a)]),S)}var c=o.a.a.a.b4;o.b;var v=o.c.a;return i(Po,b([Gr(a),J("select select-bordered")]),i(te,function(g){return i(No,b([Nn(g),To(Q(ii(v),g))]),b([xe(g)]))},c))}var c=o.a.a.a.b4,p=o.b.a;return i(Po,b([Gr(a),J("select select-bordered")]),i(te,function(f){return i(No,b([Nn(f),To(Q(ii(p),gl(f)))]),b([xe(f)]))},c))}),wd=$(function(e,r){var t=r.a,n=r.b;return i(oe,xe(""),i(Fr,function(a){return i(ve,S,b([i(ei,b([J("form-control")]),b([i(ve,b([J("label")]),b([i(oa,b([J("label-text text-md font-semibold")]),b([xe(a)]))])),i(Cd,e,y(t,n))]))]))},n.dj))}),Ad=function(e){return i(ve,b([J("bg-neutral border-x border-b border-base-200 overflow-y-auto rounded-b-md h-[87vh]")]),i(te,function(r){var t=r.a,n=r.b;return i(ve,b([J("mb-8")]),b([i(ve,b([J("bg-base-100 p-4 mb-4 border-y border-base-200 sticky top-0"),Hf(t)]),b([xe(Xi(t))])),i(ve,b([J("grid grid-cols-1 lg:grid-cols-2 gap-6 px-6")]),i(xr,function(a){var s=y(i(_r,a,e.Z),i(_r,a,e.T));if(!s.a.$&&!s.b.$){var o=s.a.a,u=s.b.a;return u.bR?q:W(i(wd,e,y(a,o)))}else return q},n))]))},at(e.aQ)))},Il=De("a"),Nl=function(e){return i(mt,"href",Bv(e))},Sd=De("li"),Dd=function(e){return i(te,function(r){return i(Sd,b([J("p-1 hover:bg-base-100 rounded-lg")]),b([i(Il,b([J("tab cursor-pointer text-xs hover:text-accent"),Nl("#"+r)]),b([xe(Xi(r))]))]))},e)},Lo=$(function(e,r){if(r.$)return q;var t=r.a;return e(t)}),He=A(function(e,r,t){return r(e(t))}),jd=function(e){return{$:0,a:e}},Vd=A(function(e,r,t){return jd({f:t,bF:qe(function(n,a,s,o,u){return S}),F:i(He,e,i(He,Fr(V),oe("N/A"))),c2:r,bV:q,V:e,aD:e})}),Od=function(e){return i(Vd,i(He,e,W),S)},Id=qe(function(e,r,t,n,a){return{$:2,a:e,b:r,c:t,d:n,e:a}}),Nd=function(e){return{$:0,a:e}},qd=$(function(e,r){var t=e.b;return t(r)}),ql=qd,vr=$(function(e,r){var t=$(function(n,a){return n(a)});return _($e,t,r,e)}),Qi=$(function(e,r){return{$:0,a:e,b:r}}),Pd=$(function(e,r){var t=r;return H(t,{dF:function(n){return function(a){var s=a.a;return a.b,i(e,s,t.dF(n))}(n.H)}})}),yn=$(function(e,r){var t=r;return i(t.dI,e,t.cH)}),Td=function(e){var r=e;return r.cH.dP.at},Md=function(e){var r=e;return r.cH.dP.aE},Rd=$(function(e,r){var t=$(function(n,a){var s=a.a,o=a.b;return e(n)?y(i(L,n,s),o):y(s,i(L,n,o))});return _(cr,t,y(S,S),r)}),Fd=$(function(e,r){var t=$(function(n,a){if(n.b){var s=n.a,o=n.b,u=i(Rd,e(s),o),m=u.a,l=u.b;return i(t,l,i(L,y(s,m),a))}else return Re(a)});return i(t,r,S)}),ke=ae("class"),Pl=function(e){return _(cr,El,S,e)},Tr=$(function(e,r){return Pl(i(te,e,r))}),Ld=X(function(e,r,t,n){return{at:e,aE:r,dU:t,bs:n}}),Ur=$(function(e,r){return ne(e,r)<0?e:r}),ln=$(function(e,r){var t=$(function(n,a){if(a.$)return W(e(n));var s=a.a;return W({at:i(Ur,e(n).at,s.at),aE:i(Ne,e(n).aE,s.aE),dU:i(Ur,e(n).dU,s.dU),bs:i(Ne,e(n).bs,s.bs)})});return i(oe,P(Ld,0,0,0,0),_($e,t,q,r))}),Fe=Fu("http://www.w3.org/2000/svg"),er=Fe("g"),Ea=function(e){var r=e;return r.dF(r.cH)},Tl=De("table"),ka=function(e){var r=e;return r.dE(r.cH)},En=$(function(e,r){var t=r;return _(t.dJ,e,t.cH,i(t.dI,e,t.cH))}),Ud=$(function(e,r){var t=function(n){var a=n.a,s=n.b;return i(L,a,s)};return{cH:{H:y(e,r)},dE:function(n){return b([i(Tl,S,i(Tr,ka,t(n.H)))])},dF:function(n){return i(ln,Ea,t(n.H))},dI:$(function(n,a){return i(ln,yn(n),t(a.H))}),dJ:A(function(n,a,s){return i(er,b([ke("elm-charts__group")]),i(te,En(n),t(a.H)))})}}),Bd=$(function(e,r){var t=e.aS,n=e.aK,a=e.aJ,s=function(m){var l=m;return t(l.cH)},o=function(m){var l=m.a,v=m.b;return a(i(Ud,l,v))},u=$(function(m,l){return i(n,s(m),s(l))});return i(te,o,i(Fd,u,r))}),zd=i(Qi,yn,Bd({aJ:Pd($(function(e,r){return H(r,{at:Td(e),aE:Md(e)})})),aK:$(function(e,r){return Q(e.at,r.at)&&Q(e.aE,r.aE)&&Q(e.cR,r.cR)&&Q(e.aW,r.aW)}),aS:function(e){return{aW:e.aV.aI,cR:e.aV.cR,at:e.dP.at,aE:e.dP.aE}}})),Ml=zd,Zi={h:!1,cW:!0,af:.1,$7:0,dp:0,dt:.05,at:q,aE:q},Hd=$(function(e,r){var t=r;return{cH:{dh:e(t.cH.dh),dD:gr,aV:t.cH.aV,dP:t.cH.dP},dE:function(n){return ka(t)},dF:function(n){return t.dF(t.cH)},dI:$(function(n,a){return i(t.dI,n,t.cH)}),dJ:A(function(n,a,s){return i(En,n,t)})}}),Jd=function(e){var r=e;return function(t){var n=t.a,a=t.b;return i(L,n,a)}(r.cH.H)},Wd=function(e){var r=function(t){var n=t;return i(Hd,n.cH.dD,n)};return i(te,r,Jd(e))},Kd=Ea,Gd=$(function(e,r){var t=r;return{cH:{dh:t.cH.dh,dD:t.cH.dD,aV:t.cH.aV,dP:{cL:e(t.cH.dP.cL),c4:t.cH.dP.c4,at:t.cH.dP.at,aE:t.cH.dP.aE,cq:t.cH.dP.cq}},dE:function(n){return ka(t)},dF:function(n){return t.dF(t.cH)},dI:$(function(n,a){return i(t.dI,n,t.cH)}),dJ:A(function(n,a,s){return i(En,n,t)})}}),Yd=Pv,Xd=Yd,Qd=$(function(e,r){return{$:0,a:e,b:r}}),si=$(function(e,r){return H(r,{x:e})}),_t=$(function(e,r){return e===""?r:H(r,{b:e})}),la="#ea60df",Rl={f:S,x:"white",z:0,b:la,aY:q,cY:0,cZ:"",c_:10,P:1,$7:0,dp:0},Fl=$(function(e,r){return H(r,{$7:e})}),es=$(function(e,r){return H(r,{dp:e})}),rs=function(e){if(e.$){var t=e.a;return t}else{var r=e.a;return b([r])}},Zd="#12A5ED",Ll="#871c1c",ep="#71c614",rp="#92b42c",tp="#FF8400",np="#7b4dff",ap="#F5325B",ip=$(function(e,r){return y(e,r)}),Ul=$(function(e,r){e:for(;;){if(r.$===-2)return e;var t=r.d,n=r.e,a=i(Ul,e+1,n),s=t;e=a,r=s;continue e}}),sp=function(e){return i(Ul,0,e)},op=A(function(e,r,t){var n=vl(i(pr,ip,r)),a=sp(n),s=t%a;return i(oe,e,i(_r,s,n))}),up="#22d2ba",lp="#FFCA00",Bl=i(op,la,b([np,la,Zd,ep,ap,lp,up,tp,rp,Ll])),cp=A(function(e,r,t){var n=function(o){return i(vr,o,Rl)},a=i(vr,r,Zi),s=$(function(o,u){var m=i(Ne,a.dp,a.$7),l="Property #"+se(o+1),v=Bl(o),c=b([es(m),Fl(m),_t(v),si(v)]),p=F(c,u.f),f=n(p),g=Q(f.x,v)?F(p,b([si(f.b)])):p;return i(Qd,i(oe,l,u.bV),g)});return i(pr,function(o){return s(e+o)},i(Tr,rs,t))}),zl=function(e){return{$:1,a:e}},pe=Vt(function(e,r,t,n,a,s,o){return{$:6,a:e,b:r,c:t,d:n,e:a,f:s,g:o}}),M=$(function(e,r){return{$:1,a:e,b:r}}),ze=$(function(e,r){return{$:0,a:e,b:r}}),br=A(function(e,r,t){return ne(t,e)<0?e:ne(t,r)>0?r:t}),Qt=ae("d"),Hl=function(e){return i(Ce," ",e)},Uo=function(e){return e?"1":"0"},ft=function(e){var r=e.a,t=e.b;return V(r)+(" "+V(t))},Na=function(e){return i(Ce,",",i(te,ft,e))},mp=function(e){switch(e.$){case 0:var v=e.a,c=e.b;return"M"+ft(y(v,c));case 1:var v=e.a,c=e.b;return"L"+ft(y(v,c));case 2:var n=e.a,a=e.b,r=e.c,t=e.d,v=e.e,c=e.f;return"C"+Na(b([y(n,a),y(r,t),y(v,c)]));case 3:var n=e.a,a=e.b,v=e.c,c=e.d;return"Q"+Na(b([y(n,a),y(v,c)]));case 4:var n=e.a,a=e.b,v=e.c,c=e.d;return"Q"+Na(b([y(n,a),y(v,c)]));case 5:var v=e.a,c=e.b;return"T"+ft(y(v,c));case 6:var s=e.a,o=e.b,u=e.c,m=e.d,l=e.e,v=e.f,c=e.g;return"A "+Hl(b([ft(y(s,o)),se(u),Uo(m),Uo(l),ft(y(v,c))]));default:return"Z"}},vp={$:7},$p=yr(function(e,r,t,n,a,s){return{$:2,a:e,b:r,c:t,d:n,e:a,f:s}}),fp=X(function(e,r,t,n){return{$:3,a:e,b:r,c:t,d:n}}),dp=X(function(e,r,t,n){return{$:4,a:e,b:r,c:t,d:n}}),pp=$(function(e,r){return{$:5,a:e,b:r}}),Jl=function(e){return i(Ne,1,e.N-e.c7-e.c6)},ts=function(e){return Jl(e.cp)},kn=function(e){var r=e.A-e.I;return r>0?r:1},oi=$(function(e,r){return r*ts(e)/kn(e.cp)}),Ue=$(function(e,r){return i(oi,e,r-e.cp.I)+e.cp.c7}),ns=function(e){return Jl(e.cq)},bp=$(function(e,r){return r*ns(e)/kn(e.cq)}),Be=$(function(e,r){return i(bp,e,e.cq.A-r)+e.cq.c7}),hp=$(function(e,r){switch(r.$){case 0:var c=r.a,p=r.b;return i(ze,i(Ue,e,c),i(Be,e,p));case 1:var c=r.a,p=r.b;return i(M,i(Ue,e,c),i(Be,e,p));case 2:var a=r.a,s=r.b,t=r.c,n=r.d,c=r.e,p=r.f;return ur($p,i(Ue,e,a),i(Be,e,s),i(Ue,e,t),i(Be,e,n),i(Ue,e,c),i(Be,e,p));case 3:var a=r.a,s=r.b,c=r.c,p=r.d;return P(fp,i(Ue,e,a),i(Be,e,s),i(Ue,e,c),i(Be,e,p));case 4:var a=r.a,s=r.b,c=r.c,p=r.d;return P(dp,i(Ue,e,a),i(Be,e,s),i(Ue,e,c),i(Be,e,p));case 5:var c=r.a,p=r.b;return i(pp,i(Ue,e,c),i(Be,e,p));case 6:var o=r.a,u=r.b,m=r.c,l=r.d,v=r.e,c=r.f,p=r.g;return me(pe,o,u,m,l,v,i(Ue,e,c),i(Be,e,p));default:return vp}}),Wl=$(function(e,r){return Hl(i(te,i(He,hp(e),mp),r))}),st=ae("fill"),Kl=ae("fill-opacity"),Zt=Fe("path"),Ve=$(function(e,r){return r*kn(e.cp)/ts(e)}),Oe=$(function(e,r){return r*kn(e.cq)/ns(e)}),Ct=ae("stroke"),as=ae("stroke-opacity"),wt=ae("stroke-width"),Bo=$(function(e,r){var t=$(function(n,a){return n(a)});return _($e,t,r,e)}),Gl=Fe("circle"),Yl=ae("cx"),Xl=ae("cy"),ui=Fe("defs"),At=ae("height"),li=ae("id"),gp=Fe("line"),_p=Fe("linearGradient"),yp=ae("offset"),Ep=Fe("pattern"),kp=ae("patternTransform"),xp=ae("patternUnits"),Ql=ae("r"),dt=A(function(e,r,t){return i(Ce,r,i(Mr,e,t))}),Cp=Fe("stop"),wp=ae("stop-color"),St=ae("width"),zo=ae("x1"),Ho=ae("x2"),ca=ae("y"),Ap=ae("y1"),Jo=ae("y2"),Sp=$(function(e,r){var t=function(u){return _(dt,"(","-",_(dt,")","-",_(dt,".","-",_(dt,",","-",_(dt," ","-",i(Ce,"-",F(b(["elm-charts__pattern",function(){switch(r.$){case 0:return"striped";case 1:return"dotted";default:return"gradient"}}()]),u)))))))},n=X(function(u,m,l,v){return i(ui,S,b([i(Ep,b([li(u),xp("userSpaceOnUse"),St(V(m)),At(V(m)),kp("rotate("+(V(l)+")"))]),b([v]))]))}),a=function(){switch(r.$){case 0:var m=r.a,u=i(Bo,m,{b:e,q:45,dt:4,co:3}),v=t(b([u.b,V(u.co),V(u.dt),V(u.q)]));return y(P(n,v,u.dt,u.q,i(gp,b([zo("0"),ca("0"),Ho("0"),Jo(V(u.dt)),Ct(u.b),wt(V(u.co))]),S)),v);case 1:var m=r.a,u=i(Bo,m,{b:e,q:45,dt:4,co:3}),v=t(b([u.b,V(u.co),V(u.dt),V(u.q)]));return y(P(n,v,u.dt,u.q,i(Gl,b([st(u.b),Yl(V(u.co/3)),Xl(V(u.co/3)),Ql(V(u.co/3))]),S)),v);default:var m=r.a,l=Q(m,S)?b([e,"white"]):m,v=t(l),c=Rr(l),p=function(g){return g*100/(c-1)},f=$(function(g,h){return i(Cp,b([yp(V(p(g))+"%"),wp(h)]),S)});return y(i(ui,S,b([i(_p,b([li(v),zo("0"),Ho("0"),Ap("0"),Jo("1")]),i(pr,f,l))])),v)}}(),s=a.a,o=a.b;return y(s,"url(#"+(o+")"))}),Dp=Hv,jp=Dp,ma=A(function(e,r,t){return r(F(t,i(te,jp(hn),e)))}),Vp=ae("clip-path"),Zl=function(e){var r=i(He,V,i(dt,".","-"));return i(Ce,"_",b(["elm-charts__id",r(e.cp.N),r(e.cp.I),r(e.cp.A),r(e.cp.c7),r(e.cp.c6),r(e.cq.N),r(e.cq.I),r(e.cq.A),r(e.cq.c7),r(e.cq.c6)]))},cn=function(e){return Vp("url(#"+(Zl(e)+")"))},ec=A(function(e,r,t){var n=yr(function(I,z,N,R,ee,G){return P(ma,r.f,Zt,b([ke("elm-charts__bar"),st(I),Kl(V(z)),Ct(N),wt(V(R)),as(V(ee)),Qt(i(Wl,e,G)),cn(e)]),S)}),a=r.cZ===""?r.b:r.cZ,s=i(Oe,e,r.z/2),o=s+i(Oe,e,r.c_/2),u=i(Ve,e,r.z/2),m=u+i(Ve,e,r.c_/2),l={at:i(Ur,t.at,t.aE)+u,aE:i(Ne,t.at,t.aE)-u,dU:i(Ur,t.dU,t.bs)+s,bs:i(Ne,t.dU,t.bs)-s},v=Lr(l.bs-l.dU),c={at:l.at-m,aE:l.aE+m,dU:l.dU-o,bs:l.bs+o},p=Lr(l.aE-l.at),f=i(oi,e,p)*.5*_(br,0,1,r.$7),g=i(Ve,e,f),h=i(Oe,e,f),k=i(oi,e,p)*.5*_(br,0,1,r.dp),x=i(Ve,e,k),d=i(Oe,e,k),D=v-d*.8-h*.8<=0||p-x*.8-g*.8<=0?y(0,0):y(r.dp,r.$7),C=D.a,w=D.b,Z=function(){if(Q(l.dU,l.bs))return y(S,S);var I=y(C>0,w>0);return I.a?I.b?y(b([i(ze,l.at+g,l.dU),me(pe,f,f,-45,!1,!0,l.at,l.dU+h),i(M,l.at,l.bs-d),me(pe,k,k,-45,!1,!0,l.at+x,l.bs),i(M,l.aE-x,l.bs),me(pe,k,k,-45,!1,!0,l.aE,l.bs-d),i(M,l.aE,l.dU+h),me(pe,f,f,-45,!1,!0,l.aE-g,l.dU),i(M,l.at+g,l.dU)]),b([i(ze,c.at+g,c.dU),me(pe,f,f,-45,!1,!0,c.at,c.dU+h),i(M,c.at,c.bs-d),me(pe,k,k,-45,!1,!0,c.at+x,c.bs),i(M,c.aE-x,c.bs),me(pe,k,k,-45,!1,!0,c.aE,c.bs-d),i(M,c.aE,c.dU+h),me(pe,f,f,-45,!1,!0,c.aE-g,c.dU),i(M,c.at+g,c.dU),i(M,l.aE-g,l.dU),me(pe,f,f,-45,!1,!1,l.aE,l.dU+h),i(M,l.aE,l.bs-d),me(pe,k,k,-45,!1,!1,l.aE-x,l.bs),i(M,l.at+x,l.bs),me(pe,k,k,-45,!1,!1,l.at,l.bs-d),i(M,l.at,l.dU+h),i(M,l.aE,l.dU)])):y(b([i(ze,l.at,l.dU),i(M,l.at,l.bs-d),me(pe,k,k,-45,!1,!0,l.at+x,l.bs),i(M,l.aE-x,l.bs),me(pe,k,k,-45,!1,!0,l.aE,l.bs-d),i(M,l.aE,l.dU),i(M,l.at,l.dU)]),b([i(ze,c.at,l.dU),i(M,c.at,c.bs-d),me(pe,k,k,-45,!1,!0,c.at+x,c.bs),i(M,c.aE-x,c.bs),me(pe,k,k,-45,!1,!0,c.aE,c.bs-d),i(M,c.aE,l.dU),i(M,l.aE,l.dU),i(M,l.aE,l.bs-d),me(pe,k,k,-45,!1,!1,l.aE-x,l.bs),i(M,l.at+x,l.bs),me(pe,k,k,-45,!1,!1,l.at,l.bs-d),i(M,l.at,l.dU)])):I.b?y(b([i(ze,l.at+g,l.dU),me(pe,f,f,-45,!1,!0,l.at,l.dU+h),i(M,l.at,l.bs),i(M,l.aE,l.bs),i(M,l.aE,l.dU+h),me(pe,f,f,-45,!1,!0,l.aE-g,l.dU),i(M,l.at+g,l.dU)]),b([i(ze,c.at+g,c.dU),me(pe,f,f,-45,!1,!0,c.at,c.dU+h),i(M,c.at,c.bs),i(M,c.aE,c.bs),i(M,c.aE,c.dU+h),me(pe,f,f,-45,!1,!0,c.aE-g,c.dU),i(M,c.at+g,c.dU),i(M,l.aE-g,l.dU),me(pe,f,f,-45,!1,!1,l.aE,l.dU+h),i(M,l.aE,l.bs),i(M,l.at,l.bs),i(M,l.at,l.dU+h),i(M,l.aE,l.dU)])):y(b([i(ze,l.at,l.dU),i(M,l.at,l.bs),i(M,l.aE,l.bs),i(M,l.aE,l.dU),i(M,l.at,l.dU)]),b([i(ze,c.at,l.dU),i(M,c.at,c.bs),i(M,c.aE,c.bs),i(M,c.aE,l.dU),i(M,l.aE,l.dU),i(M,l.aE,l.bs),i(M,l.at,l.bs),i(M,l.at,l.dU)]))}(),be=Z.a,ie=Z.b,ce=function(I){return r.cY?i(er,b([ke("elm-charts__bar-with-highlight")]),b([ur(n,a,r.cY,"transparent",0,0,ie),ur(n,I,r.P,r.x,r.z,1,be)])):ur(n,I,r.P,r.x,r.z,1,be)},Je=r.aY;if(Je.$===1)return ce(r.b);var Pe=Je.a,E=i(Sp,r.b,Pe),j=E.a,O=E.b;return i(er,b([ke("elm-charts__bar-with-pattern")]),b([j,ce(O)]))}),Op=Mv,le=Op,Ip=$(function(e,r){return i(oe,"Property #"+se(e+1),r)}),Wo=De("td"),Np=De("tr"),qp=A(function(e,r,t){return i(Np,S,b([i(Wo,b([i(le,"color",e),i(le,"padding","0"),i(le,"padding-right","3px")]),b([xe(r+":")])),i(Wo,b([i(le,"text-align","right"),i(le,"padding","0")]),b([xe(t)]))]))}),Pp=$(function(e,r){var t=X(function(n,a,s,o){e:for(;;)if(o.b)if(o.b.b){var u=o.a,m=o.b,l=m.a,v=m.b,c=n+1,p=W(u),f=F(s,b([P(r,n,a,u,W(l))])),g=i(L,l,v);n=c,a=p,s=f,o=g;continue e}else{var u=o.a;return F(s,b([P(r,n,a,u,q)]))}else return s});return P(t,0,q,S,e)}),Tp=X(function(e,r,t,n){var a=function(l){return i(vr,l,Rl)},s=i(vr,r,Zi),o=Vt(function(l,v,c,p,f,g,h){var k=p.aD(h.cL),x=p.V(h.cL),d=h.bp,D=Rr(l),C=s.cW?Rr(t):1,w=D>1?Ne(0):gr,Z=w(i(oe,0,k)-i(oe,0,x)),be=w(i(oe,0,k)),ie=D===1,ce=Q(c,D-1),Je=ie||ce?s.dp:0,Pe=!c,E=ie||Pe?s.$7:0,j=h.bC,O=j-d,I=O*s.af,z=O*s.dt,N=(O-I*2-(C-1)*z)/C,R=s.cW?v*N+v*z:0,ee=d+I+R,G=d+I+R+N,B=Bl(f),he=b([es(Je),Fl(E),_t(B),si(B)]),We=F(he,F(p.f,T(p.bF,v,c,g,p.bV,h.cL))),Ke=a(We),Se=function(ue){return Q(ue.x,B)?H(ue,{x:ue.b}):ue}(function(ue){var ge=ue.aY;if(!ge.$&&ge.a.$===2&&ge.a.a.b){var Ge=ge.a.a,tr=Ge.a;return Q(ue.b,B)?H(ue,{b:tr}):ue}else return ue}(Ke));return{cH:{dh:Se,dD:zl,aV:{x:Se.x,z:Se.z,b:Se.b,aI:g,cR:e,bH:p.F(h.cL),c0:f,db:p.bV,di:v,du:c},dP:{cL:h.cL,c4:function(){return!x.$}(),at:d,aE:j,cq:i(oe,0,x)}},dE:function(ue){return b([_(qp,ue.aV.b,i(Ip,f,ue.aV.db),p.F(h.cL))])},dF:function(ue){return{at:ee,aE:G,dU:i(Ur,Z,be),bs:i(Ne,Z,be)}},dI:$(function(ue,ge){return{at:ee,aE:G,dU:Z,bs:be}}),dJ:A(function(ue,ge,Ge){return _(ec,ue,Se,Ge)})}}),u=yr(function(l,v,c,p,f,g){var h=i(pr,T(o,v,c,p,f,g),l);if(h.b){var k=h.a,x=h.b;return W({cH:{H:y(k,x)},dE:function(d){return b([i(Tl,b([i(le,"margin","0")]),i(Tr,ka,function(D){var C=D.a,w=D.b;return i(L,C,w)}(d.H)))])},dF:function(d){return i(ln,Ea,function(D){var C=D.a,w=D.b;return i(L,C,w)}(d.H))},dI:$(function(d,D){return i(ln,yn(d),function(C){var w=C.a,Z=C.b;return i(L,w,Z)}(D.H))}),dJ:A(function(d,D,C){return i(er,b([ke("elm-charts__bar-series")]),i(te,En(d),function(w){var Z=w.a,be=w.b;return i(L,Z,be)}(D.H)))})})}else return q}),m=X(function(l,v,c,p){var f=y(s.at,s.aE);if(f.a.$===1){if(f.b.$===1)return f.a,f.b,{cL:c,bC:l+1+.5,bp:l+1-.5};f.a;var g=f.b.a,h=y(v,p);if(h.a.$){if(h.b.$)return h.a,h.b,{cL:c,bC:g(c),bp:g(c)-1};h.a;var x=h.b.a;return{cL:c,bC:g(c),bp:g(c)-(g(x)-g(c))}}else{var k=h.a.a;return{cL:c,bC:g(c),bp:g(k)}}}else if(f.b.$===1){var d=f.a.a;f.b;var D=y(v,p);if(D.b.$){if(D.a.$)return D.a,D.b,{cL:c,bC:d(c)+1,bp:d(c)};var k=D.a.a;return D.b,{cL:c,bC:d(c)+(d(c)-d(k)),bp:d(c)}}else{var x=D.b.a;return{cL:c,bC:d(x),bp:d(c)}}}else{var d=f.a.a,g=f.b.a;return{cL:c,bC:g(c),bp:d(c)}}});return function(l){return i(xr,gr,i(pr,$(function(v,c){return c(e+v)}),Pl(i(pr,$(function(v,c){return i(pr,_(u,l,c,v),Re(c))}),i(te,rs,t)))))}(i(Pp,n,m))}),Mp=X(function(e,r,t,n){return Nd(function(a){var s=_(cp,a,r,t),o=P(Tp,a,r,t,n),u=i(te,Gd(e),i(Tr,Wd,o)),m=i(ql,Ml,u),l=i(te,Ea,m),v=i(vr,r,Zi),c=$(function(p,f){return H(f,{C:F(f.C,v.h?i(Tr,i(He,Kd,function(g){return b([g.at,g.aE])}),m):S)})});return y(T(Id,l,u,s,c,function(p){return i(Xd,hn,i(er,b([ke("elm-charts__bar-series")]),i(te,En(p),o)))}),a+Rr(i(Tr,rs,t)))})}),Rp=A(function(e,r,t){return P(Mp,gr,e,r,t)}),Fp=$(function(e,r){var t=e.a,n=e.b;r.a;var a=r.b;return i(Qi,t,function(s){return n(a(s))})}),Lp=Fp,Up=function(e){var r=e,t=r.cH.dh;if(t.$===1){var n=t.a;return W({cH:{dh:n,dD:zl,aV:r.cH.aV,dP:r.cH.dP},dE:function(a){return r.dE(r.cH)},dF:function(a){return r.dF(r.cH)},dI:$(function(a,s){return i(r.dI,a,r.cH)}),dJ:$(function(a,s){return i(ec,a,s.dh)})})}else return q},Bp=i(Qi,yn,xr(Up)),zp=Bp,Le={k:q,f:S,x:"white",z:0,b:"#808BAB",l:q,m:q,n:!1,q:0,s:!1,i:0,j:0},Hp=function(e){return{cp:e.at+(e.aE-e.at)/2,cq:e.dU}},Jp=function(e){return i(He,yn(e),Hp)},Wp={k:Le.k,f:Le.f,x:Le.x,z:Le.z,b:Le.b,l:Le.l,m:Le.m,F:q,n:Le.n,y:Jp,q:Le.q,s:Le.s,i:Le.i,j:Le.j},Kp=function(e){return{$:10,a:e}},Gp=$(function(e,r){return Kp($(function(t,n){var a=i(ql,e,n);return i(Tr,r(t),a)}))}),Yp=function(e){var r=e;return r.cH.dP.cL},Xp=function(e){var r=e;return function(t){var n=t.a;return t.b,Yp(n)}(r.cH.H)},Qp=Xp,Zp=$(function(e,r){return i(ae,Uv(e),zv(r))}),eb=Zp,rb=Fe("foreignObject"),ci=ae("transform"),Ko=yr(function(e,r,t,n,a,s){return ci("translate("+(V(i(Ue,e,t)+a)+(","+(V(i(Be,e,n)+s)+(") rotate("+(V(r)+")"))))))}),rc=ae("style"),tb=Fe("text"),nb=Fe("tspan"),tc=X(function(e,r,t,n){var a=r.l;if(a.$===1){var s=function(c){return r.n?i(er,b([cn(e)]),b([c])):c},o=r.s?"text-transform: uppercase;":"",u=function(){var c=r.m;if(c.$)return"";var p=c.a;return"font-size: "+(se(p)+"px;")}(),m=function(){var c=r.k;if(c.$===1)return"text-anchor: middle;";switch(c.a){case 0:return c.a,"text-anchor: end;";case 1:return c.a,"text-anchor: start;";default:return c.a,"text-anchor: middle;"}}();return s(P(ma,r.f,tb,b([ke("elm-charts__label"),Ct(r.x),wt(V(r.z)),st(r.b),ur(Ko,e,-r.q,n.cp,n.cq,r.i,r.j),rc(i(Ce," ",b(["pointer-events: none;",u,m,o])))]),b([i(nb,S,t)])))}else{var l=a.a,v=function(){var h=r.k;if(h.$===1)return r.i-l.co/2;switch(h.a){case 0:return h.a,r.i-l.co;case 1:return h.a,r.i;default:return h.a,r.i-l.co/2}}(),s=function(h){return r.n?i(er,b([cn(e)]),b([h])):h},o=r.s?i(le,"text-transform","uppercase"):i(le,"",""),u=function(){var h=r.m;if(h.$)return i(le,"","");var k=h.a;return i(le,"font-size",se(k)+"px")}(),m=function(){var h=r.k;if(h.$===1)return i(le,"text-align","center");switch(h.a){case 0:return h.a,i(le,"text-align","right");case 1:return h.a,i(le,"text-align","left");default:return h.a,i(le,"text-align","center")}}();return s(P(ma,r.f,rb,b([ke("elm-charts__label"),ke("elm-charts__html-label"),St(V(l.co)),At(V(l.bK)),ur(Ko,e,-r.q,n.cp,n.cq,v,r.j-10)]),b([i(ve,b([i(eb,"xmlns","http://www.w3.org/1999/xhtml"),i(le,"white-space","nowrap"),i(le,"overflow","hidden"),i(le,"text-overflow","ellipsis"),i(le,"height","100%"),i(le,"pointer-events","none"),i(le,"color",r.b),u,o,m]),t)])))}}),ab=function(e){return{$:12,a:e}},ib=function(e){return ab(function(r){return e(r)})},va=_l,sb=function(e){return{k:e.k,f:e.f,x:e.x,z:e.z,b:e.b,l:e.l,m:e.m,n:e.n,q:e.q,s:e.s,i:e.i,j:e.j}},ob=$(function(e,r){return i(Gp,i(Lp,Ml,zp),$(function(t,n){var a=i(vr,r,Wp),s=function(){var o=a.F;if(o.$)return e(Qp(n));var u=o.a;return u(n)}();return b([ib(function(o){return P(tc,t,sb(a),b([va(s)]),i(a.y,t,n))})])}))}),ub=Ll,lb=$(function(e,r){return{bJ:r,db:e}}),cb=Fe("clipPath"),nc=lv,mb=i(_e,"offsetHeight",wr),vb=i(_e,"offsetWidth",wr),$b=cv,fb=i(_e,"offsetLeft",wr),db=$(function(e,r){return qt(b([i(_e,"offsetParent",_n(e)),i(_e,"offsetParent",r)]))}),pb=i(_e,"offsetTop",wr),bb=i(_e,"scrollLeft",wr),hb=i(_e,"scrollTop",wr),ac=$(function(e,r){return i(it,function(t){var n=t.a,a=t.b;return i(db,y(n,a),i(ac,n,a))},T($b,X(function(t,n,a,s){return y(e+a-t,r+s-n)}),bb,hb,fb,pb))}),gb=P(nc,A(function(e,r,t){var n=e.a,a=e.b;return{bK:t,c5:n,dM:a,co:r}}),i(ac,0,0),vb,mb),_b=function(e){return i(_e,"parentElement",e)};function is(){return qt(b([gb,zn(function(e){return _b(is())})]))}var ic=is();is=function(){return ic};var yb=$(function(e,r){return i(Ve,e,r-e.cp.c7)+e.cp.I}),Eb=$(function(e,r){return kn(e.cq)-i(Oe,e,r-e.cq.c7)+e.cq.I}),kb=$(function(e,r){return{cp:i(yb,e,r.cp),cq:i(Eb,e,r.cq)}}),xb=function(e){return i(_e,"target",e)},Cb=$(function(e,r){var t=A(function(n,a,s){var o=e.cq,u=e.cp,m=s.co/e.cp.N,l=s.bK/e.cq.N,v=H(e,{cp:H(u,{N:s.co,c6:e.cp.c6*m,c7:e.cp.c7*m}),cq:H(o,{N:s.bK,c6:e.cq.c6*l,c7:e.cq.c7*l})}),c=i(kb,v,{cp:n-s.c5,cq:a-s.dM});return i(r,v,c)});return P(nc,t,i(_e,"pageX",wr),i(_e,"pageY",wr),xb(ic))}),wb=Ol,$a=Fe("rect"),Ab=Fe("svg"),Sb=ae("viewBox"),mi=ae("x"),Db=qe(function(e,r,t,n,a){var s=function(g){return i(wb,g.db,i(Cb,e,g.bJ))},o=r.aR?b([Sb("0 0 "+(V(e.cp.N)+(" "+V(e.cq.N)))),i(le,"display","block")]):b([St(V(e.cp.N)),At(V(e.cq.N)),i(le,"display","block")]),u=r.aR?b([i(le,"width","100%"),i(le,"height","100%")]):b([i(le,"width",V(e.cp.N)+"px"),i(le,"height",V(e.cq.N)+"px")]),m=b([J("elm-charts__container-inner")]),l=F(r.aM,F(m,u)),v=b([mi(V(e.cp.c7)),ca(V(e.cq.c7)),St(V(ts(e))),At(V(ns(e))),st("transparent")]),c=i(ui,S,b([i(cb,b([li(Zl(e))]),b([i($a,v,S)]))])),p=i($a,F(v,i(te,s,r.aL)),S),f=i(Ab,F(o,r.f),F(b([c]),F(n,b([p]))));return i(ve,b([J("elm-charts__container"),i(le,"position","relative")]),b([i(ve,l,F(t,F(b([f]),a)))]))}),sc=A(function(e,r,t){return H(t,{I:_(r,e,t.I,t.cK)})}),jb=A(function(e,r,t){return ne(r,e)>0?e:r}),Vb=$(function(e,r){var t=i(Ne,1,e.co-e.R.c5-e.R.dn),n=qe(function(x,d,D,C,w){return{cJ:w,cK:C,N:x,c6:D,c7:d,A:w,I:C}}),a=i(Ne,1,e.bK-e.R.cC-e.R.dM),s=function(x){return Q(x.I,x.A)?H(x,{A:x.I+10}):x},o=$(function(x,d){switch(x.$){case 0:return d;case 1:var D=x.a;return F(d,D);case 2:var D=x.a;return F(d,D);case 3:return d;case 4:return d;case 5:return d;case 6:return d;case 7:return d;case 8:return d;case 9:return d;case 10:return d;case 11:var C=x.a;return _($e,o,d,C);case 12:return d;default:return d}}),u=function(x){return function(d){var D=d.cp,C=d.cq;return{cp:s(D),cq:s(C)}}({cp:T(n,t,e.af.c5,e.af.dn,x.at,x.aE),cq:T(n,a,e.af.dM,e.af.cC,x.dU,x.bs)})}(i(ln,gr,_($e,o,S,r))),m=function(){var x=e.bf;if(x.b){var d=x;return _($e,$(function(D,C){return D(C)}),u.cp,d)}else return u.cp}(),l=function(){var x=e.aZ;if(x.b){var d=x;return _($e,$(function(D,C){return D(C)}),u.cq,d)}else return _(sc,0,jb,u.cq)}(),v={cp:m,cq:l},c=Ve(v),p=m.A+c(e.R.dn),f=m.I-c(e.R.c5),g=Oe(v),h=l.A+g(e.R.dM),k=l.I-g(e.R.cC);return{cp:H(m,{N:e.co,A:i(Ne,f,p),I:i(Ur,f,p)}),cq:H(l,{N:e.bK,A:i(Ne,k,h),I:i(Ur,k,h)})}}),Ob=$(function(e,r){var t=$(function(n,a){switch(n.$){case 0:return a;case 1:var s=n.b;return F(a,s);case 2:var s=n.b;return F(a,s);case 3:var o=n.a;return F(a,b([o]));case 4:return n.a,a;case 5:return a;case 6:return a;case 7:return a;case 8:return a;case 9:return a;case 10:return a;case 11:var u=n.a;return _($e,t,a,u);case 12:return a;default:return a}});return _($e,t,S,r)}),Ib=function(e){var r=$(function(t,n){switch(t.$){case 0:return n;case 1:var a=t.c;return F(n,a);case 2:var a=t.c;return F(n,a);case 3:return n;case 4:return n;case 5:return n;case 6:return n;case 7:return n;case 8:return n;case 9:return n;case 10:return n;case 11:var s=t.a;return _($e,r,n,s);case 12:return n;default:return n}});return _($e,r,S,e)},Nb=X(function(e,r,t,n){return{aF:e,C:t,aG:r,J:n}}),qb=A(function(e,r,t){var n=$(function(a,s){switch(a.$){case 0:return s;case 1:return s;case 2:var u=a.d;return i(u,e,s);case 3:var u=a.b;return s;case 4:var u=a.a;return i(u,e,s);case 5:var u=a.a;return i(u,e,s);case 6:var o=a.a,u=a.b;return _(u,e,o(e),s);case 7:var o=a.a,u=a.b;return _(u,e,o(e),s);case 8:var o=a.a,u=a.b;return _(u,e,o(e),s);case 10:var u=a.a;return _($e,n,s,i(u,e,r));case 9:return s;case 11:var m=a.a;return _($e,n,s,m);case 12:return s;default:return s}});return _($e,n,P(Nb,S,S,S,S),t)}),Pb=function(e){return{$:9,a:e}},Tb=function(e){return H(e,{ap:W(0)})},Mb="rgb(200 200 200)",Go=$(function(e,r){return H(r,{aH:e})}),Rb={x:"",z:0,b:la,n:!1,cY:0,cZ:"",c_:5,P:1,ap:q,ds:6},Fb=A(function(e,r,t){return Q(_(br,e.cp.I,e.cp.A,r),r)&&Q(_(br,e.cq.I,e.cq.A,t),t)}),vi=hm,qr=Sm,Yo=X(function(e,r,t,n){var a=qr(e/4)+r,s=a/2,o=a;return i(Ce," ",b(["M"+(V(t-s)+(" "+V(n-o-s+r))),"v"+V(o-r),"h"+V(-o+r),"v"+V(o),"h"+V(o-r),"v"+V(o-r),"h"+V(o),"v"+V(-o+r),"h"+V(o-r),"v"+V(-o),"h"+V(-o+r),"v"+V(-o+r),"h"+V(-o),"v"+V(o-r)]))}),oc=function(e){return e*vi/180},Lb=Em,Ub=X(function(e,r,t,n){var a=qr(e*4/qr(3))+r*qr(3),s=qr(3)*a/2,o=s-Lb(oc(30))*a/2;return i(Ce," ",b(["M"+(V(t)+(" "+V(n-o))),"l"+(V(-a/2)+(" "+V(s))),"h"+V(a),"z"]))}),Bb=qe(function(e,r,t,n,a){var s=t(a),o=i(Be,e,s),u=r(a),m=i(Ue,e,u),l=b([Ct(n.x===""?n.b:n.x),wt(V(n.z)),Kl(V(n.P)),st(n.b),ke("elm-charts__dot"),n.n?cn(e):ke("")]),v=_(Fb,e,u,s)||n.n,c=n.cZ===""?n.b:n.cZ,p=b([Ct(c),wt(V(n.c_)),as(V(n.cY)),st("transparent"),ke("elm-charts__dot-highlight")]),f=A(function(k,x,d){return n.cY>0?i(er,b([ke("elm-charts__dot-container")]),b([i(k,F(d(x),p),S),i(k,F(d(0),l),S)])):i(k,F(d(0),l),S)}),g=2*vi*n.ds;if(v){var h=n.ap;if(h.$===1)return va("");switch(h.a){case 0:return h.a,_(f,Gl,n.c_/2,function(k){var x=qr(g/vi);return b([Yl(V(m)),Xl(V(o)),Ql(V(x+k))])});case 1:return h.a,_(f,Zt,n.c_,function(k){return b([Qt(P(Ub,g,k,m,o))])});case 2:return h.a,_(f,$a,n.c_,function(k){var x=qr(g),d=x+k;return b([mi(V(m-d/2)),ca(V(o-d/2)),St(V(d)),At(V(d))])});case 3:return h.a,_(f,$a,n.c_,function(k){var x=qr(g),d=x+k;return b([mi(V(m-d/2)),ca(V(o-d/2)),St(V(d)),At(V(d)),ci("rotate(45 "+(V(m)+(" "+(V(o)+")"))))])});case 4:return h.a,_(f,Zt,n.c_,function(k){return b([Qt(P(Yo,g,k,m,o)),ci("rotate(45 "+(V(m)+(" "+(V(o)+")"))))])});default:return h.a,_(f,Zt,n.c_,function(k){return b([Qt(P(Yo,g,k,m,o))])})}}else return va("")}),zb=X(function(e,r,t,n){return P(Bb,e,r,t,i(vr,n,Rb))}),Hb="#EFF2FA",Jb={f:S,cD:!1,b:"rgb(210, 210, 210)",aH:S,g:!1,n:!1,P:1,dy:-90,dz:0,co:1,at:q,aE:q,dT:q,i:0,dU:q,bs:q,dV:q,j:0},Wb=_m,qa=Ve,Pa=Oe,Kb=ym,Gb=ae("stroke-dasharray"),Yb=$(function(e,r){var t=oc(r.dy),n=function(){var d=we(y(r.at,r.aE),y(r.dU,r.bs),y(r.dT,r.dV));if(d.a.a.$)if(d.a.b.$)if(d.b.a.$)if(d.b.b.$){var vo=d.a;vo.a,vo.b;var $o=d.b;return $o.a,$o.b,y(y(e.cp.I,e.cp.A),y(e.cq.I,e.cq.A))}else{var co=d.a;co.a,co.b;var mo=d.b;mo.a;var w=mo.b.a;return y(y(e.cp.I,e.cp.A),y(w,w))}else if(d.b.b.$){var uo=d.a;uo.a,uo.b;var lo=d.b,C=lo.a.a;return lo.b,y(y(e.cp.I,e.cp.A),y(C,C))}else{var so=d.a;so.a,so.b;var oo=d.b,C=oo.a.a,w=oo.b.a;return y(y(e.cp.I,e.cp.I),y(C,w))}else if(d.b.a.$===1)if(d.b.b.$===1){var Os=d.a;Os.a;var w=Os.b.a,Is=d.b;return Is.a,Is.b,y(y(w,w),y(e.cq.I,e.cq.A))}else if(d.c.a.$)if(d.c.b.$===1){var Fs=d.a;Fs.a;var C=Fs.b.a,Ls=d.b;Ls.a;var w=Ls.b.a,Us=d.c;return Us.a,Us.b,y(y(C,e.cp.A),y(w,w))}else{var Bs=d.a;Bs.a;var C=Bs.b.a,zs=d.b;zs.a;var w=zs.b.a,Hs=d.c;Hs.a;var R=Hs.b.a;return y(y(C,C),y(w,w+i(Oe,e,R)))}else if(d.c.b.$){var Ts=d.a;Ts.a;var C=Ts.b.a,Ms=d.b;Ms.a;var w=Ms.b.a,Rs=d.c,N=Rs.a.a;return Rs.b,y(y(C,C+i(Ve,e,N)),y(w,w))}else{var Ns=d.a;Ns.a;var C=Ns.b.a,qs=d.b;qs.a;var w=qs.b.a,Ps=d.c,N=Ps.a.a,R=Ps.b.a;return y(y(C,C+i(Ve,e,N)),y(w,w+i(Oe,e,R)))}else if(d.b.b.$)if(d.c.a.$)if(d.c.b.$===1){var eo=d.a;eo.a;var C=eo.b.a,ro=d.b,w=ro.a.a;ro.b;var to=d.c;return to.a,to.b,y(y(C,e.cp.A),y(w,w))}else{var no=d.a;no.a;var C=no.b.a,ao=d.b,w=ao.a.a;ao.b;var io=d.c;io.a;var R=io.b.a;return y(y(C,C),y(w,w+i(Oe,e,R)))}else if(d.c.b.$){var Xs=d.a;Xs.a;var C=Xs.b.a,Qs=d.b,w=Qs.a.a;Qs.b;var Zs=d.c,N=Zs.a.a;return Zs.b,y(y(C,C+i(Ve,e,N)),y(w,w))}else{var Ks=d.a;Ks.a;var C=Ks.b.a,Gs=d.b,w=Gs.a.a;Gs.b;var Ys=d.c,N=Ys.a.a,R=Ys.b.a;return y(y(C,C+i(Ve,e,N)),y(w,w+i(Oe,e,R)))}else{var Js=d.a;Js.a;var ce=Js.b.a,Ws=d.b,C=Ws.a.a,w=Ws.b.a;return y(y(ce,ce),y(C,w))}else if(d.a.b.$)if(d.b.a.$===1)if(d.b.b.$===1){var E=d.a,C=E.a.a;E.b;var j=d.b;return j.a,j.b,y(y(C,C),y(e.cq.I,e.cq.A))}else if(d.c.a.$)if(d.c.b.$===1){var he=d.a,C=he.a.a;he.b;var We=d.b;We.a;var w=We.b.a,Ke=d.c;return Ke.a,Ke.b,y(y(C,e.cp.A),y(w,w))}else{var Se=d.a,C=Se.a.a;Se.b;var ue=d.b;ue.a;var w=ue.b.a,ge=d.c;ge.a;var R=ge.b.a;return y(y(C,C),y(w,w+i(Oe,e,R)))}else if(d.c.b.$){var ee=d.a,C=ee.a.a;ee.b;var G=d.b;G.a;var w=G.b.a,B=d.c,N=B.a.a;return B.b,y(y(C,C+i(Ve,e,N)),y(w,w))}else{var O=d.a,C=O.a.a;O.b;var I=d.b;I.a;var w=I.b.a,z=d.c,N=z.a.a,R=z.b.a;return y(y(C,C+i(Ve,e,N)),y(w,w+i(Oe,e,R)))}else if(d.b.b.$)if(d.c.a.$)if(d.c.b.$===1){var ws=d.a,C=ws.a.a;ws.b;var As=d.b,w=As.a.a;As.b;var Ss=d.c;return Ss.a,Ss.b,y(y(C,e.cp.A),y(w,w))}else{var Ds=d.a,C=Ds.a.a;Ds.b;var js=d.b,w=js.a.a;js.b;var Vs=d.c;Vs.a;var R=Vs.b.a;return y(y(C,C),y(w,w+i(Oe,e,R)))}else if(d.c.b.$){var ks=d.a,C=ks.a.a;ks.b;var xs=d.b,w=xs.a.a;xs.b;var Cs=d.c,N=Cs.a.a;return Cs.b,y(y(C,C+i(Ve,e,N)),y(w,w))}else{var Sr=d.a,C=Sr.a.a;Sr.b;var Kr=d.b,w=Kr.a.a;Kr.b;var Vn=d.c,N=Vn.a.a,R=Vn.b.a;return y(y(C,C+i(Ve,e,N)),y(w,w+i(Oe,e,R)))}else{var Ge=d.a,ce=Ge.a.a;Ge.b;var tr=d.b,C=tr.a.a,w=tr.b.a;return y(y(ce,ce),y(C,w))}else if(d.b.a.$===1)if(d.b.b.$===1){var D=d.a,C=D.a.a,w=D.b.a,Z=d.b;return Z.a,Z.b,y(y(C,w),y(e.cq.I,e.cq.I))}else{var be=d.a,C=be.a.a,w=be.b.a,ie=d.b;ie.a;var ce=ie.b.a;return y(y(C,w),y(ce,ce))}else if(d.b.b.$===1){var Je=d.a,C=Je.a.a,w=Je.b.a,Pe=d.b,ce=Pe.a.a;return Pe.b,y(y(C,w),y(ce,ce))}else return y(y(i(oe,e.cp.I,r.at),i(oe,e.cp.A,r.aE)),y(i(oe,e.cq.I,r.dU),i(oe,e.cq.A,r.bs)))}(),a=n.a,s=a.a,o=a.b,u=n.b,m=u.a,l=u.b,v=s+i(qa,e,r.i),c=o+i(qa,e,r.i),p=m-i(Pa,e,r.j),f=l-i(Pa,e,r.j),g=r.dz>0?y(i(qa,e,Wb(t)*r.dz),i(Pa,e,Kb(t)*r.dz)):y(0,0),h=g.a,k=g.b,x=r.g?F(r.dz>0?b([i(ze,c+h,f+k),i(M,c,f)]):b([i(ze,c,f)]),F(r.cD?b([i(M,c,p),i(M,v,p)]):b([i(M,v,p)]),r.dz>0?b([i(M,v+h,p+k)]):S)):F(r.dz>0?b([i(ze,v+h,p+k),i(M,v,p)]):b([i(ze,v,p)]),F(r.cD?b([i(M,v,f),i(M,c,f)]):b([i(M,c,f)]),r.dz>0?b([i(M,c+h,f+k)]):S));return P(ma,r.f,Zt,b([ke("elm-charts__line"),st("transparent"),Ct(r.b),wt(V(r.co)),as(V(r.P)),Gb(i(Ce," ",i(te,V,r.aH))),Qt(i(Wl,e,x)),r.n?cn(e):ke("")]),S)}),Xo=$(function(e,r){return i(Yb,e,i(vr,r,Jb))}),Xb=$(function(e,r){return H(r,{ds:e})}),$i=$(function(e,r){return H(r,{co:e})}),Qb=$(function(e,r){return H(r,{at:W(e)})}),Zb=$(function(e,r){return H(r,{dU:W(e)})}),eh=function(e){var r=i(vr,e,{b:"",aH:S,aw:!1,co:0}),t=r.co?r.co:r.aw?.5:1,n=Nt(r.b)?r.aw?Mb:Hb:r.b,a=X(function(u,m,l,v){return i(Bt,l,u.aF)||i(Bt,v,u.aG)?q:W(T(zb,m,function(c){return c.cp},function(c){return c.cq},b([_t(n),Xb(t),Tb]),{cp:l,cq:v}))}),s=A(function(u,m,l){return i(Bt,l,u.aF)?q:W(i(Xo,m,b([_t(n),$i(t),Qb(l),Go(r.aH)])))}),o=A(function(u,m,l){return i(Bt,l,u.aG)?q:W(i(Xo,m,b([_t(n),$i(t),Zb(l),Go(r.aH)])))});return Pb($(function(u,m){return i(er,b([ke("elm-charts__grid")]),r.aw?i(Tr,function(l){return i(xr,_(a,m,u,l),m.J)},m.C):b([i(er,b([ke("elm-charts__x-grid")]),i(xr,i(s,m,u),m.C)),i(er,b([ke("elm-charts__y-grid")]),i(xr,i(o,m,u),m.J))]))}))},rh=yr(function(e,r,t,n,a,s){var o=$(function(u,m){var l=m.a,v=m.b,c=m.c;switch(u.$){case 0:return we(l,v,c);case 1:var h=u.d;return we(l,i(L,h(r),v),c);case 2:var h=u.e;return we(l,i(L,h(r),v),c);case 3:var h=u.b;return we(l,i(L,h(r),v),c);case 4:var h=u.b;return we(l,i(L,h(r),v),c);case 5:var h=u.b;return we(l,i(L,h(r),v),c);case 6:var p=u.a,h=u.c;return we(l,i(L,i(h,r,p(r)),v),c);case 7:var p=u.a,h=u.c;return we(l,i(L,i(h,r,p(r)),v),c);case 8:var p=u.a,h=u.c;return we(l,i(L,i(h,r,p(r)),v),c);case 9:var h=u.a;return we(l,i(L,i(h,r,t),v),c);case 10:var f=u.a;return _(cr,o,we(l,v,c),i(f,r,n));case 11:var g=u.a;return _(cr,o,we(l,v,c),g);case 12:var h=u.a;return we(l,i(L,h(r),v),c);default:var h=u.a;return we(Rr(v)>0?i(L,i(h,r,a),l):l,v,Rr(v)>0?c:i(L,i(h,r,a),c))}});return _(cr,o,we(S,S,S),s)}),th=$(function(e,r){var t=function(){var g=$(function(h,k){var x=k.a,d=k.b;switch(h.$){case 0:var D=h.a,C=D(d),w=C.a,Z=C.b;return y(F(x,b([w])),Z);case 11:var be=h.a;return _($e,g,y(x,d),be);default:return y(F(x,b([h])),d)}});return _($e,g,y(S,0),r).a}(),n=function(){var g=function(h){return h.$===9};return i(Ki,g,t)?t:i(L,eh(S),t)}(),a=Ib(n),s=i(vr,e,{f:b([rc("overflow: visible;")]),aZ:S,aL:S,bK:300,aM:S,af:{cC:0,c5:0,dn:0,dM:0},R:{cC:0,c5:0,dn:0,dM:0},bf:S,aR:!0,co:300}),o=i(Vb,s,n),u=i(Ob,o,n),m=function(g){var h=g,k=h.cN,x=k;return i(lb,h.db,x(u))},l=_(qb,o,u,n),v=ur(rh,s,o,l,u,a,n),c=v.a,p=v.b,f=v.c;return T(Db,o,{f:s.f,aL:i(te,m,s.aL),aM:s.aM,aR:s.aR},c,p,f)}),nh=$(function(e,r){return H(r,{aZ:e})}),Qo=A(function(e,r,t){return e}),ah=$(function(e,r){return H(r,{F:W(e)})}),ih=De("h2"),sh=$(function(e,r){return H(r,{bK:e})}),oh=A(function(e,r,t){return H(t,{A:_(r,e,t.A,t.cJ)})}),Zo=$(function(e,r){return H(r,{af:e})}),uh=$(function(e,r){return H(r,{j:r.j+e})}),lh=function(e){if(e.$===1){var r=e.a;return W(r)}else return q},ch=$(function(e,r){return H(r,{P:e})}),mh="resultats . bilan total",vh=function(e){return H(e,{h:!0})},$h={$:0},fh=A(function(e,r,t){return{$:7,a:e,b:r,c:t}}),eu=A(function(e,r,t){return e(r(t))}),dh=function(e){return{$:1,a:e}},uc=dh,ph=$(function(e,r){return e*ga(r/e)}),xn=Am,bh=$(function(e,r){var t=e/r;return Q(t,xn(t))?e:i(ph,r,e)}),lc=function(e){return i(He,ai(e),i(He,Vl,oe(0)))},xa=$(function(e,r){return _(cr,$(function(t,n){return e(t)?i(L,t,n):n}),S,r)}),hh=A(function(e,r,t){var n=b(t?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10]);return r?n:e===1?i(xa,function(a){return Q(xn(a),a)},n):e<=.1?b([1/e]):n}),fi=function(e){var r=i(Mr,"e",V(e));if(r.b&&r.b.b&&!r.b.b.b){r.a;var t=r.b,n=t.a;return Lr(i(oe,0,Hi(n)))}else{var a=i(Mr,".",V(e));if(a.b&&a.b.b&&!a.b.b.b){a.a;var s=a.b,n=s.a;return Te(n)}else return 0}},ru=gm,gh=pm,_h=function(e){return i(gh,10,pn(i(ta,ru,e)/i(ta,ru,10)))},yh=A(function(e,r,t){var n=_h(e),a=_(hh,n,r,t),s=e/n,o=function(v){e:for(;;)if(v.b){var c=v.a,p=v.b;if(ne(c*n,e)>-1)return c;var f=p;v=f;continue e}else return 1},u=function(v){e:for(;;)if(v.b)if(v.b.b){var c=v.a,p=v.b,f=p.a,g=p.b;if(ne(s,(c+f)/2)<1)return c;var h=i(L,f,g);v=h;continue e}else{var c=v.a,g=v.b;if(ne(s,c)<1)return c;var h=g;v=h;continue e}else return 1},m=t?o(a):u(a),l=fi(n)+fi(m);return i(lc,l,m*n)}),Eh=qe(function(e,r,t,n,a){e:for(;;){var s=i(lc,fi(t),r+n*t);if(ne(s,e.A)>0)return a;var o=e,u=r,m=t,l=n+1,v=F(a,b([s]));e=o,r=u,t=m,n=l,a=v;continue e}}),fa=X(function(e,r,t,n){var a=(n.A-n.I)/t,s=_(yh,a,e,r),o=s||1,u=i(bh,n.I,o);return T(Eh,n,u,o,0,S)}),kh=function(e){if(e.$){var r=e.a;return _(fa,!0,!1,r)}else{var r=e.a;return _(fa,!0,!0,r)}},xh=$(function(e,r){return i(kh,uc(e),{A:r.A,I:r.I})}),Ch=xh,wh=yr(function(e,r,t,n,a,s){return{dC:a,dG:r,dH:e,ar:s,dK:n,dL:t}}),Ah=function(e){return e>11?"pm":"am"},tu=function(e){switch(e){case 0:return"January";case 1:return"February";case 2:return"March";case 3:return"April";case 4:return"May";case 5:return"June";case 6:return"July";case 7:return"August";case 8:return"September";case 9:return"October";case 10:return"November";default:return"December"}},ye=bm,Sh=function(e){var r=i(ye,100,e);switch(r){case 11:return"th";case 12:return"th";case 13:return"th";default:var t=i(ye,10,e);switch(t){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}},nu=function(e){switch(e){case 0:return"Monday";case 1:return"Tuesday";case 2:return"Wednesday";case 3:return"Thursday";case 4:return"Friday";case 5:return"Saturday";default:return"Sunday"}},Dh=ur(wh,tu,i(He,tu,Et(3)),nu,i(He,nu,Et(3)),Ah,Sh),Cn=$(function(e,r){return pn(e/r)}),vt=function(e){var r=e;return r},jh=A(function(e,r,t){e:for(;;)if(t.b){var n=t.a,a=t.b;if(ne(n.bp,r)<0)return r+n.c;var s=e,o=r,u=a;e=s,r=o,t=u;continue e}else return r+e}),Pt=$(function(e,r){var t=e.a,n=e.b;return _(jh,t,i(Cn,vt(r),6e4),n)}),Qe=$(function(e,r){return i(ye,24,i(Cn,i(Pt,e,r),60))}),au=A(function(e,r,t){return e.dC(i(Qe,r,t))}),ss=function(e){var r=i(Cn,e,1440)+719468,t=(r>=0?r:r-146096)/146097|0,n=r-t*146097,a=(n-(n/1460|0)+(n/36524|0)-(n/146096|0))/365|0,s=n-(365*a+(a/4|0)-(a/100|0)),o=(5*s+2)/153|0,u=o+(o<10?3:-9),m=a+t*400;return{bA:s-((153*o+2)/5|0)+1,bX:u,cr:m+(u<=2?1:0)}},os=$(function(e,r){return ss(i(Pt,e,r)).bA}),Hn=os,Vh=b([6,0,1,2,3,4,5]),di=$(function(e,r){var t=i(ye,7,i(Cn,i(Pt,e,r),1440));switch(t){case 0:return 3;case 1:return 4;case 2:return 5;case 3:return 6;case 4:return 0;case 5:return 1;default:return 2}}),pi=$(function(e,r){return function(t){var n=t.a;return n}(i(oe,y(0,6),kt(i(xa,function(t){var n=t.b;return Q(n,i(di,e,r))},i(pr,$(function(t,n){return y(t,n)}),Vh)))))}),Oh=function(e){return i(ye,4,e)?!1:i(ye,100,e)?!0:!i(ye,400,e)},Ih=$(function(e,r){switch(r){case 0:return 31;case 1:return Oh(e)?29:28;case 2:return 31;case 3:return 30;case 4:return 31;case 5:return 30;case 6:return 31;case 7:return 31;case 8:return 30;case 9:return 31;case 10:return 30;default:return 31}}),cc=b([0,1,2,3,4,5,6,7,8,9,10,11]),mn=$(function(e,r){var t=ss(i(Pt,e,r)).bX;switch(t){case 1:return 0;case 2:return 1;case 3:return 2;case 4:return 3;case 5:return 4;case 6:return 5;case 7:return 6;case 8:return 7;case 9:return 8;case 10:return 9;case 11:return 10;default:return 11}}),Nh=$(function(e,r){return i(oe,y(0,0),kt(i(xa,function(t){t.a;var n=t.b;return Q(n,i(mn,e,r))},i(pr,$(function(t,n){return y(t,n)}),cc))))}),en=$(function(e,r){return 1+function(t){var n=t.a;return t.b,n}(i(Nh,e,r))}),qh=function(e){return _($e,d$,0,e)},Ph=A(function(e,r,t){e:for(;;){if(e<=0)return t;if(r.b){var n=r.a,a=r.b,s=e-1,o=a,u=i(L,n,t);e=s,r=o,t=u;continue e}else return t}}),Th=$(function(e,r){return Re(_(Ph,e,r,S))}),mc=A(function(e,r,t){if(r<=0)return S;var n=y(r,t);e:for(;;){r:for(;;)if(n.b.b)if(n.b.b.b)switch(n.a){case 1:break e;case 2:var a=n.b,d=a.a,s=a.b,o=s.a;return b([d,o]);case 3:if(n.b.b.b.b){var u=n.b,d=u.a,m=u.b,o=m.a,l=m.b,v=l.a;return b([d,o,v])}else break r;default:if(n.b.b.b.b&&n.b.b.b.b.b){var c=n.b,d=c.a,p=c.b,o=p.a,f=p.b,v=f.a,g=f.b,h=g.a,k=g.b;return e>1e3?i(L,d,i(L,o,i(L,v,i(L,h,i(Th,r-4,k))))):i(L,d,i(L,o,i(L,v,i(L,h,_(mc,e+1,r-4,k)))))}else break r}else{if(n.a===1)break e;break r}else return t;return t}var x=n.b,d=x.a;return b([d])}),Mh=$(function(e,r){return _(mc,0,e,r)}),wn=$(function(e,r){return ss(i(Pt,e,r)).cr}),Jn=$(function(e,r){var t=i(Mh,i(en,e,r)-1,cc),n=qh(i(te,Ih(i(wn,e,r)),t));return n+i(Hn,e,r)}),iu=$(function(e,r){return i(en,e,r)/4|0}),$r=$(function(e,r){var t=se(r),n=e-Te(t),a=i(Ce,"",i(te,function(s){return"0"},i(Bi,1,n)));return F(a,t)}),Rh=Fm,da=$(function(e,r){return i(ye,1e3,vt(r))}),Dt=$(function(e,r){return i(ye,60,i(Pt,e,r))}),su=function(e){return e?e<=12?e:e-12:12},vn=$(function(e,r){return i(ye,60,i(Cn,vt(r),1e3))}),yt=gr,Fh=xn(1e3*60*60*24*365.25),Lh=$(function(e,r){return yt(Fh*i(wn,e,r))}),Ta=$(function(e,r){var t=i(Lh,e,r),n=i(pi,e,t),a=i(Jn,e,r);return((a+n)/7|0)+1}),ou=$(function(e,r){return se(i(wn,e,r))}),Uh=X(function(e,r,t,n){switch(n.$){case 0:return se(i(en,r,t));case 1:return function(s){return F(se(s),e.ar(s))}(i(en,r,t));case 2:return i($r,2,i(en,r,t));case 3:return e.dG(i(mn,r,t));case 4:return e.dH(i(mn,r,t));case 17:return se(1+i(iu,r,t));case 18:return function(s){return F(se(s),e.ar(s))}(1+i(iu,r,t));case 5:return se(i(Hn,r,t));case 6:return function(s){return F(se(s),e.ar(s))}(i(Hn,r,t));case 7:return i($r,2,i(Hn,r,t));case 8:return se(i(Jn,r,t));case 9:return function(s){return F(se(s),e.ar(s))}(i(Jn,r,t));case 10:return i($r,3,i(Jn,r,t));case 11:return se(i(pi,r,t));case 12:return function(s){return F(se(s),e.ar(s))}(i(pi,r,t));case 13:return e.dK(i(di,r,t));case 14:return e.dL(i(di,r,t));case 19:return se(i(Ta,r,t));case 20:return function(s){return F(se(s),e.ar(s))}(i(Ta,r,t));case 21:return i($r,2,i(Ta,r,t));case 15:return i(un,2,i(ou,r,t));case 16:return i(ou,r,t);case 22:return Xi(_(au,e,r,t));case 23:return Rh(_(au,e,r,t));case 24:return se(i(Qe,r,t));case 25:return i($r,2,i(Qe,r,t));case 26:return se(su(i(Qe,r,t)));case 27:return i($r,2,su(i(Qe,r,t)));case 28:return se(1+i(Qe,r,t));case 29:return i($r,2,1+i(Qe,r,t));case 30:return se(i(Dt,r,t));case 31:return i($r,2,i(Dt,r,t));case 32:return se(i(vn,r,t));case 33:return i($r,2,i(vn,r,t));case 34:return se(i(da,r,t));case 35:return i($r,3,i(da,r,t));default:var a=n.a;return a}}),Bh=X(function(e,r,t,n){return i(Ce,"",i(te,_(Uh,e,t,n),r))}),$t=Bh(Dh),zh={$:25},us=zh,Hh={$:31},ls=Hh,Jh=function(e){return{$:36,a:e}},et=Jh,uu=$t(b([us,et(":"),ls])),Wh={$:35},Kh=Wh,Gh={$:33},vc=Gh,Yh=$t(b([us,et(":"),ls,et(":"),vc,et(":"),Kh])),Xh=$t(b([us,et(":"),ls,et(":"),vc])),Qh={$:5},Zh=Qh,e0={$:0},r0=e0,t0=$t(b([r0,et("/"),Zh])),n0={$:3},a0=n0,i0=$t(b([a0])),s0={$:14},o0=s0,u0=$t(b([o0])),l0={$:16},c0=l0,m0=$t(b([c0])),v0=$(function(e,r){var t=i(oe,r.dN,r.cF);switch(t){case 0:return i(Yh,e,r.dA);case 1:return i(Xh,e,r.dA);case 2:return i(uu,e,r.dA);case 3:return i(uu,e,r.dA);case 4:return r.da===7?i(u0,e,r.dA):i(t0,e,r.dA);case 5:return i(i0,e,r.dA);default:return i(m0,e,r.dA)}}),$0=v0,f0=A(function(e,r,t){var n=r;return i(n,e,t)}),Ma=f0,d0=$(function(e,r){return i(te,xn,function(){if(e.$){var t=e.a;return P(fa,!1,!1,t,r)}else{var t=e.a;return P(fa,!1,!0,t,r)}}())}),p0=$(function(e,r){return i(d0,uc(e),{A:r.A,I:r.I})}),b0=p0,$c=function(e){return!i(ye,4,e)&&!!i(ye,100,e)||!i(ye,400,e)},cs=$(function(e,r){var t=$c(e)?1:0;switch(r){case 0:return 0;case 1:return 31;case 2:return 59+t;case 3:return 90+t;case 4:return 120+t;case 5:return 151+t;case 6:return 181+t;case 7:return 212+t;case 8:return 243+t;case 9:return 273+t;case 10:return 304+t;default:return 334+t}}),rn=$(function(e,r){return pn(e/r)}),An=function(e){var r=e-1,t=i(rn,r,4)-i(rn,r,100)+i(rn,r,400);return 365*r+t},ms=$(function(e,r){switch(r){case 0:return 31;case 1:return $c(e)?29:28;case 2:return 31;case 3:return 30;case 4:return 31;case 5:return 30;case 6:return 31;case 7:return 31;case 8:return 30;case 9:return 31;case 10:return 30;default:return 31}}),vs=function(e){switch(e){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 6;case 6:return 7;case 7:return 8;case 8:return 9;case 9:return 10;case 10:return 11;default:return 12}},$s=function(e){var r=i(Ne,1,e);switch(r){case 1:return 0;case 2:return 1;case 3:return 2;case 4:return 3;case 5:return 4;case 6:return 5;case 7:return 6;case 8:return 7;case 9:return 8;case 10:return 9;case 11:return 10;default:return 11}},h0=A(function(e,r,t){e:for(;;){var n=i(ms,e,r),a=vs(r);if(a<12&&ne(t,n)>0){var s=e,o=$s(a+1),u=t-n;e=s,r=o,t=u;continue e}else return{bA:t,bX:r,cr:e}}}),qn=$(function(e,r){return y(i(rn,e,r),i(ye,r,e))}),Wn=function(e){var r=e,t=i(qn,r,146097),n=t.a,a=t.b,s=i(qn,a,36524),o=s.a,u=s.b,m=i(qn,u,1461),l=m.a,v=m.b,c=i(qn,v,365),p=c.a,f=c.b,g=f?1:0;return n*400+o*100+l*4+p+g},g0=function(e){var r=e,t=Wn(r);return{bd:r-An(t),cr:t}},fc=function(e){var r=e,t=g0(r);return _(h0,t.cr,0,t.bd)},bi=A(function(e,r,t){var n=t;switch(e){case 0:return _(bi,1,12*r,n);case 1:var a=fc(n),s=12*(a.cr-1)+(vs(a.bX)-1)+r,o=$s(i(ye,12,s)+1),u=i(rn,s,12)+1;return An(u)+i(cs,u,o)+i(Ur,a.bA,i(ms,u,o));case 2:return n+7*r;default:return n+r}}),dc=A(function(e,r,t){return An(e)+i(cs,e,r)+_(br,1,i(ms,e,r),t)}),rt=$(function(e,r){return _(dc,i(wn,e,r),i(mn,e,r),i(os,e,r))}),_0=function(e){var r=e;return r},pc=function(e){var r=_0(e)-719163;return r*864e5},tn=X(function(e,r,t,n){return e*36e5+r*6e4+t*1e3+n}),hi=$(function(e,r){return P(tn,i(Qe,e,r),i(Dt,e,r),i(vn,e,r),i(da,e,r))}),Ra=$(function(e,r){var t=vt(r),n=pc(i(rt,e,r))+i(hi,e,r);return(n-t)/6e4|0}),tt=A(function(e,r,t){var n=pc(r)+t,a=i(Ra,e,yt(n)),s=yt(n-a*6e4),o=i(Ra,e,s);if(Q(a,o))return s;var u=yt(n-o*6e4),m=i(Ra,e,u);return Q(o,m)?u:s}),ot=X(function(e,r,t,n){e:for(;;)switch(e){case 15:return yt(vt(n)+r);case 14:var a=15,s=r*1e3,o=t,u=n;e=a,r=s,t=o,n=u;continue e;case 13:var a=15,s=r*6e4,o=t,u=n;e=a,r=s,t=o,n=u;continue e;case 12:var a=15,s=r*36e5,o=t,u=n;e=a,r=s,t=o,n=u;continue e;case 11:return _(tt,t,_(bi,3,r,i(rt,t,n)),i(hi,t,n));case 2:return _(tt,t,_(bi,1,r,i(rt,t,n)),i(hi,t,n));case 0:var a=2,s=r*12,o=t,u=n;e=a,r=s,t=o,n=u;continue e;case 1:var a=2,s=r*3,o=t,u=n;e=a,r=s,t=o,n=u;continue e;case 3:var a=11,s=r*7,o=t,u=n;e=a,r=s,t=o,n=u;continue e;default:var a=11,s=r*7,o=t,u=n;e=a,r=s,t=o,n=u;continue e}}),y0=function(e){var r=e,t=i(ye,7,r);if(t){var n=t;return n}else return 7},E0=function(e){switch(e){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 6;default:return 7}},Dr=$(function(e,r){return i(ye,7,y0(r)+7-E0(e))}),lu=$(function(e,r){return An(e)+i(cs,e,r)+1}),k0=function(e){return An(e)+1},bc=i(He,fc,function(e){return e.bX}),x0=function(e){return(vs(e)+2)/3|0},C0=i(He,bc,x0),w0=function(e){return $s(e*3-2)},A0=$(function(e,r){var t=r;switch(e){case 0:return k0(Wn(r));case 1:return i(lu,Wn(r),w0(C0(r)));case 2:return i(lu,Wn(r),bc(r));case 3:return t-i(Dr,0,r);case 4:return t-i(Dr,0,r);case 5:return t-i(Dr,1,r);case 6:return t-i(Dr,2,r);case 7:return t-i(Dr,3,r);case 8:return t-i(Dr,4,r);case 9:return t-i(Dr,5,r);case 10:return t-i(Dr,6,r);default:return r}}),Ye=A(function(e,r,t){return _(tt,r,i(A0,e,i(rt,r,t)),0)}),S0=A(function(e,r,t){switch(e){case 15:return t;case 14:return _(tt,r,i(rt,r,t),P(tn,i(Qe,r,t),i(Dt,r,t),i(vn,r,t),0));case 13:return _(tt,r,i(rt,r,t),P(tn,i(Qe,r,t),i(Dt,r,t),0,0));case 12:return _(tt,r,i(rt,r,t),P(tn,i(Qe,r,t),0,0,0));case 11:return _(Ye,11,r,t);case 2:return _(Ye,2,r,t);case 0:return _(Ye,0,r,t);case 1:return _(Ye,1,r,t);case 3:return _(Ye,3,r,t);case 4:return _(Ye,4,r,t);case 5:return _(Ye,5,r,t);case 6:return _(Ye,6,r,t);case 7:return _(Ye,7,r,t);case 8:return _(Ye,8,r,t);case 9:return _(Ye,9,r,t);default:return _(Ye,10,r,t)}}),ut=A(function(e,r,t){var n=_(S0,e,r,t);return Q(n,t)?t:P(ot,e,1,r,n)}),D0=A(function(e,r,t){return r===7?_(ut,3,e,t):_(ut,11,e,t)}),Tt=$(function(e,r){var t=r.cr,n=r.bX,a=r.bA,s=r.a_,o=r.a8,u=r.bh,m=r.a7;return _(tt,e,_(dc,t,n,a),P(tn,_(br,0,23,s),_(br,0,59,o),_(br,0,59,u),_(br,0,999,m)))}),Ze=$(function(e,r){return{bA:i(os,e,r),a_:i(Qe,e,r),a7:i(da,e,r),a8:i(Dt,e,r),bX:i(mn,e,r),bh:i(vn,e,r),cr:i(wn,e,r)}}),j0=A(function(e,r,t){var n=i(Ze,e,_(ut,12,e,t)),a=n.a_%r,s=i(Tt,e,n);return a?P(ot,12,r-a,e,s):s}),V0=A(function(e,r,t){var n=i(Ze,e,_(ut,13,e,t)),a=n.a8%r,s=i(Tt,e,n);return a?P(ot,13,r-a,e,s):s}),cu=function(e){switch(e){case 1:return 0;case 2:return 1;case 3:return 2;case 4:return 3;case 5:return 4;case 6:return 5;case 7:return 6;case 8:return 7;case 9:return 8;case 10:return 9;case 11:return 10;case 12:return 11;default:return 11}},Kn=function(e){switch(e){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 6;case 6:return 7;case 7:return 8;case 8:return 9;case 9:return 10;case 10:return 11;default:return 12}},O0=A(function(e,r,t){var n=i(Ze,e,_(ut,2,e,t)),a=Kn(n.bX),s=(a-1)%r,o=s?a-s+r:a;return i(Tt,e,o>12?H(n,{bX:cu(o-12),cr:n.cr+1}):H(n,{bX:cu(o)}))}),I0=A(function(e,r,t){var n=i(Ze,e,t),a=n.a7%r;return a?P(ot,15,r-a,e,t):i(Tt,e,n)}),N0=A(function(e,r,t){var n=i(Ze,e,_(ut,14,e,t)),a=n.bh%r,s=i(Tt,e,n);return a?P(ot,14,r-a,e,s):s}),q0=A(function(e,r,t){var n=i(Ze,e,_(ut,0,e,t)),a=n.cr%r,s=a?n.cr-a+r:n.cr;return i(Tt,e,H(n,{cr:s}))}),gi=A(function(e,r,t){switch(r){case 0:return i(I0,e,t);case 1:return i(N0,e,t);case 2:return i(V0,e,t);case 3:return i(j0,e,t);case 4:return i(D0,e,t);case 5:return i(O0,e,t);default:return i(q0,e,t)}}),P0=A(function(e,r,t){var n=i(Ze,e,t),a=i(Ze,e,r);return Q(a.cr,n.cr)?Q(a.bX,n.bX)?Q(a.bA,n.bA)?Q(a.a_,n.a_)?Q(a.a8,n.a8)?Q(a.bh,n.bh)?0:1:2:3:4:5:6}),T0=function(e){return!i(ye,400,e)||!!i(ye,100,e)&&!i(ye,4,e)},M0=$(function(e,r){switch(r){case 0:return 31;case 1:return T0(e)?29:28;case 2:return 31;case 3:return 30;case 4:return 31;case 5:return 30;case 6:return 31;case 7:return 31;case 8:return 30;case 9:return 31;case 10:return 30;default:return 31}}),R0=M0,jr=vt,F0=A(function(e,r,t){var n=ne(jr(r),jr(t))<0?y(i(Ze,e,r),i(Ze,e,t)):y(i(Ze,e,t),i(Ze,e,r)),a=n.a,s=n.b,o=s.a7-a.a7,u=o<0?1e3+o:o,m=s.bh-a.bh+(o<0?-1:0),l=s.a8-a.a8+(m<0?-1:0),v=s.a_-a.a_+(l<0?-1:0),c=s.bA-a.bA+(v<0?-1:0),p=c<0?i(R0,s.cr,s.bX)+c:c,f=Kn(s.bX)-Kn(a.bX)+(c<0?-1:0),g=f<0?12+f:f,h=v<0?24+v:v,k=l<0?60+l:l,x=m<0?60+m:m,d=s.cr-a.cr+(f<0?-1:0),D=d<0?Kn(s.bX)+d:d;return{bA:p,a_:h,a7:u,a8:k,bX:g,bh:x,cr:D}}),hc=1e3,gc=hc*60,_c=gc*60,L0=_c*24,U0=1,yc=qe(function(e,r,t,n,a){var s=$(function(m,l){return pn(m/l)}),o=function(m){var l=P(gi,e,r,t,n);return ne(jr(l),jr(a))>0?-1:i(s,i(s,jr(a)-jr(l),m),t)},u=function(m){var l=P(gi,e,r,t,n);return ne(jr(l),jr(a))>0?-1:i(s,m(_(F0,e,l,a)),t)};switch(r){case 0:return o(U0)+1;case 1:return o(hc)+1;case 2:return o(gc)+1;case 3:return o(_c)+1;case 4:return o(L0)+1;case 5:return u(function(m){return m.bX+m.cr*12})+1;default:return u(function(m){return m.cr})+1}}),B0=function(e){switch(e){case 0:return W(1);case 1:return W(2);case 2:return W(3);case 3:return W(4);case 4:return W(5);case 5:return W(6);default:return q}},z0=function(e){switch(e){case 0:return b([1,2,5,10,20,25,50,100,200,500]);case 1:return b([1,2,5,10,15,30]);case 2:return b([1,2,5,10,15,30]);case 3:return b([1,2,3,4,6,8,12]);case 4:return b([1,2,3,7,14]);case 5:return b([1,2,3,4,6]);default:return b([1,2,5,10,20,25,50,100,200,500,1e3,1e4,1e6,1e7])}},H0=X(function(e,r,t,n){var a=function(s){e:for(;;){var o=z0(s),u=i(xa,function(f){return ne(T(yc,e,s,f,t,n),r)<1},o);$(function(f,g){return ga(f/g)});var m=kt(u);if(m.$){var v=B0(s);if(v.$)return y(6,1e8);var c=v.a,p=c;s=p;continue e}else{var l=m.a;return y(s,l)}}};return a(0)}),J0=function(e){switch(e){case 0:return 15;case 1:return 14;case 2:return 13;case 3:return 12;case 4:return 11;case 5:return 2;default:return 0}},mu=function(e){switch(e){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;case 5:return 5;default:return 6}},W0=X(function(e,r,t,n){var a=P(H0,e,r,t,n),s=a.a,o=a.b,u=T(yc,e,s,o,t,n),m=P(gi,e,s,o,t),l=J0(s),v=A(function(p,f,g){return{cF:ne(mu(g),mu(s))>0?W(g):q,a5:!p,da:o,dA:f,dN:s,bt:e}}),c=$(function(p,f){e:for(;;)if(p.b){var g=p.a,h=p.b,k=P(ot,l,(g-1)*o,e,m),x=P(ot,l,g*o,e,m),d=_(P0,e,k,x),D=h,C=i(L,_(v,g,x,d),f);p=D,f=C;continue e}else return f});return Re(i(c,i(Bi,0,u-1),S))}),K0=A(function(e,r,t){var n=function(o){switch(o){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;case 5:return 5;default:return 6}},a=function(o){return{cF:i(Fr,n,o.cF),a5:o.a5,da:o.da,dA:o.dA,dN:n(o.dN),bt:o.bt}},s=function(o){return yt(xn(o))};return i(te,a,P(W0,e,r,s(t.I),s(t.A)))}),G0=function(e){return $(function(r,t){return _(K0,e,r,{A:t.A,I:t.I})})},Y0=G0,X0=X(function(e,r,t,n){var a=$(function(o,u){return te(function(m){return{aN:function(){if(t.$)return u(m);var l=t.a;return l(o(m))}(),V:o(m)}})});switch(r.$){case 0:return _(a,gr,V,_(Ma,e,Ch,n));case 1:return _(a,xo,se,_(Ma,e,b0,n));default:var s=r.a;return _(a,i(eu,i(eu,xo,vt),function(o){return o.dA}),$0(s),_(Ma,e,Y0(s),n))}}),Q0=function(e){return _(br,e.I,e.A,0)},Z0=function(e){var r=$(function(a,s){return P(X0,s.K,s.M,s.F,_($e,$(function(o,u){return o(u)}),a.cq,s.w))}),t=A(function(a,s,o){return s.h?H(o,{J:F(o.J,i(te,function(u){return u.V},i(r,a,s)))}):o}),n=function(a){return i(vr,e,{K:5,k:q,f:S,b:"#808BAB",l:q,g:!1,m:q,F:q,M:$h,h:!1,n:!1,w:S,p:Q0,q:0,s:!1,i:-10,j:3})};return _(fh,n,t,$(function(a,s){var o=Le,u=function(m){return P(tc,a,H(o,{k:function(){var l=s.k;if(l.$===1)return W(s.g?1:0);var v=l.a;return W(v)}(),f:s.f,b:s.b,l:s.l,m:s.m,n:s.n,q:s.q,s:s.s,i:s.g?-s.i:s.i,j:s.j}),b([va(m.aN)]),{cp:s.p(a.cp),cq:m.V})};return i(er,b([ke("elm-charts__y-labels")]),i(te,u,i(r,a,s)))}))},eg=function(e){var r=i(oe,0,i(Lo,function(n){var a=n.ag;return lh(a)},i(_r,mh,e.T))),t=i(xr,function(n){return i(Lo,function(a){var s=a.ag;if(s.$===1){var o=s.a;return W({bx:n,ag:o/r*100})}else return q},i(_r,n,e.T))},e.av);return i(ve,b([J("hidden lg:block bg-neutral border border-base-200 rounded-md mt-8")]),b([i(ih,b([J("bg-base-100 p-4 border-b border-base-200")]),b([xe("DÉTAILS")])),i(ve,b([J("p-4")]),b([i(th,b([$i(800),sh(800),Zo({cC:40,c5:40,dn:40,dM:40}),nh(b([i(sc,0,Qo),i(oh,100,Qo)]))]),b([Z0(b([vh,ah(function(n){return V(n)+" %"})])),i(ob,function(n){return n.bx},b([uh(30)])),_(Rp,b([es(.25),Zo(.25)]),b([i(Od,function(n){return n.ag},b([_t(ub),ch(.8)]))]),t)]))]))]))},rg=De("header"),tg=mt("target"),ng=i(rg,S,b([i(ve,b([J("flex items-center justify-between w-full py-2 px-8 mb-4 border-b border-base-200 bg-neutral")]),b([i(ve,b([J("flex items-center")]),b([i(ve,b([J("text-3xl font-bold text-primary m-2")]),b([xe("EkoFest")])),i(oa,b([J("badge badge-secondary badge-outline italic")]),b([xe("beta")]))])),i(Il,b([J("hover:text-primary cursor-pointer"),Nl("https://github.com/ecofest/publicodes-evenements"),tg("_blank")]),b([xe("Consulter le modèle de calcul ⧉")]))]))])),ag=$(function(e,r){var t=i(_r,r,e.Z);if(t.$)return r;var n=t.a;return i(oe,r,n.dB)}),ig="resultats",sg=function(e){if(e.$)return xe("Calcul en cours");var r=e.a.ag;return xe(ii(r))},og=function(e){return xe(" "+i(oe,"",e.dN))},ug=function(e){var r=i(xr,function(t){var n=t.a,a=t.b,s=ll(n);if(s.b&&s.b.b&&!s.b.b.b){var o=s.a;return s.b,Q(o,ig)?W(y(n,a)):q}else return q},at(e.Z));return i(ve,b([J("stats stats-vertical border w-full rounded-md bg-neutral")]),i(te,function(t){var n=t.a,a=t.b;return i(ve,b([J("stat")]),b([i(ve,b([J("stat-title")]),b([xe(i(ag,e,n))])),i(ve,b([J("stat-value text-primary")]),b([sg(i(_r,n,e.T))])),i(ve,b([J("stat-desc text-primary")]),b([og(a)]))]))},r))},lg=function(e){return i(ve,S,b([ng,Uf(e.Z)?i(ve,b([J("prose")]),b([xe("Chargement...")])):i(ve,b([J("flex flex-col-reverse lg:grid lg:grid-cols-3")]),b([i(ve,b([J("p-4 lg:pl-8 lg:pr-4 lg:col-span-2")]),b([i(zf,b([J("flex flex-wrap bg-neutral rounded-t-lg border-t border-x border-base-200 p-2 sticky top-0")]),Dd(e.av)),i(Ia,Ad,e)])),i(ve,b([J("flex flex-col p-4 lg:pl-4 lg:col-span-1 lg:pr-8 ")]),b([i(Ia,ug,e),i(Ia,eg,e)]))]))]))},cg=H$({c1:xf,dw:Of,dO:Lf,dQ:lg});const mg={Main:{init:cg(sn)(0)}};var vg=Object.create,fs=Object.defineProperty,$g=Object.getOwnPropertyDescriptor,Ec=Object.getOwnPropertyNames,fg=Object.getPrototypeOf,dg=Object.prototype.hasOwnProperty,kc=(e,r)=>function(){return r||(0,e[Ec(e)[0]])((r={exports:{}}).exports,r),r.exports},pg=(e,r)=>{for(var t in r)fs(e,t,{get:r[t],enumerable:!0})},bg=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of Ec(r))!dg.call(e,a)&&a!==t&&fs(e,a,{get:()=>r[a],enumerable:!(n=$g(r,a))||n.enumerable});return e},xc=(e,r,t)=>(t=e!=null?vg(fg(e)):{},bg(r||!e||!e.__esModule?fs(t,"default",{value:e,enumerable:!0}):t,e)),hg=kc({"../../node_modules/nearley/lib/nearley.js"(e,r){(function(t,n){typeof r=="object"&&r.exports?r.exports=n():t.nearley=n()})(e,function(){function t(v,c,p){return this.id=++t.highestId,this.name=v,this.symbols=c,this.postprocess=p,this}t.highestId=0,t.prototype.toString=function(v){var c=typeof v>"u"?this.symbols.map(l).join(" "):this.symbols.slice(0,v).map(l).join(" ")+" ● "+this.symbols.slice(v).map(l).join(" ");return this.name+" → "+c};function n(v,c,p,f){this.rule=v,this.dot=c,this.reference=p,this.data=[],this.wantedBy=f,this.isComplete=this.dot===v.symbols.length}n.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},n.prototype.nextState=function(v){var c=new n(this.rule,this.dot+1,this.reference,this.wantedBy);return c.left=this,c.right=v,c.isComplete&&(c.data=c.build(),c.right=void 0),c},n.prototype.build=function(){var v=[],c=this;do v.push(c.right.data),c=c.left;while(c.left);return v.reverse(),v},n.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,u.fail))};function a(v,c){this.grammar=v,this.index=c,this.states=[],this.wants={},this.scannable=[],this.completed={}}a.prototype.process=function(v){for(var c=this.states,p=this.wants,f=this.completed,g=0;g<c.length;g++){var h=c[g];if(h.isComplete){if(h.finish(),h.data!==u.fail){for(var k=h.wantedBy,x=k.length;x--;){var d=k[x];this.complete(d,h)}if(h.reference===this.index){var D=h.rule.name;(this.completed[D]=this.completed[D]||[]).push(h)}}}else{var D=h.rule.symbols[h.dot];if(typeof D!="string"){this.scannable.push(h);continue}if(p[D]){if(p[D].push(h),f.hasOwnProperty(D))for(var C=f[D],x=0;x<C.length;x++){var w=C[x];this.complete(h,w)}}else p[D]=[h],this.predict(D)}}},a.prototype.predict=function(v){for(var c=this.grammar.byName[v]||[],p=0;p<c.length;p++){var f=c[p],g=this.wants[v],h=new n(f,0,this.index,g);this.states.push(h)}},a.prototype.complete=function(v,c){var p=v.nextState(c);this.states.push(p)};function s(v,c){this.rules=v,this.start=c||this.rules[0].name;var p=this.byName={};this.rules.forEach(function(f){p.hasOwnProperty(f.name)||(p[f.name]=[]),p[f.name].push(f)})}s.fromCompiled=function(f,c){var p=f.Lexer;f.ParserStart&&(c=f.ParserStart,f=f.ParserRules);var f=f.map(function(h){return new t(h.name,h.symbols,h.postprocess)}),g=new s(f,c);return g.lexer=p,g};function o(){this.reset("")}o.prototype.reset=function(v,c){this.buffer=v,this.index=0,this.line=c?c.line:1,this.lastLineBreak=c?-c.col:0},o.prototype.next=function(){if(this.index<this.buffer.length){var v=this.buffer[this.index++];return v===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:v}}},o.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},o.prototype.formatError=function(v,c){var p=this.buffer;if(typeof p=="string"){var f=p.split(`
`).slice(Math.max(0,this.line-5),this.line),g=p.indexOf(`
`,this.index);g===-1&&(g=p.length);var h=this.index-this.lastLineBreak,k=String(this.line).length;return c+=" at line "+this.line+" col "+h+`:

`,c+=f.map(function(d,D){return x(this.line-f.length+D+1,k)+" "+d},this).join(`
`),c+=`
`+x("",k+h)+`^
`,c}else return c+" at index "+(this.index-1);function x(d,D){var C=String(d);return Array(D-C.length+1).join(" ")+C}};function u(v,c,p){if(v instanceof s)var f=v,p=c;else var f=s.fromCompiled(v,c);this.grammar=f,this.options={keepHistory:!1,lexer:f.lexer||new o};for(var g in p||{})this.options[g]=p[g];this.lexer=this.options.lexer,this.lexerState=void 0;var h=new a(f,0);this.table=[h],h.wants[f.start]=[],h.predict(f.start),h.process(),this.current=0}u.fail={},u.prototype.feed=function(v){var c=this.lexer;c.reset(v,this.lexerState);for(var p;;){try{if(p=c.next(),!p)break}catch(ie){var k=new a(this.grammar,this.current+1);this.table.push(k);var f=new Error(this.reportLexerError(ie));throw f.offset=this.current,f.token=ie.token,f}var g=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var h=this.current+1,k=new a(this.grammar,h);this.table.push(k);for(var x=p.text!==void 0?p.text:p.value,d=c.constructor===o?p.value:p,D=g.scannable,C=D.length;C--;){var w=D[C],Z=w.rule.symbols[w.dot];if(Z.test?Z.test(d):Z.type?Z.type===p.type:Z.literal===x){var be=w.nextState({data:d,token:p,isToken:!0,reference:h-1});k.states.push(be)}}if(k.process(),k.states.length===0){var f=new Error(this.reportError(p));throw f.offset=this.current,f.token=p,f}this.options.keepHistory&&(g.lexerState=c.save()),this.current++}return g&&(this.lexerState=c.save()),this.results=this.finish(),this},u.prototype.reportLexerError=function(v){var c,p,f=v.token;return f?(c="input "+JSON.stringify(f.text[0])+" (lexer error)",p=this.lexer.formatError(f,"Syntax error")):(c="input (lexer error)",p=v.message),this.reportErrorCommon(p,c)},u.prototype.reportError=function(v){var c=(v.type?v.type+" token: ":"")+JSON.stringify(v.value!==void 0?v.value:v),p=this.lexer.formatError(v,"Syntax error");return this.reportErrorCommon(p,c)},u.prototype.reportErrorCommon=function(v,c){var p=[];p.push(v);var f=this.table.length-2,g=this.table[f],h=g.states.filter(function(x){var d=x.rule.symbols[x.dot];return d&&typeof d!="string"});if(h.length===0)p.push("Unexpected "+c+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(g.states,p);else{p.push("Unexpected "+c+`. Instead, I was expecting to see one of the following:
`);var k=h.map(function(x){return this.buildFirstStateStack(x,[])||[x]},this);k.forEach(function(x){var d=x[0],D=d.rule.symbols[d.dot],C=this.getSymbolDisplay(D);p.push("A "+C+" based on:"),this.displayStateStack(x,p)},this)}return p.push(""),p.join(`
`)},u.prototype.displayStateStack=function(v,c){for(var p,f=0,g=0;g<v.length;g++){var h=v[g],k=h.rule.toString(h.dot);k===p?f++:(f>0&&c.push("    ^ "+f+" more lines identical to this"),f=0,c.push("    "+k)),p=k}},u.prototype.getSymbolDisplay=function(v){return m(v)},u.prototype.buildFirstStateStack=function(v,c){if(c.indexOf(v)!==-1)return null;if(v.wantedBy.length===0)return[v];var p=v.wantedBy[0],f=[v].concat(c),g=this.buildFirstStateStack(p,f);return g===null?null:[v].concat(g)},u.prototype.save=function(){var v=this.table[this.current];return v.lexerState=this.lexerState,v},u.prototype.restore=function(v){var c=v.index;this.current=c,this.table[c]=v,this.table.splice(c+1),this.lexerState=v.lexerState,this.results=this.finish()},u.prototype.rewind=function(v){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[v])},u.prototype.finish=function(){var v=[],c=this.grammar.start,p=this.table[this.table.length-1];return p.states.forEach(function(f){f.rule.name===c&&f.dot===f.rule.symbols.length&&f.reference===0&&f.data!==u.fail&&v.push(f)}),v.map(function(f){return f.data})};function m(v){var c=typeof v;if(c==="string")return v;if(c==="object"){if(v.literal)return JSON.stringify(v.literal);if(v instanceof RegExp)return"character matching "+v;if(v.type)return v.type+" token";if(v.test)return"token matching "+String(v.test);throw new Error("Unknown symbol type: "+v)}}function l(v){var c=typeof v;if(c==="string")return v;if(c==="object"){if(v.literal)return JSON.stringify(v.literal);if(v instanceof RegExp)return v.toString();if(v.type)return"%"+v.type;if(v.test)return"<"+String(v.test)+">";throw new Error("Unknown symbol type: "+v)}}return{Parser:u,Grammar:s,Rule:t}})}}),gg=kc({"../../node_modules/moo/moo.js"(e,r){(function(t,n){typeof define=="function"&&define.amd?define([],n):typeof r=="object"&&r.exports?r.exports=n():t.moo=n()})(e,function(){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,a=typeof new RegExp().sticky=="boolean";function s(E){return E&&n.call(E)==="[object RegExp]"}function o(E){return E&&typeof E=="object"&&!s(E)&&!Array.isArray(E)}function u(E){return E.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function m(E){var j=new RegExp("|"+E);return j.exec("").length-1}function l(E){return"("+E+")"}function v(E){if(!E.length)return"(?!)";var j=E.map(function(O){return"(?:"+O+")"}).join("|");return"(?:"+j+")"}function c(E){if(typeof E=="string")return"(?:"+u(E)+")";if(s(E)){if(E.ignoreCase)throw new Error("RegExp /i flag not allowed");if(E.global)throw new Error("RegExp /g flag is implied");if(E.sticky)throw new Error("RegExp /y flag is implied");if(E.multiline)throw new Error("RegExp /m flag is implied");return E.source}else throw new Error("Not a pattern: "+E)}function p(E,j){return E.length>j?E:Array(j-E.length+1).join(" ")+E}function f(E,j){for(var O=E.length,I=0;;){var z=E.lastIndexOf(`
`,O-1);if(z===-1||(I++,O=z,I===j)||O===0)break}var N=I<j?0:O+1;return E.substring(N).split(`
`)}function g(E){for(var j=Object.getOwnPropertyNames(E),O=[],I=0;I<j.length;I++){var z=j[I],N=E[z],R=[].concat(N);if(z==="include"){for(var ee=0;ee<R.length;ee++)O.push({include:R[ee]});continue}var G=[];R.forEach(function(B){o(B)?(G.length&&O.push(k(z,G)),O.push(k(z,B)),G=[]):G.push(B)}),G.length&&O.push(k(z,G))}return O}function h(E){for(var j=[],O=0;O<E.length;O++){var I=E[O];if(I.include){for(var z=[].concat(I.include),N=0;N<z.length;N++)j.push({include:z[N]});continue}if(!I.type)throw new Error("Rule has no type: "+JSON.stringify(I));j.push(k(I.type,I))}return j}function k(E,j){if(o(j)||(j={match:j}),j.include)throw new Error("Matching rules cannot also include states");var O={defaultType:E,lineBreaks:!!j.error||!!j.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var I in j)t.call(j,I)&&(O[I]=j[I]);if(typeof O.type=="string"&&E!==O.type)throw new Error("Type transform cannot be a string (type '"+O.type+"' for token '"+E+"')");var z=O.match;return O.match=Array.isArray(z)?z:z?[z]:[],O.match.sort(function(N,R){return s(N)&&s(R)?0:s(R)?-1:s(N)?1:R.length-N.length}),O}function x(E){return Array.isArray(E)?h(E):g(E)}var d=k("error",{lineBreaks:!0,shouldThrow:!0});function D(E,j){for(var O=null,I=Object.create(null),z=!0,N=null,R=[],ee=[],G=0;G<E.length;G++)E[G].fallback&&(z=!1);for(var G=0;G<E.length;G++){var B=E[G];if(B.include)throw new Error("Inheritance is not allowed in stateless lexers");if(B.error||B.fallback){if(O)throw!B.fallback==!O.fallback?new Error("Multiple "+(B.fallback?"fallback":"error")+" rules not allowed (for token '"+B.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+B.defaultType+"')");O=B}var he=B.match.slice();if(z)for(;he.length&&typeof he[0]=="string"&&he[0].length===1;){var We=he.shift();I[We.charCodeAt(0)]=B}if(B.pop||B.push||B.next){if(!j)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+B.defaultType+"')");if(B.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+B.defaultType+"')")}if(he.length!==0){z=!1,R.push(B);for(var Ke=0;Ke<he.length;Ke++){var Se=he[Ke];if(s(Se)){if(N===null)N=Se.unicode;else if(N!==Se.unicode&&B.fallback===!1)throw new Error("If one rule is /u then all must be")}}var ue=v(he.map(c)),ge=new RegExp(ue);if(ge.test(""))throw new Error("RegExp matches empty string: "+ge);var Ge=m(ue);if(Ge>0)throw new Error("RegExp has capture groups: "+ge+`
Use (?: … ) instead`);if(!B.lineBreaks&&ge.test(`
`))throw new Error("Rule should declare lineBreaks: "+ge);ee.push(l(ue))}}var tr=O&&O.fallback,Sr=a&&!tr?"ym":"gm",Kr=a||tr?"":"|";N===!0&&(Sr+="u");var Vn=new RegExp(v(ee)+Kr,Sr);return{regexp:Vn,groups:R,fast:I,error:O||d}}function C(E){var j=D(x(E));return new ie({start:j},"start")}function w(E,j,O){var I=E&&(E.push||E.next);if(I&&!O[I])throw new Error("Missing state '"+I+"' (in token '"+E.defaultType+"' of state '"+j+"')");if(E&&E.pop&&+E.pop!=1)throw new Error("pop must be 1 (in token '"+E.defaultType+"' of state '"+j+"')")}function Z(E,j){var O=E.$all?x(E.$all):[];delete E.$all;var I=Object.getOwnPropertyNames(E);j||(j=I[0]);for(var z=Object.create(null),N=0;N<I.length;N++){var R=I[N];z[R]=x(E[R]).concat(O)}for(var N=0;N<I.length;N++)for(var R=I[N],ee=z[R],G=Object.create(null),B=0;B<ee.length;B++){var he=ee[B];if(he.include){var We=[B,1];if(he.include!==R&&!G[he.include]){G[he.include]=!0;var Ke=z[he.include];if(!Ke)throw new Error("Cannot include nonexistent state '"+he.include+"' (in state '"+R+"')");for(var Se=0;Se<Ke.length;Se++){var ue=Ke[Se];ee.indexOf(ue)===-1&&We.push(ue)}}ee.splice.apply(ee,We),B--}}for(var ge=Object.create(null),N=0;N<I.length;N++){var R=I[N];ge[R]=D(z[R],!0)}for(var N=0;N<I.length;N++){for(var Ge=I[N],tr=ge[Ge],Sr=tr.groups,B=0;B<Sr.length;B++)w(Sr[B],Ge,ge);for(var Kr=Object.getOwnPropertyNames(tr.fast),B=0;B<Kr.length;B++)w(tr.fast[Kr[B]],Ge,ge)}return new ie(ge,j)}function be(E){for(var j=typeof Map<"u",O=j?new Map:Object.create(null),I=Object.getOwnPropertyNames(E),z=0;z<I.length;z++){var N=I[z],R=E[N],ee=Array.isArray(R)?R:[R];ee.forEach(function(G){if(typeof G!="string")throw new Error("keyword must be string (in keyword '"+N+"')");j?O.set(G,N):O[G]=N})}return function(G){return j?O.get(G):O[G]}}var ie=function(E,j){this.startState=j,this.states=E,this.buffer="",this.stack=[],this.reset()};ie.prototype.reset=function(E,j){return this.buffer=E||"",this.index=0,this.line=j?j.line:1,this.col=j?j.col:1,this.queuedToken=j?j.queuedToken:null,this.queuedText=j?j.queuedText:"",this.queuedThrow=j?j.queuedThrow:null,this.setState(j?j.state:this.startState),this.stack=j&&j.stack?j.stack.slice():[],this},ie.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},ie.prototype.setState=function(E){if(!(!E||this.state===E)){this.state=E;var j=this.states[E];this.groups=j.groups,this.error=j.error,this.re=j.regexp,this.fast=j.fast}},ie.prototype.popState=function(){this.setState(this.stack.pop())},ie.prototype.pushState=function(E){this.stack.push(this.state),this.setState(E)};var ce=a?function(E,j){return E.exec(j)}:function(E,j){var O=E.exec(j);return O[0].length===0?null:O};ie.prototype._getGroup=function(E){for(var j=this.groups.length,O=0;O<j;O++)if(E[O+1]!==void 0)return this.groups[O];throw new Error("Cannot find token type for matched text")};function Je(){return this.value}if(ie.prototype.next=function(){var E=this.index;if(this.queuedGroup){var j=this._token(this.queuedGroup,this.queuedText,E);return this.queuedGroup=null,this.queuedText="",j}var O=this.buffer;if(E!==O.length){var R=this.fast[O.charCodeAt(E)];if(R)return this._token(R,O.charAt(E),E);var I=this.re;I.lastIndex=E;var z=ce(I,O),N=this.error;if(z==null)return this._token(N,O.slice(E,O.length),E);var R=this._getGroup(z),ee=z[0];return N.fallback&&z.index!==E?(this.queuedGroup=R,this.queuedText=ee,this._token(N,O.slice(E,z.index),E)):this._token(R,ee,E)}},ie.prototype._token=function(E,j,O){var I=0;if(E.lineBreaks){var z=/\n/g,N=1;if(j===`
`)I=1;else for(;z.exec(j);)I++,N=z.lastIndex}var R={type:typeof E.type=="function"&&E.type(j)||E.defaultType,value:typeof E.value=="function"?E.value(j):j,text:j,toString:Je,offset:O,lineBreaks:I,line:this.line,col:this.col},ee=j.length;if(this.index+=ee,this.line+=I,I!==0?this.col=ee-N+1:this.col+=ee,E.shouldThrow){var G=new Error(this.formatError(R,"invalid syntax"));throw G}return E.pop?this.popState():E.push?this.pushState(E.push):E.next&&this.setState(E.next),R},typeof Symbol<"u"&&Symbol.iterator){var Pe=function(E){this.lexer=E};Pe.prototype.next=function(){var E=this.lexer.next();return{value:E,done:!E}},Pe.prototype[Symbol.iterator]=function(){return this},ie.prototype[Symbol.iterator]=function(){return new Pe(this)}}return ie.prototype.formatError=function(E,j){if(E==null)var O=this.buffer.slice(this.index),E={text:O,offset:this.index,lineBreaks:O.indexOf(`
`)===-1?0:1,line:this.line,col:this.col};var I=2,z=Math.max(E.line-I,1),N=E.line+I,R=String(N).length,ee=f(this.buffer,this.line-E.line+I+1).slice(0,5),G=[];G.push(j+" at line "+E.line+" col "+E.col+":"),G.push("");for(var B=0;B<ee.length;B++){var he=ee[B],We=z+B;G.push(p(String(We),R)+"  "+he),We===E.line&&G.push(p("",R+E.col+1)+"^")}return G.join(`
`)},ie.prototype.clone=function(){return new ie(this.states,this.state)},ie.prototype.has=function(E){return!0},{compile:C,states:Z,error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:be}})}}),K=class extends Error{constructor(r,t,n,a){super(ds(r,t,n,a));fe(this,"name");fe(this,"info");this.name=r,this.info=n}},ds=(e,r,t,n)=>{const a={SyntaxError:"Erreur syntaxique",EvaluationError:"Erreur d'évaluation",UnknownRule:"Règle inconnue",PrivateRule:"Règle privée"},s=/error/i.test(e);return`
[ ${a[e]??e} ]`+(t&&"dottedName"in t&&t.dottedName?.length?`
➡️  Dans la règle "${t.dottedName}"`:"")+`
${s?"✖️":"⚠️"}  ${r}`+(n?`
`+(s?"    ":"ℹ️  ")+n.message:"")},Sn=class extends K{constructor(e){super("InternalError",`
Erreur interne du moteur.

Cette erreur est le signe d'un bug dans publicodes. Pour nous aider à le résoudre, vous pouvez copier ce texte dans un nouveau ticket : https://github.com/betagouv/mon-entreprise/issues/new.

payload:
${JSON.stringify(e,null,2)}
`,e)}},_g=class extends Sn{constructor(e){super(e)}};function Ca(e,r,t,n){e.warn(ds("Avertissement",r,t,n))}function vu(e,r){e.warn(ds("Avertissement",`Cette règle est tagguée comme experimentale. 

Cela veut dire qu'elle peut être modifiée, renommée, ou supprimée sans qu'il n'y ait de changement de version majeure dans l'API.
`,{dottedName:r}))}function $u(e,r,t){if(e.has(r)){e.get(r).add(t);return}e.set(r,new Set([t]))}function yg(e,r){return Object.entries(r).reduce((t,[n,a])=>({...t,[n]:[...t[n]??[],...a]}),e)}var jt=e=>{const r={};for(const t in e)r[t]=e[t];return r};function pa(e,r=!0){function t(n){const a=e(n,t);return a===!1?n:a===void 0?_i(t,n):r?a:_i(t,a)}return t}function Cc(e){function r(n){switch(e(n,r)){case"continue":_i(t,n);return;case"stop":return}}const t=n=>(r(n),n);return r}function Eg(e,r){const t={};for(const n in r)t[n]=e(r[n]);return t}var _i=(e,r)=>{switch(r=kg(e,r),r.nodeKind){case"rule":return xg(e,r);case"reference":case"constant":return r;case"arrondi":return Ig(e,r);case"simplifier unité":case"variable manquante":case"est non applicable":case"est non défini":return wg(e,r);case"barème":case"taux progressif":case"grille":return Sg(e,r);case"une possibilité":return Dg(e,r);case"durée":return Vg(e,r);case"résoudre référence circulaire":return Ng(e,r);case"inversion":return Og(e,r);case"operation":return jg(e,r);case"recalcul":return Pg(e,r);case"unité":return Tg(e,r);case"variations":return Mg(e,r);case"replacementRule":return Cg(e,r);case"texte":return qg(e,r);case"condition":return Rg(e,r);default:throw new _g(r)}},kg=(e,r)=>{if(!("sourceMap"in r)||!r.sourceMap||!r.sourceMap.args)return r;const t=r.sourceMap,n={};for(const a in t.args){const s=t.args[a];n[a]=Array.isArray(s)?s.map(o=>e(o)):e(s)}return{...r,sourceMap:{...t,args:n}}},xg=(e,r)=>{const t=jt(r);t.suggestions={};for(const n in r.suggestions)t.suggestions[n]=e(r.suggestions[n]);return t.replacements=r.replacements.map(e),t.explanation={ruleDisabledByItsParent:r.explanation.ruleDisabledByItsParent,nullableParent:r.explanation.nullableParent?e(r.explanation.nullableParent):void 0,parents:r.explanation.parents.map(e),valeur:e(r.explanation.valeur)},t},Cg=(e,r)=>({...r,definitionRule:e(r.definitionRule),replacedReference:e(r.replacedReference),replacementNode:e(r.replacementNode),whiteListedNames:r.whiteListedNames.map(e),blackListedNames:r.blackListedNames.map(e)}),wg=(e,r)=>({...r,explanation:e(r.explanation)});function Ag(e,r){return r.map(t=>({...t,...t.plafond&&{plafond:e(t.plafond)},..."montant"in t&&{montant:e(t.montant)},..."taux"in t&&{taux:e(t.taux)}}))}var Sg=(e,r)=>({...r,explanation:{assiette:e(r.explanation.assiette),multiplicateur:e(r.explanation.multiplicateur),tranches:Ag(e,r.explanation.tranches)}}),Dg=(e,r)=>({...r,explanation:r.explanation.map(e)}),jg=(e,r)=>{const t=jt(r);return t.explanation=[e(r.explanation[0]),e(r.explanation[1])],t},Vg=(e,r)=>({...r,explanation:{depuis:e(r.explanation.depuis),"jusqu'à":e(r.explanation["jusqu'à"])}}),Og=(e,r)=>({...r,explanation:{...r.explanation,inversionCandidates:r.explanation.inversionCandidates.map(e)}}),Ig=(e,r)=>({...r,explanation:{valeur:e(r.explanation.valeur),arrondi:e(r.explanation.arrondi)}}),Ng=(e,r)=>({...r,explanation:{...r.explanation,valeur:e(r.explanation.valeur)}}),qg=(e,r)=>({...r,explanation:r.explanation.map(t=>typeof t=="string"?t:e(t))}),Pg=(e,r)=>({...r,explanation:{...r.explanation,amendedSituation:r.explanation.amendedSituation.map(([t,n])=>[e(t),e(n)]),recalcul:r.explanation.recalculNode&&e(r.explanation.recalculNode)}}),Tg=(e,r)=>{const t=jt(r);return t.explanation=e(r.explanation),t},Mg=(e,r)=>({...r,explanation:r.explanation.map(({condition:t,consequence:n})=>({condition:e(t),consequence:n&&e(n)}))}),Rg=(e,r)=>{const t=jt(r);return t.explanation={si:e(r.explanation.si),alors:e(r.explanation.alors),sinon:e(r.explanation.sinon)},t},nn={constant:e=>e};function Ee(e,r){if(nn??(nn={}),nn[e])throw new K("EvaluationError",`Multiple evaluation functions registered for the nodeKind \x1B[4m${e}`,{dottedName:""});nn[e]=r}var fu={isNullable:void 0,type:void 0};function Fg(e,r,t){function n(s){if(!s||typeof s!="object")return fu;if(t.has(s))return t.get(s);t.set(s,fu);const o=a(s);return t.set(s,o),o}function a(s){switch(s.nodeKind){case"barème":case"durée":case"grille":case"taux progressif":return{isNullable:!1,type:"number"};case"est non défini":case"est non applicable":return{isNullable:!1,type:"boolean"};case"constant":return{isNullable:s.isNullable??s.nodeValue===null,type:s.type};case"operation":return{isNullable:["<","<=",">",">=","/","*"].includes(s.operationKind)?n(s.explanation[0]).isNullable||n(s.explanation[1]).isNullable:s.operationKind==="-"?n(s.explanation[0]).isNullable:!1,type:["<","<=",">",">=","=","!=","et","ou"].includes(s.operationKind)?"boolean":"number"};case"inversion":case"recalcul":case"replacementRule":case"résoudre référence circulaire":return{isNullable:!1,type:"number"};case"texte":case"une possibilité":return{isNullable:!1,type:"string"};case"rule":case"arrondi":return n(s.explanation.valeur);case"unité":case"simplifier unité":case"variable manquante":return n(s.explanation);case"condition":return{isNullable:[s.explanation.si,s.explanation.alors,s.explanation.sinon].some(u=>n(u).isNullable),type:n(s.explanation.alors).type??n(s.explanation.sinon).type};case"variations":const o=s.explanation.map(({consequence:u})=>n(u));return{isNullable:o.some(u=>u.isNullable),type:o.map(u=>u.type).find(u=>u!==void 0)};case"reference":return n(r[s.dottedName])}}return e.forEach(s=>{const o=r[s];n(o),o.explanation.parents.forEach(n)}),t}function kr(e,r,t){let n,a;function s(o,u){n??(n=U(t,$n({dottedName:"INLINE_MECANISM"}))),a??(a={});for(const v in r)"par défaut"in r[v]&&(a[v]=U(r[v]["par défaut"],$n({})));Object.keys(r).length===1&&"valeur"in r&&(o={valeur:o});const m={};for(const v in o)m[v]=U(o[v],u);const l=pa(v=>{if(v.nodeKind!=="reference"||!(v.name in r))return;const c=v.name;if(c in m)return m[c];if(c in a)return a[c];throw new K("SyntaxError",`Il manque la clé '${c} dans le mécanisme ${e}`,{dottedName:c})})(n);return l.sourceMap={mecanismName:e,args:m},l}return s.nom=e,Object.assign(s,"name",{value:`parse${wc(e)}Inline`})}function Mt(e,r,t){function n(a,s){Object.keys(r).length===1&&"valeur"in r&&(a={valeur:a});const o={};for(const m in a){const l=a[m];o[m]=Array.isArray(l)?l.map(v=>U(v,s)):U(l,s)}const u=U(t(o),s);return u.sourceMap={mecanismName:e,args:o},u}return n.nom=e,Object.assign(n,"name",{value:`parse${wc(e)}Inline`})}function wc(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,r=>r.toUpperCase()).replace(/\s+/g,"")}var Wr={nodeKind:"constant",nodeValue:null,missingVariables:{},type:void 0,isNullable:!0},Ac={nodeKind:"constant",nodeValue:void 0,missingVariables:{},type:void 0,isNullable:!1},ba={...Ac,type:"number"},Lg=kr("abattement",{abattement:{},valeur:{}},{"-":["valeur","abattement"],plancher:0}),Ug=kr("applicable si",{"applicable si":{},valeur:{}},{condition:{si:"applicable si != non",alors:"valeur",sinon:Wr}}),Bg=e=>"missingVariables"in e?e.missingVariables:{},Sc=(e={})=>Object.fromEntries(Object.entries(e).map(([r,t])=>[r,t+1])),lt=(e={},r={})=>Object.fromEntries([...Object.keys(e),...Object.keys(r)].map(t=>[t,(e[t]??0)+(r[t]??0)])),rr=e=>e.map(Bg).reduce(lt,{}),Ar=e=>({nodeValue:e,type:typeof e,isDefault:!0,nodeKind:"constant"}),zg=(e,r,t)=>{const n={};for(const a in e){const s=e[a];if(r[a]==null&&!s)throw new K("EngineError",`Il manque une clé '${a}' dans ${JSON.stringify(r)} `,{});const o=r[a]!=null?U(r[a],t):s;n[a]=o}return n},Qr=(e,r=t=>t)=>{const[t,...n]=e.split("/").map(o=>o.trim()),a=o=>Jg(o.split(".").filter(Boolean).map(u=>r(u)));return{numerators:a(t),denominators:n.flatMap(o=>a(o))}},Hg=/(\d+)(?!.*[A-Za-z])/g;function Dc(e){let r={};return e.forEach(t=>{const n=t.match(Hg);if(n!=null){const a=n[0],s=t.split(a)[0];r[s]=(r[s]??0)+ +a}else r[t]=(r[t]??0)+1}),r}function Jg(e){let r=Dc(e);return Object.entries(r).flatMap(([t,n])=>Array(n).fill(t))}function Wg(e){let r=Dc(e);return Object.entries(r).map(([t,n])=>n>1?`${t}${n}`:t)}var Pn=(e,r,t=n=>n)=>Wg(e.map(n=>t(n,r))).join("."),du=2;function or(e,r=du,t=n=>n){if(e===null||typeof e!="object")return typeof e=="string"?t(e,r):e;const n=wa(e),{numerators:a=[],denominators:s=[]}=n,o=a.length>0,u=s.length>0;return!o&&!u?"":o&&!u?Pn(a,r,t):!o&&u?`/${Pn(s,1,t)}`:`${Pn(a,du,t)} / ${Pn(s,1,t)}`}var an={numerators:[],denominators:[]},Vr=(e,r)=>{if(e==="/"){if(r.length!==2)throw new K("InternalError","Infer units of a division with units.length !== 2)",{});return Vr("*",[r[0]||an,{numerators:(r[1]||an).denominators,denominators:(r[1]||an).numerators}])}const t=r.filter(Boolean);if(t.length<=1)return t[0];if(e==="*")return wa({numerators:t.flatMap(n=>n?.numerators??[]),denominators:t.flatMap(n=>n?.denominators??[])});if(e==="-"||e==="+")return r.find(n=>n)},jc=(e,r)=>Array.isArray(e)&&Array.isArray(r)?e.length===r.length&&e.every((t,n)=>e[n]===r[n]):e===r,pu=(e,r=jc)=>t=>{const n=t.findIndex(a=>r(a,e));return t.filter((a,s)=>s!==n)},wa=(e,r=jc)=>[...e.numerators,...e.denominators].reduce(({numerators:n,denominators:a},s)=>n.find(o=>r(s,o))&&a.find(o=>r(s,o))?{numerators:pu(s,r)(n),denominators:pu(s,r)(a)}:{numerators:n,denominators:a},e),Gn={"mois/an":12,"jour/an":365,"jour/mois":365/12,"trimestre/an":4,"mois/trimestre":3,"jour/trimestre":365/12*3,"€/k€":10**3,"g/kg":10**3,"mg/g":10**3,"mg/kg":10**6,"m/km":10**3,"cm/m":10**2,"mm/cm":10**1,"mm/m":10**3,"cm/km":10**5,"mm/km":10**6};function bu(e,r){return Gn[`${r}/${e}`]||Gn[`${e}/${r}`]&&1/Gn[`${e}/${r}`]}function yi(e,r){let t=100**(r.filter(n=>n==="%").length-e.filter(n=>n==="%").length);return[t]=e.reduce(([n,a],s)=>{const o=a.findIndex(m=>!!bu(s,m)),u=bu(s,a[o])||1;return[n*u,[...a.slice(0,o+1),...a.slice(o+1)]]},[t,r]),t}var hu={"kW.h":"kWh","mn / h":"noeud"};function Kg(e,r){return!e||!r?!1:e===r||e===hu[r]||r===hu[e]}function Dn(e,r,t){const n=or(e),a=or(r);if(!Kg(n,a)&&!Yg(e,r))throw new K("EngineError",`Impossible de convertir l'unité '${n}' en '${a}'`,{});if(!t||e===void 0)return t;const[s,o]=gu(e||an),[u,m]=gu(r||an);return Ic(t*o/m*yi(s.numerators,u.numerators)*yi(u.denominators,s.denominators))}var Vc=Gg(Gn);function Gg(e){return Object.keys(e).reduce((r,t)=>{const[n,a]=t.split("/"),s=r.findIndex(u=>u.has(n)),o=r.findIndex(u=>u.has(a));if(s>-1&&o>-1&&s!==o)throw new K("EngineError",`Invalid ratio ${t}`,{});return s===-1&&o===-1?r.push(new Set([n,a])):s>-1?r[s].add(a):o>-1&&r[o].add(n),r},[])}function Oc(e,r){return e===r||Vc.some(t=>t.has(e)&&t.has(r))}function Ic(e){return+e.toFixed(16)}function Nc(e){const{numerators:r,denominators:t}=wa(e,Oc);return r.length&&r.every(n=>n==="%")?{numerators:["%"],denominators:t}:qc({numerators:r,denominators:t})}function gu(e,r=1){const t=yi(e.numerators,e.denominators);return[wa(qc(e),Oc),r&&Ic(r*t)]}var qc=e=>({numerators:e.numerators.filter(r=>r!=="%"),denominators:e.denominators.filter(r=>r!=="%")});function Yg(e,r){if(e==null||r==null)return!0;const t=l=>l.reduce((v,c)=>{const p=Vc.findIndex(g=>g.has(c)),f=p===-1?c:""+p;return{...v,[f]:1+(v[f]??0)}},{}),[n,a,s,o]=[e.numerators,e.denominators,r.numerators,r.denominators].map(t),u=l=>[...new Set(l)],m=[n,a,s,o].map(Object.keys).flat();return u(m).every(l=>(n[l]||0)-(a[l]||0)===(s[l]||0)-(o[l]||0)||l==="%")}function _u(e,r){return+e.toFixed(r)}var Xg=function(e){const r=Lc(this.evaluateNode(e.explanation.valeur)),t=r.nodeValue;let n=e.explanation.arrondi;if(t!==!1&&(n=this.evaluateNode(n),typeof n.nodeValue=="number"&&!or(n.unit)?.match(/décimales?/)))throw new K("EvaluationError",`L'unité ${or(n.unit)} de l'arrondi est inconnu. Vous devez utiliser l'unité “décimales”`,{dottedName:this.cache._meta.evaluationRuleStack[0]});return{...e,nodeValue:typeof r.nodeValue!="number"||!("nodeValue"in n)?r.nodeValue:typeof n.nodeValue=="number"?_u(r.nodeValue,n.nodeValue):n.nodeValue===!0?_u(r.nodeValue,0):n.nodeValue===void 0?void 0:r.nodeValue,explanation:{valeur:r,arrondi:n},missingVariables:rr([r,n]),unit:r.unit}};function Aa(e,r){return{explanation:{valeur:U(e.valeur,r),arrondi:U(e.arrondi,r)},nodeKind:Aa.nom}}Aa.nom="arrondi";Ee(Aa.nom,Xg);function Pc(e,r){return Object.entries(e.avec).forEach(([n,a])=>{U({nom:n,...a==null?{}:typeof a!="object"||"nodeKind"in a?{valeur:a}:a},r)}),U(e.valeur,r)}Pc.nom="avec";var ps=(e,r)=>e.map((t,n)=>{if(!t.plafond&&n>e.length)throw new K("SyntaxError",`La tranche n°${n} du barème n'a pas de plafond précisé. Seule la dernière tranche peut ne pas être plafonnée`,{dottedName:""});return{...t,...t.taux!==void 0?{taux:U(t.taux,r)}:{},...t.montant!==void 0?{montant:U(t.montant,r)}:{},plafond:"plafond"in t?U(t.plafond,r):{nodeValue:1/0,nodeKind:"constant",type:"number",isNullable:!1}}});function bs({multiplicateur:e,assiette:r,parsedTranches:t}){return t.reduce(([n,a],s,o)=>{if(a)return[[...n,{...s,isAfterActive:!0}],a];const u=this.evaluateNode(s.plafond),m=n[o-1]?n[o-1].plafond:{nodeValue:0};let l=u.nodeValue===void 0||e.nodeValue===void 0?void 0:u.nodeValue*e.nodeValue;try{l=l===1/0||l===0?l:Dn(Vr("*",[u.unit,e.unit]),r.unit,l)}catch(g){Ca(this.context.logger,`L'unité du plafond de la tranche n°${o+1}  n'est pas compatible avec celle l'assiette`,{dottedName:this.cache._meta.evaluationRuleStack[0]},g)}const v=n[o-1]?n[o-1].plafondValue:0,c=v===void 0||r.nodeValue===void 0?void 0:v>r.nodeValue,p=[u,r,e,m];if(p.some(g=>g.nodeValue===void 0))return[[...n,{...s,plafond:u,plafondValue:l,plancherValue:v,nodeValue:void 0,isActive:void 0,isAfterActive:c,missingVariables:rr(p)}],!1];if(n[o-1]&&v&&l<=v)throw new K("EvaluationError",`Le plafond de la tranche n°${o+1} a une valeur inférieure à celui de la tranche précédente`,{dottedName:this.cache._meta.evaluationRuleStack[0]});const f={...s,plafond:u,plancherValue:v,plafondValue:l,isAfterActive:c,isActive:r.nodeValue>=v&&r.nodeValue<l};return[[...n,f],f.isActive]},[[],!1])[0]}function Qg(e,r){return{explanation:{assiette:U(e.assiette,r),multiplicateur:e.multiplicateur?U(e.multiplicateur,r):Ar(1),tranches:ps(e.tranches,r)},nodeKind:"barème"}}function Zg(e,r,t){return e.map(n=>{if(n.isAfterActive)return{...n,nodeValue:0};const a=t(n.taux),s=rr([a,n]);return[r.nodeValue,a.nodeValue,n.plafondValue,n.plancherValue].some(o=>o===void 0)?{...n,taux:a,nodeValue:void 0,missingVariables:s}:{...n,taux:a,..."unit"in r&&{unit:r.unit},nodeValue:(Math.min(r.nodeValue,n.plafondValue)-n.plancherValue)*Dn(a.unit,Qr(""),a.nodeValue),missingVariables:s}})}var e1=function(e){const r=this.evaluateNode.bind(this),t=this.evaluateNode(e.explanation.assiette),n=this.evaluateNode(e.explanation.multiplicateur);if(n.nodeValue===0)throw new K("EvaluationError","Le multiplicateur ne peut pas être nul",{dottedName:this.cache._meta.evaluationRuleStack[0]});const a=Zg(bs.call(this,{parsedTranches:e.explanation.tranches,assiette:t,multiplicateur:n}),t,r),s=a.reduce((o,{nodeValue:u})=>u==null?void 0:o+u,0);return{...e,nodeValue:s,missingVariables:rr([t,n,...a]),explanation:{assiette:t,multiplicateur:n,tranches:a},unit:t.unit}};Ee("barème",e1);var r1=(e,r,t)=>{const{composantes:n,...a}=r,s=U({somme:n.map(o=>{const{attributs:u,...m}=o;return{...u,valeur:{[e]:{...a,...m}}}})},t);return{...s,sourceMap:{args:{},...s.sourceMap,mecanismName:"composantes"}}},t1=function(e){let r;const t=this.evaluateNode(e.explanation.si);let n=e.explanation.alors,a=e.explanation.sinon;if("unit"in t)throw new K("EvaluationError","La condition doit être de type booléen",{dottedName:this.cache._meta.evaluationRuleStack[0]});if(t.nodeValue===!0)n=this.evaluateNode(e.explanation.alors),n.isActive=!0,r=n;else if(t.nodeValue===!1)a=this.evaluateNode(e.explanation.sinon),r=a;else if(t.nodeValue===null)r=t;else if(t.nodeValue===void 0)a=this.evaluateNode(e.explanation.sinon),n=this.evaluateNode(e.explanation.alors),r={...t,missingVariables:rr([a,n])};else throw new K("EvaluationError","La condition doit être de type booléen",{dottedName:this.cache._meta.evaluationRuleStack[0]});const s=r.unit??n.unit;return{...r,missingVariables:lt(Sc(t.missingVariables),r.missingVariables),...s!=null?{unit:s}:{},...e,explanation:{si:t,alors:n,sinon:a}}};function Tc(e,r){return{explanation:{si:U(e.si,r),alors:U(e.alors,r),sinon:U(e.sinon,r)},nodeKind:"condition"}}Tc.nom="condition";Ee("condition",t1);function Mc(e){let[r,t,n]=e.split("/");return n||([r,t,n]=["01",r,t]),Rc(+n,+t,+r)}var Fa=e=>+e<10?`0${e}`:""+e;function Rc(e,r,t){const n=new Date(+e,+r-1,+t);if(!+n||n.getDate()!==+t)throw new K("SyntaxError",`La date ${t}/${r}/${e} n'est pas valide`,{dottedName:""});return`${Fa(t)}/${Fa(r)}/${Fa(e)}`}function Ei(e){const[r,t,n]=Mc(e).split("/"),a=new Date(+n,+t-1,+r);return a.setMinutes(a.getMinutes()-a.getTimezoneOffset()),a}function n1(e){return Rc(e.getFullYear(),e.getMonth()+1,e.getDate())}var yu=n1(new Date),a1={depuis:Ar(yu),"jusqu'à":Ar(yu)},i1=function(e){const r=this.evaluateNode(e.explanation.depuis),t=this.evaluateNode(e.explanation["jusqu'à"]);let n;if([r,t].some(({nodeValue:a})=>a===void 0))n=void 0;else{const[a,s]=[r.nodeValue,t.nodeValue].map(Ei);n=Math.max(0,Math.round((s.getTime()-a.getTime())/(1e3*60*60*24)))}return{...e,missingVariables:rr([r,t]),nodeValue:n,explanation:{depuis:r,"jusqu'à":t}}},s1=(e,r)=>({explanation:zg(a1,e,r),unit:Qr("jour"),nodeKind:"durée"});Ee("durée",i1);function Fc(e,r){return{explanation:U(e,r),nodeKind:"est non défini"}}Fc.nom="est non défini";var o1=kr("est défini",{valeur:{}},{"=":[{"est non défini":"valeur"},"non"]}),u1=kr("est applicable",{valeur:{}},{"=":[{"est non applicable":"valeur"},"non"]}),l1=function(e){const r=this.evaluateNode(e.explanation);let t=!1;return r.nodeValue===void 0&&(t=!0),{...e,nodeValue:t,missingVariables:r.missingVariables,explanation:r}};Ee("est non défini",l1);function Lc(e){if(!e.unit)return e;const r=Nc(e.unit);return nt(r,e)}function nt(e,r){return{...r,nodeValue:r.unit&&typeof r.nodeValue=="number"?Dn(r.unit,e,r.nodeValue):r.nodeValue,unit:e}}var La=({style:e,maximumFractionDigits:r=2,minimumFractionDigits:t=0,language:n})=>a=>{const s=e==="currency"&&r>=2&&t===0&&!Number.isInteger(a)?2:t;return Intl.NumberFormat(n,{style:e,currency:"EUR",maximumFractionDigits:r,minimumFractionDigits:s}).format(a)};function c1({maximumFractionDigits:e,minimumFractionDigits:r,language:t,formatUnit:n,unit:a,nodeValue:s}){if(typeof s!="number")return s;const o=a?or(a,s,n):void 0;switch(o){case"€":return La({style:"currency",maximumFractionDigits:e,minimumFractionDigits:r,language:t})(s);case"%":return La({style:"percent",maximumFractionDigits:e,language:t})(s/100);default:return La({style:"decimal",minimumFractionDigits:r,maximumFractionDigits:e,language:t})(s)+(typeof o=="string"?` ${o}`:"")}}function m1(e){return e&&e[0].toUpperCase()+e.slice(1)}var v1={fr:{true:"oui",false:"non"},en:{true:"yes",false:"no"}};function $1(e,{language:r="fr",displayedUnit:t,formatUnit:n,precision:a=2}={}){let s=typeof e=="number"||typeof e>"u"||e===null?e:e.nodeValue;if(typeof s=="number"&&Number.isNaN(s))return"Erreur dans le calcul du nombre";if(s===void 0)return"Pas encore défini";if(s===null)return"Non applicable";if(typeof s=="string")return s.replace("\\n",`
`);if(typeof s=="object")return s.nom;if(typeof s=="boolean")return v1[r][s];if(typeof s=="number"){let o=typeof e=="number"||typeof e>"u"||!("unit"in e)?void 0:e.unit;if(o){const u=Lc({unit:o,nodeValue:s});o=u.unit,s=u.nodeValue}return c1({minimumFractionDigits:0,maximumFractionDigits:a,language:r,formatUnit:n,nodeValue:s,unit:t??o}).trim()}}var f1={};pg(f1,{contextNameToDottedName:()=>ki,cyclicDependencies:()=>E1,decodeRuleName:()=>w1,disambiguateReference:()=>Hc,disambiguateReferenceNode:()=>Ci,encodeRuleName:()=>C1,findCommonAncestor:()=>zc,getChildrenRules:()=>A1,isAccessible:()=>Sa,isExperimental:()=>xi,nameLeaf:()=>Uc,ruleParent:()=>Bc,ruleParents:()=>jn,ruleWithDedicatedDocumentationPage:()=>S1,updateReferencesMapsFromReferenceNode:()=>gs});function Rt(e,r){return e!=null&&Object.prototype.hasOwnProperty.call(e,r)}function Eu(e){return function(...r){return e}}var d1="\0",ku="",xu=(e,r)=>{e[r]?e[r]++:e[r]=1},Cu=(e,r)=>{--e[r]||delete e[r]},zt=(e,r,t,n)=>{let a=""+r,s=""+t;if(!e&&a>s){const o=a;a=s,s=o}return a+ku+s+ku+(n===void 0?d1:n)},p1=(e,r,t,n)=>{let a=""+r,s=""+t;if(!e&&a>s){const u=a;a=s,s=u}const o={v:a,w:s};return n&&(o.name=n),o},Ua=(e,r)=>zt(e,r.v,r.w,r.name),b1=class{constructor(e={}){fe(this,"_nodeCount",0);fe(this,"_edgeCount",0);fe(this,"_isDirected");fe(this,"_label");fe(this,"_defaultNodeLabelFn");fe(this,"_defaultEdgeLabelFn");fe(this,"_nodes");fe(this,"_in");fe(this,"_preds");fe(this,"_out");fe(this,"_sucs");fe(this,"_edgeObjs");fe(this,"_edgeLabels");this._isDirected=Rt(e,"directed")?e.directed:!0,this._label=void 0,this._defaultNodeLabelFn=Eu(void 0),this._defaultEdgeLabelFn=Eu(void 0),this._nodes={},this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}setGraph(e){return this._label=e,this}graph(){return this._label}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}setNode(e,r=void 0){return Rt(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=r),this):(this._nodes[e]=arguments.length>1?r:this._defaultNodeLabelFn(e),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}setNodes(e,r){return e.forEach(t=>{r!==void 0?this.setNode(t,r):this.setNode(t)}),this}node(e){return this._nodes[e]}hasNode(e){return Rt(this._nodes,e)}successors(e){const r=this._sucs[e];if(r)return Object.keys(r)}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setEdge(e,r,t=void 0,n=void 0){e=""+e,r=""+r;const a=zt(this._isDirected,e,r,n);if(Rt(this._edgeLabels,a))return t!==void 0&&(this._edgeLabels[a]=t),this;this.setNode(e),this.setNode(r),this._edgeLabels[a]=t!==void 0?t:this._defaultEdgeLabelFn(e,r,n);const s=p1(this._isDirected,e,r,n);return e=s.v,r=s.w,Object.freeze(s),this._edgeObjs[a]=s,xu(this._preds[r],e),xu(this._sucs[e],r),this._in[r][a]=s,this._out[e][a]=s,this._edgeCount++,this}edge(e,r,t){const n=arguments.length===1?Ua(this._isDirected,arguments[0]):zt(this._isDirected,e,r,t);return this._edgeLabels[n]}hasEdge(e,r,t){const n=arguments.length===1?Ua(this._isDirected,arguments[0]):zt(this._isDirected,e,r,t);return Rt(this._edgeLabels,n)}removeEdge(e,r,t){const n=arguments.length===1?Ua(this._isDirected,arguments[0]):zt(this._isDirected,e,r,t),a=this._edgeObjs[n];return a&&(e=a.v,r=a.w,delete this._edgeLabels[n],delete this._edgeObjs[n],Cu(this._preds[r],e),Cu(this._sucs[e],r),delete this._in[r][n],delete this._out[e][n],this._edgeCount--),this}outEdges(e,r=void 0){const t=this._out[e];if(t){const n=Object.values(t);return r===void 0?n:n.filter(function(a){return a.w===r})}}};function h1(e){let r=0;const t=[],n={},a=[];function s(o){const u=n[o]={onStack:!0,lowlink:r,index:r++};if(t.push(o),e.successors(o).forEach(function(m){Object.prototype.hasOwnProperty.call(n,m)?n[m].onStack&&(u.lowlink=Math.min(u.lowlink,n[m].index)):(s(m),u.lowlink=Math.min(u.lowlink,n[m].lowlink))}),u.lowlink===u.index){const m=[];let l;do l=t.pop(),n[l].onStack=!1,m.push(l);while(o!==l);a.push(m)}}return e.nodes().forEach(function(o){Object.prototype.hasOwnProperty.call(n,o)||s(o)}),a}function g1(e){return h1(e).filter(function(r){return r.length>1||r.length===1&&e.hasEdge(r[0],r[0])})}function _1(e){const r=new b1;return[...e.entries()].forEach(([t,n])=>{n.forEach(a=>{r.setEdge(t,a)})}),r}function y1(e,r){function*t(s){let o=s;for(;;)yield r[o++%r.length]}const n=[];for(let s=0;s<r.length;s++){const o=[];let u;for(const m of t(s))if(u===void 0)o.push(m),u=m;else if(e.get(u)?.has(m)){if(o.includes(m)){o.splice(0,o.lastIndexOf(m));break}o.push(m),u=m}n.push(o)}return n.reduce((s,o)=>o.length>s.length?s:o)}function E1(e){const{referencesMaps:r}=Yn(e),t=_1(r.referencesIn),a=g1(t).map(u=>u.reverse()),s=a.map(u=>y1(r.referencesIn,u)),o=a.map((u,m)=>x1(t,u,s[m]));return[s,o]}var k1=(e,r,t)=>{for(let n=0;n<e.length+1;n++)if(r===e[n]&&t===e[(n+1)%e.length])return!0;return!1};function x1(e,r,t){const n=new Set;return r.forEach(a=>{e.outEdges(a).filter(({w:s})=>r.includes(s)).forEach(({v:s,w:o})=>{n.add(`"${s}" -> "${o}"`+(k1(t,s,o)?" [color=red]":""))})}),`digraph Cycle {
	${[...n].join(`;
	`)};
}`}var ct=e=>e.split(" . "),hs=e=>e.join(" . "),Uc=e=>ct(e).slice(-1)?.[0],C1=e=>e?.replace(/\s\.\s/g,"/").replace(/-/g,"‑").replace(/\s/g,"-"),w1=e=>e.replace(/\//g," . ").replace(/-/g," ").replace(/\u2011/g,"-"),ki=e=>e.endsWith("$SITUATION")?Bc(e):e,Bc=e=>hs(ct(e).slice(0,-1));function jn(e){return ct(e).slice(0,-1).map((r,t,n)=>hs(n.slice(0,t+1))).reverse()}var A1=(e,r)=>Object.keys(e).filter(n=>n.startsWith(r)&&ct(n).length===ct(r).length+1);function zc(e,r){const t=ct(e),n=ct(r),a=t.findIndex((s,o)=>n[o]!==s);return a===-1?e:hs(t.slice(0,a))}function Sa(e,r,t){if(!(t in e))throw new K("InternalError",`La règle "${t}" n'existe pas`,{dottedName:t});const n=zc(r,t),a=[t,...jn(t),""];return a.slice(0,Math.max(a.indexOf(n)-1,0)).every(o=>!(o in e)||e[o].private===!1)}function xi(e,r){if(!(r in e))throw new K("InternalError",`La règle "${r}" n'existe pas`,{dottedName:r});return[r,...jn(r)].some(n=>n in e&&e[n].rawNode?.experimental==="oui")}function Hc(e,r="",t){const a=[r,...jn(r),""].map(o=>o?o+" . "+t:t).sort((o,u)=>o===r?1:u===r?-1:0).filter(o=>o in e),s=a.find(o=>Sa(e,r,o));if(!a.length)throw new K("SyntaxError",`La référence "${t}" est introuvable.
Vérifiez que l'orthographe et l'espace de nom sont corrects`,{dottedName:ki(r)});if(!s)throw new K("SyntaxError",`La règle "${a[0]}" n'est pas accessible depuis "${r}".
Cela vient du fait qu'elle est privée ou qu'un de ses parent est privé`,{dottedName:ki(r)});return s}function S1(e){return e.virtualRule!==!0&&e.type!=="groupe"&&e.type!=="texte"&&e.type!=="paragraphe"&&e.type!=="notification"}function gs(e,r,t){e.nodeKind==="reference"&&($u(r.referencesIn,t??e.contextDottedName,e.dottedName),$u(r.rulesThatUse,e.dottedName,t??e.contextDottedName))}function Ci(e,r){if(e.nodeKind==="reference")return e.dottedName||(e.dottedName=Hc(r,e.contextDottedName,e.name),e.title=r[e.dottedName].title,e.acronym=r[e.dottedName].rawNode.acronyme),e}var D1=0,Tn={};function Jc(e,r){return e?(Array.isArray(e)?e:[e]).map(t=>{typeof t=="string"&&(t={règle:t});const n=U(t.règle,r),a=U(t.par??r.dottedName,r),[s,o]=[t.dans??[],t["sauf dans"]??[]].map(u=>Array.isArray(u)?u:[u]).map(u=>u.map(m=>U(m,r)));return{nodeKind:"replacementRule",rawNode:t,definitionRule:U(r.dottedName,r),replacedReference:n,replacementNode:a,whiteListedNames:s,blackListedNames:o,remplacementRuleId:D1++}}):[]}function j1(e,r){return Jc(e,r).map(t=>({...t,replacementNode:Wr}))}function V1(e){const r={};for(const t in e){const n=e[t];for(const a of n.replacements){if(!a.replacedReference.dottedName)throw new Sn(a);const s=a.replacedReference.dottedName;r[s]=[...r[s]??[],a]}}return r}function O1({newRules:e,previousReplacements:r,parsedRules:t,referencesMaps:n,logger:a}){const s=V1(e),o=new Set([]);for(const c in s){const p=n.rulesThatUse.get(c)??[];for(const f of p)o.add(f)}const u=new Set(Object.keys(e).filter(c=>[...n.referencesIn.get(c)??new Set].some(p=>(r[p]??[]).length))),m=yg(r,s);if(!u.size&&!o.size)return[t,m];const l=wu(r,n),v=wu(s,n);return u.forEach(c=>{t[c]=l(t[c])}),o.forEach(c=>{t[c]=v(t[c])}),[t,m]}function wu(e,r,t){return pa((n,a)=>{if(n.nodeKind==="replacementRule"||n.nodeKind==="inversion"||n.nodeKind==="une possibilité")return!1;if(n.nodeKind==="recalcul")return{...n,explanation:{...n.explanation,recalculNode:a(n.explanation.recalculNode),amendedSituation:n.explanation.amendedSituation.map(([s,o])=>[s,a(o)])}};if(n.nodeKind==="reference"){if(!n.dottedName)throw new Sn(n);const s=I1(n,e[n.dottedName]??[]);return Cc(o=>(gs(o,r,n.contextDottedName),"continue"))(s),s}})}function I1(e,r,t){const n=r.filter(({definitionRule:s})=>s.dottedName!==e.contextDottedName).filter(({whiteListedNames:s})=>!s.length||s.some(o=>e.contextDottedName.startsWith(o.dottedName))).filter(({blackListedNames:s})=>!s.length||s.every(o=>!e.contextDottedName.startsWith(o.dottedName))).sort((s,o)=>{const u=+!!o.whiteListedNames.length-+!!s.whiteListedNames.length,m=+!!o.blackListedNames.length-+!!s.blackListedNames.length;return u||m});if(!n.length)return e;n.length>1;const a=n.map(s=>s.remplacementRuleId).join("-");return Tn[a]??(Tn[a]={nodeKind:"variations",sourceMap:{mecanismName:"replacement"},rawNode:e.rawNode,explanation:[...n.map(s=>({condition:s.definitionRule,consequence:s.replacementNode})),{condition:Ar(!0),consequence:e}]}),Tn[a]}function N1(e,r){const t=!!(e.privé==="oui"||e.nom.startsWith("[privé] ")),n=e.nom.replace(/^\[privé\] /,""),a=[r.dottedName,n].filter(Boolean).join(" . "),s=Uc(a),o=m1(e.titre??s);if(r.parsedRules[a])throw new K("EvaluationError",`La référence '${a}' a déjà été définie`,{dottedName:a});const u={};for(const c in e)O_.includes(c)&&(u[c]=e[c]);"formule"in e&&(u.valeur=e.formule),!t&&!a.endsWith("$SITUATION")&&(u["dans la situation"]=`${a} . $SITUATION`,u.avec={...u.avec??{},"[privé] $SITUATION":{...Ac,isNullable:e["possiblement non applicable"]==="oui"}},u["par défaut"]!=null&&(u["par défaut"]={valeur:u["par défaut"],"variable manquante":a}));const m={...r,dottedName:a};r.parsedRules[a]=void 0;const l={valeur:U(u,m),parents:jn(a).map(c=>U(c,m)).map(c=>(c.dottedName=c.name,c))},v={};if(e.suggestions)for(const c in e.suggestions)v[c]=U(e.suggestions[c],m);return r.parsedRules[a]={dottedName:a,replacements:[...j1(e["rend non applicable"],m),...Jc(e.remplace,m)],title:o,private:t,suggestions:v,nodeKind:"rule",explanation:l,rawNode:e,virtualRule:!!r.dottedName},r.dottedName?U(n,r):r.parsedRules[a]}Ee("rule",function(r){const{ruleDisabledByItsParent:t,nullableParent:n,parentMissingVariables:a}=Wc(this,r);let s={...r.explanation.valeur,nodeValue:null,missingVariables:{}};return t||(this.cache._meta.evaluationRuleStack.filter(u=>u===r.dottedName).length>1?s={nodeValue:void 0}:(this.cache._meta.evaluationRuleStack.unshift(r.dottedName),s=this.evaluateNode(r.explanation.valeur),this.cache._meta.evaluationRuleStack.shift())),s.missingVariables??(s.missingVariables={}),q1(this,r,s),{...s,missingVariables:lt(s.missingVariables,a),...r,explanation:{parents:r.explanation.parents,valeur:s,nullableParent:n,ruleDisabledByItsParent:t}}});function q1(e,r,t){r.private===!0||!Sa(e.context.parsedRules,"",r.dottedName)||t.nodeValue===void 0&&!Object.keys(t.missingVariables).length&&(t.missingVariables[r.dottedName]=1)}function Wc(e,r){if(r.private)return{ruleDisabledByItsParent:!1,parentMissingVariables:{}};const t=e.context.nodesTypes,n=r.explanation.parents.find(s=>t.get(s)?.isNullable||t.get(s)?.type==="boolean");if(!n)return{ruleDisabledByItsParent:!1,parentMissingVariables:{}};if(!e.cache._meta.parentRuleStack.includes(r.dottedName)){e.cache._meta.parentRuleStack.unshift(r.dottedName);let s=Ar(!1);if(t.get(n)?.isNullable&&(s=e.evaluateNode({nodeKind:"est non applicable",explanation:n})),s.nodeValue!==!0&&t.get(n)?.type==="boolean"&&(s=e.evaluateNode({nodeKind:"operation",operator:"=",operationKind:"=",explanation:[n,Ar(!1)]})),e.cache._meta.parentRuleStack.shift(),s.nodeValue===!0)return{ruleDisabledByItsParent:!0,parentMissingVariables:s.missingVariables??{},nullableParent:n}}let a={};if(t.get(n)?.type==="boolean"){const s=e.evaluateNode(n);return a=s.missingVariables??{},{ruleDisabledByItsParent:s.nodeValue===!1,parentMissingVariables:a,nullableParent:n}}return{ruleDisabledByItsParent:!1,parentMissingVariables:a,nullableParent:n}}function Kc(e,r){return{explanation:U(e,r),nodeKind:"est non applicable"}}Kc.nom="est non applicable";var Mn=e=>({nodeKind:"est non applicable",explanation:e}),P1=function(e){const r=e.explanation;if(this.context.nodesTypes.get(r)?.isNullable===!1&&r.nodeKind!=="rule")return{...e,nodeValue:!1,missingVariables:{}};if(this.cache.nodes.has(r)&&this.cache.nodes.get(r)!==void 0)return{...e,nodeValue:this.cache.nodes.get(r)?.nodeValue===null,missingVariables:this.cache.nodes.get(r)?.missingVariables??{}};switch(r.nodeKind){case"rule":const{ruleDisabledByItsParent:n,parentMissingVariables:a}=Wc(this,r);if(n)return{...e,nodeValue:!0,missingVariables:a};const s=this.evaluateNode(Mn(r.explanation.valeur)),o=lt(a,s.missingVariables);return s.nodeValue===!1&&this.context.nodesTypes.get(this.context.parsedRules[`${r.dottedName} . $SITUATION`])?.isNullable&&!Object.keys(s.missingVariables).length&&(o[r.dottedName]=1),{...e,nodeValue:s.nodeValue,missingVariables:o};case"reference":if(!r.dottedName)throw new K("InternalError","Missing dottedName",{});return{...this.evaluateNode(Mn(this.context.parsedRules[r.dottedName])),...e};case"condition":return{...this.evaluateNode({...r,explanation:{si:r.explanation.si,alors:Mn(r.explanation.alors),sinon:Mn(r.explanation.sinon)}}),...e}}const t=this.evaluateNode(r);return{...e,nodeValue:t.nodeValue===void 0?void 0:t.nodeValue===null,missingVariables:t.missingVariables}};Ee("est non applicable",P1);function T1(e,r){return{explanation:{assiette:U(e.assiette,r),multiplicateur:e.multiplicateur?U(e.multiplicateur,r):Ar(1),tranches:ps(e.tranches,r)},nodeKind:"grille"}}var M1=function(e){const r=this.evaluateNode.bind(this),t=this.evaluateNode(e.explanation.assiette),n=this.evaluateNode(e.explanation.multiplicateur);if(n.nodeValue===0)throw new K("EvaluationError","Le multiplicateur ne peut pas être nul",{dottedName:this.cache._meta.evaluationRuleStack[0]});const a=bs.call(this,{parsedTranches:e.explanation.tranches,assiette:t,multiplicateur:n}).map(m=>{if(m.isActive===!1)return m;const l=r(m.montant);return{...m,montant:l,nodeValue:l.nodeValue,unit:l.unit,missingVariables:rr([l,m])}});let s;const o=a.find(m=>m.isActive);o?s=[o]:a[a.length-1].isAfterActive===!1?s=[{nodeValue:!1}]:s=a.filter(m=>m.isActive===void 0);const u=s[0]?s[0].isActive===void 0?void 0:s[0].nodeValue:!1;return{...e,nodeValue:u,missingVariables:rr([t,n,...s]),explanation:{...e.explanation,assiette:t,multiplicateur:n,tranches:a},unit:s[0]?.unit??void 0}};Ee("grille",M1);function Gc(e,r,t,n=0,a=100,s=0){let o=r,u=t,m=o,l=e(o),v=e(u),c=l,p,f,g,h,k,x;for(;a-- >0;){if(g=u-o,Math.abs(c)<Math.abs(v)&&(o=u,u=m,m=o,l=v,v=c,c=l),p=1e-15*Math.abs(u)+n/2,f=(m-u)/2,Math.abs(f)<=p||v===0)return u;if(Math.abs(g)>=p&&Math.abs(l)>Math.abs(v)){let d,D;const C=m-u;o===m?(d=v/l,h=C*d,k=1-d):(k=l/c,d=v/c,D=v/l,h=D*(C*k*(k-d)-(u-o)*(d-1)),k=(k-1)*(d-1)*(D-1)),h>0?k=-k:h=-h,h<.75*C*k-Math.abs(p*k)/2&&h<Math.abs(g*k/2)&&(f=h/k)}if(Math.abs(f)<p&&(f=f>0?p:-p),o=u,l=v,u+=f,v=e(u),(v>0&&c>0||v<0&&c<0)&&(m=o,c=l),Math.abs(v)<n)return u;Math.abs(v)<s&&(x=u)}return x}var R1=function(e){const r=this.shallowCopy();if(this.cache._meta.evaluationRuleStack.slice(1).includes(e.explanation.ruleToInverse))return{...ba,...e};r.cache._meta.parentRuleStack=[...this.cache._meta.parentRuleStack],r.cache._meta.evaluationRuleStack=[...this.cache._meta.evaluationRuleStack];const t=e.explanation.inversionCandidates.find(x=>{if(this.cache._meta.evaluationRuleStack.includes(x.dottedName))return!1;const d=r.evaluateNode(r.context.parsedRules[`${x.dottedName} . $SITUATION`]);return typeof d.nodeValue=="number"&&!(x.dottedName in d.missingVariables)});if(t===void 0)return{...e,nodeValue:void 0,missingVariables:{...Object.fromEntries(e.explanation.inversionCandidates.map(x=>[x.dottedName,1])),[e.explanation.ruleToInverse]:1}};const n=r.evaluateNode(t);let a=0;r.setSituation({[t.dottedName]:ba},{keepPreviousSituation:!0});let s;const o=x=>(a++,r.setSituation({[e.explanation.ruleToInverse]:{nodeValue:x,nodeKind:"constant",type:"number",unit:n.unit}},{keepPreviousSituation:!0}),s=r.evaluateNode(t),s),u=n.nodeValue;let m;const l=u,c=o(l).nodeValue,p=c>u?.9:1.2,f=c!==void 0?l*u*p/c:2e3,h=o(f).nodeValue,k=this.context.inversionMaxIterations??10;if(c!==void 0||h!==void 0){const x=Z=>(Z===l?c:Z===f?h:o(Z).nodeValue)-u,C=h!==void 0&&h<u&&(h>c||c>u)?f:c!==void 0&&c<u&&(c>h||h>u)?l:-1e6,w=h!==void 0&&h>u&&(h<c||c<u)?f:c!==void 0&&c>u&&(c<h||h<u)?l:1e8;m=Gc(x,C,w,.1,k,1)}return m==null&&(this.cache.inversionFail=!0),(s.traversedVariables??[]).forEach(x=>this.cache._meta.traversedVariablesStack[0].add(x)),{...e,nodeValue:m,unit:n.unit,explanation:{...e.explanation,inversionGoal:t,numberOfIteration:a},missingVariables:s.missingVariables}},F1=(e,r)=>{if(!e.avec)throw new K("SyntaxError","Une formule d'inversion doit préciser _avec_ quoi on peut inverser la variable",{dottedName:r.dottedName});return{explanation:{ruleToInverse:r.dottedName,inversionCandidates:e.avec.map(t=>({...U(t,r)}))},nodeKind:"inversion"}};Ee("inversion",R1);var L1=Mt("le maximum de",{valeur:{type:"liste"}},({valeur:e})=>e.reduce((r,t)=>({condition:{si:{"est non applicable":"$INTERNAL valeur"},alors:"$INTERNAL acc",sinon:{condition:{si:{ou:[{"est non applicable":"$INTERNAL acc"},{">":["$INTERNAL valeur","$INTERNAL acc"]}]},alors:"$INTERNAL valeur",sinon:"$INTERNAL acc"}}},avec:{"[privé] $INTERNAL valeur":t,"[privé] $INTERNAL acc":r}}),Wr)),U1=Mt("le minimum de",{valeur:{type:"liste"}},({valeur:e})=>e.reduce((r,t)=>({condition:{si:{"est non applicable":"$INTERNAL valeur"},alors:"$INTERNAL acc",sinon:{condition:{si:{ou:[{"est non applicable":"$INTERNAL acc"},{"<":["$INTERNAL valeur","$INTERNAL acc"]}]},alors:"$INTERNAL valeur",sinon:"$INTERNAL acc"}}},avec:{"[privé] $INTERNAL valeur":t,"[privé] $INTERNAL acc":r}}),Wr));function wi(e){return e.reverse().reduce((r,t)=>({"+":[t,r]}),Wr)}var B1=Mt("somme",{valeur:{type:"liste"}},({valeur:e})=>wi([...e])),z1=Mt("moyenne",{valeur:{type:"liste"}},({valeur:e})=>{const r=[...e];return{"/":[wi(r),wi(r.map(H1))]}});function H1(e){return{"applicable si":{"est applicable":e},valeur:1}}var J1=kr("non applicable si",{"non applicable si":{},valeur:{}},{condition:{si:"non applicable si = non",alors:"valeur",sinon:Wr}}),W1=(e,r)=>(Array.isArray(e)&&(e={possibilités:e}),{...e,explanation:e.possibilités.map(t=>U(t,r)),context:r.dottedName,nodeKind:"une possibilité"});Ee("une possibilité",e=>({...e,missingVariables:{[e.context]:1},nodeValue:void 0}));var Yc={"*":[(e,r)=>e*r,"×"],"/":[(e,r)=>e/r,"∕"],"+":[(e,r)=>e+r],"-":[(e,r)=>e-r,"−"],"<":[(e,r)=>e<r],"<=":[(e,r)=>e<=r,"≤"],">":[(e,r)=>e>r],">=":[(e,r)=>e>=r,"≥"],"=":[(e,r)=>(e??!1)===(r??!1)],"!=":[(e,r)=>(e??!1)!==(r??!1),"≠"],et:[(e,r)=>(e??!1)&&(r??!1)],ou:[(e,r)=>(e??!1)||(r??!1)]},K1=(e,r)=>(t,n)=>{const a=t.map(s=>U(s,n));return{...t,nodeKind:"operation",operationKind:e,operator:r||e,explanation:a}},G1=function(e){let r=this.evaluateNode(e.explanation[0]),t={...e,missingVariables:{}};if(r.nodeValue===null&&["<",">","<=",">=","/","*","-","et"].includes(e.operationKind)||r.nodeValue===0&&["/","*"].includes(e.operationKind)||r.nodeValue===!1&&e.operationKind==="et"||r.nodeValue===!0&&e.operationKind==="ou")return{...t,nodeValue:e.operationKind==="et"?!1:r.nodeValue,missingVariables:r.missingVariables};let n=this.evaluateNode(e.explanation[1]);if(t.explanation=[r,n],e.operationKind==="/"&&n.nodeValue===0)throw new K("EvaluationError","Division by zero",{dottedName:this.cache._meta.evaluationRuleStack[0]});if(n.nodeValue===null&&["<",">","<=",">=","/","*","et"].includes(e.operationKind)||n.nodeValue===0&&["*"].includes(e.operationKind)||n.nodeValue===!1&&e.operationKind==="et"||n.nodeValue===!0&&e.operationKind==="ou")return{...t,nodeValue:e.operationKind==="et"?!1:n.nodeValue,missingVariables:n.missingVariables};t.missingVariables=rr([r,n]),(r.nodeValue===void 0||n.nodeValue===void 0)&&(t={...t,nodeValue:void 0});const a=["+","-"].includes(e.operationKind)&&or(n.unit)==="%"&&or(r.unit)!=="%";if(!("nodeValue"in t)&&!["/","*"].includes(e.operationKind)&&!a)try{r.unit&&"unit"in n?n=nt(r.unit,n):n.unit&&(r=nt(n.unit,r))}catch(m){Ca(this.context.logger,`Dans l'expression '${e.operationKind}', la partie gauche (unité: ${or(r.unit)}) n'est pas compatible avec la partie droite (unité: ${or(n.unit)})`,{dottedName:this.cache._meta.evaluationRuleStack[0]},m)}const s=Yc[e.operationKind][0],o=r.nodeValue,u=n.nodeValue;if(t.nodeValue="nodeValue"in t?t.nodeValue:["<",">","<=",">=","*","/"].includes(e.operationKind)&&n.nodeValue===null?null:[o,u].every(m=>typeof m=="string"&&m.match?.(/^[\d]{2}\/[\d]{2}\/[\d]{4}$/))?s(Ei(o),Ei(u)):s(o,u),e.operationKind==="*"&&Vr("*",[r.unit,n.unit])?.numerators.includes("%")){let m=Vr("*",[r.unit,n.unit]);const l=t.nodeValue;return{...t,nodeValue:typeof l=="number"?l/100:l,unit:Vr("*",[m,{numerators:[],denominators:["%"]}])}}if(a){let m=Vr("*",[r.unit,n.unit]);return{...t,nodeValue:typeof r.nodeValue=="number"&&typeof n.nodeValue=="number"?r.nodeValue*(1+n.nodeValue/100*(e.operationKind==="-"?-1:1)):t.nodeValue,unit:Vr("*",[m,{numerators:[],denominators:["%"]}])}}return e.operationKind==="*"||e.operationKind==="/"||e.operationKind==="-"||e.operationKind==="+"?{...t,unit:Vr(e.operationKind,[r.unit,n.unit])}:t};Ee("operation",G1);var Y1=Object.fromEntries(Object.entries(Yc).map(([e,[r,t]])=>[e,K1(e,t)])),X1=Y1,Q1=kr("par défaut",{"par défaut":{},valeur:{}},{condition:{si:{"est non défini":"valeur"},alors:"par défaut",sinon:"valeur"}}),Z1=kr("plafond",{plafond:{},valeur:{}},{condition:{si:{et:["plafond != non","valeur > plafond"]},alors:"plafond",sinon:"valeur"}}),e_=kr("plancher",{plancher:{},valeur:{}},{condition:{si:{et:["plancher != non","valeur < plancher"]},alors:"plancher",sinon:"valeur"}}),Au=kr("produit",{assiette:{},taux:{"par défaut":"100%"},facteur:{"par défaut":1},plafond:{"par défaut":Wr}},{"*":[{"*":["taux","facteur"]},{valeur:"assiette",plafond:"plafond"}],"simplifier l'unité":"oui"}),r_=function(e){if(this.cache._meta.currentRecalcul===e.explanation.recalculNode)return{...Wr,...e};const r=Object.fromEntries(e.explanation.amendedSituation.filter(([a,s])=>{const o=this.evaluateNode(a),u=this.evaluateNode(s);return o.nodeValue!==u.nodeValue||or(o.unit)!==or(u.unit)}).map(([a,s])=>[a.dottedName,s]));let t=this;Object.keys(r).length&&(t=this.shallowCopy().setSituation(r,{keepPreviousSituation:!0}),t.subEngineId=this.subEngines.length,Object.values(r).forEach(a=>t.cache.nodes.set(a,this.evaluate(a))),this.subEngines.push(t)),t.cache._meta.currentRecalcul=e.explanation.recalculNode;const n=t.evaluateNode(e.explanation.recalculNode);return delete t.cache._meta.currentRecalcul,{...e,nodeValue:n.nodeValue,explanation:{...e.explanation,recalcul:n,subEngineId:t.subEngineId},missingVariables:n.missingVariables,..."unit"in n&&{unit:n.unit}}},t_=(e,r)=>{const t=Object.keys(e.avec).map(a=>[U(a,r),U(e.avec[a],r)]);return{explanation:{recalculNode:U(e.règle??r.dottedName,r),amendedSituation:t},nodeKind:"recalcul"}};Ee("recalcul",r_);var n_=function(e){if(this.cache._meta.evaluationRuleStack.slice(1).includes(e.explanation.ruleToSolve))return{...ba,...e};let r=0;const t=this.shallowCopy();t.cache._meta.parentRuleStack=[...this.cache._meta.parentRuleStack],t.cache._meta.evaluationRuleStack=[...this.cache._meta.evaluationRuleStack];const n=this.context.inversionMaxIterations??25,a=c=>(r++,t.setSituation({[e.explanation.ruleToSolve]:{...ba,nodeValue:c}},{keepPreviousSituation:!0}),t.evaluateNode(e.explanation.valeur)),s=Symbol("inversion failed");let o=s;const u=1;let m=a(u);const l=m.nodeValue,v=m.unit;return l!==void 0&&(o=Gc(g=>g===u?l-u:(m=a(g),m.nodeValue-g),-1e6,1e8,.5,n,2)),o===s&&(o=void 0,this.cache.inversionFail=!0),o!==void 0&&(m=a(o)),{...e,unit:v,nodeValue:o,explanation:{...e.explanation,valeur:m,numberOfIterations:r},missingVariables:m.missingVariables}};function Xc(e,r){return{explanation:{ruleToSolve:r.dottedName,valeur:U(e.valeur,r)},nodeKind:"résoudre référence circulaire"}}Xc.nom="résoudre la référence circulaire";Ee("résoudre référence circulaire",n_);function Qc(e,r){return{explanation:U(e.valeur,r),nodeKind:"simplifier unité"}}Qc.nom="simplifier l'unité";Ee("simplifier unité",function(r){const t=this.evaluateNode(r.explanation),n=t.nodeValue,a={...t,...r,explanation:t};if(n==null)return a;if(!t.unit)return{...a,unit:t.unit};const s=Nc(t.unit);return{...a,nodeValue:typeof n=="number"?Dn(t.unit,s,n):n,unit:s}});var a_=kr("dans la situation",{valeur:{},"dans la situation":{}},{condition:{si:{"est non défini":"dans la situation"},alors:"valeur",sinon:"dans la situation"}});function i_(e,r){return{explanation:{assiette:U(e.assiette,r),multiplicateur:e.multiplicateur?U(e.multiplicateur,r):Ar(1),tranches:ps(e.tranches,r)},nodeKind:"taux progressif"}}var s_=function(e){const r=this.evaluateNode.bind(this),t=this.evaluateNode(e.explanation.assiette),n=this.evaluateNode(e.explanation.multiplicateur);if(n.nodeValue===0)throw new K("EvaluationError","Division by zero",{dottedName:""});const a=bs.call(this,{parsedTranches:e.explanation.tranches,assiette:t,multiplicateur:n}),s={...e,explanation:{tranches:a,assiette:t,multiplicateur:n},unit:Qr("%")},o=a[a.length-1];if(a.every(({isActive:d})=>d===!1)||o.isActive&&o.plafond.nodeValue===1/0){const d=nt(Qr("%"),r(o.taux)),{nodeValue:D,missingVariables:C}=d;return o.taux=d,o.nodeValue=D,o.missingVariables=C,{...s,nodeValue:D,missingVariables:C}}if(a.every(({isActive:d})=>d!==!0)||typeof t.nodeValue!="number")return{...s,nodeValue:void 0,missingVariables:rr(a)};const u=a.findIndex(({isActive:d})=>d===!0),m=a[u];m.taux=nt(Qr("%"),r(m.taux));const l=a[u-1];l&&(l.taux=nt(Qr("%"),r(l.taux)),l.isActive=!0);const v=l?l.taux:m.taux,c=[v,m.taux];if(c.some(d=>d.nodeValue===void 0))return m.nodeValue=void 0,{...s,nodeValue:void 0,missingVariables:rr(c)};const p=v.nodeValue,f=m.taux.nodeValue,g=m.plancherValue,h=m.plafondValue,k=(f-p)/(h-g),x=p+(t.nodeValue-g)*k;return m.nodeValue=x,{...s,nodeValue:x,missingVariables:{}}};Ee("taux progressif",s_);var _s="texte";function Ai(e,r){const t=[];let n=0;for(const{0:a,index:s}of e.matchAll(/{{(.|\n)*?}}/g)){const o=a.slice(2,-2).trim(),u=U(o,r);t.push(e.substring(n,s),u),n=(s??0)+a.length}return t.push(e.slice(n)),{nodeKind:_s,explanation:t}}Ai.nom=_s;Ee(_s,function(r){const t=r.explanation.map(n=>typeof n=="string"?n:this.evaluateNode(n));return{...r,explanation:t,missingVariables:rr(r.explanation.filter(n=>typeof n!="string")),nodeValue:t.map(n=>typeof n=="string"?n:$1(n)).join("")}});var o_=Mt("toutes ces conditions",{valeur:{type:"liste"}},({valeur:e})=>e.reduce((r,t)=>({et:[r,t]}),"oui")),u_=Mt("une de ces conditions",{valeur:{type:"liste"}},({valeur:e})=>e.reduce((r,t)=>({ou:[r,t]}),"non"));function Da(e,r){const t=U(e.valeur,r),n=Qr(e.unité,r.getUnitKey);return{explanation:t,unit:n,nodeKind:Da.nom}}Da.nom="unité";Ee(Da.nom,function(r){const t=this.evaluateNode(r.explanation);let n=t.nodeValue;if(n!==null&&"unit"in r)try{n=Dn(t.unit,r.unit,t.nodeValue)}catch(a){Ca(this.context.logger,"Erreur lors de la conversion d'unité explicite",{dottedName:this.cache._meta.evaluationRuleStack[0]},a)}return{...r,nodeValue:n,explanation:t,missingVariables:t.missingVariables}});function ja(e,r){return{missingVariable:e["variable manquante"],nodeKind:ja.nom,explanation:U(e.valeur,r)}}ja.nom="variable manquante";Ee(ja.nom,function(r){const t=this.evaluateNode(r.explanation),n=Object.values(t.missingVariables).reduce((a,s)=>a>s?a:s,0);return{...r,nodeValue:t.nodeValue,unit:t.unit,explanation:t,missingVariables:lt(t.missingVariables,{[r.missingVariable]:n+1})}});var l_=(e,r,t)=>{if(e==="valeur")return U(r,t);const{variations:n,...a}=r;return U({variations:n.map(({alors:o,sinon:u,si:m})=>{const{attributs:l,...v}=o??u;return{[o!==void 0?"alors":"sinon"]:{...l,[e]:{...a,...v}},...m!==void 0&&{si:m}}})},t)};function c_(e,r){return{explanation:e.map(({si:n,alors:a,sinon:s})=>s!==void 0?{consequence:U(s,r),condition:Ar(!0)}:{consequence:U(a,r),condition:U(n,r)}),nodeKind:"variations"}}var m_=function(e){const[r,t,n]=e.explanation.reduce(([a,s,o,u],{condition:m,consequence:l},v)=>{if(u===!0)return[a,[...s,{condition:m,consequence:l}],o,u];const c=this.evaluateNode(m),p=u===void 0?u:!u&&(c.nodeValue===void 0?void 0:c.nodeValue!==!1&&c.nodeValue!==null);if(p===!1||p===null)return[a,[...s,{condition:c,consequence:l}],o,u];let f;if(c.nodeValue!==!1&&c.nodeValue!==null&&(f=this.evaluateNode(l),o))try{f=nt(o,f)}catch(g){Ca(this.context.logger,`L'unité de la branche n° ${v+1} du mécanisme 'variations' n'est pas compatible avec celle d'une branche précédente`,{dottedName:this.cache._meta.evaluationRuleStack[0]},g)}return[p&&f?.nodeValue,[...s,{condition:c,consequence:f??l}],o||f?.unit,u||p]},[null,[],void 0,!1]);return{...e,nodeValue:r,...n!==void 0&&{unit:n},explanation:t,missingVariables:t.reduce((a,{condition:s,consequence:o})=>lt(a,lt(Sc(s.missingVariables),"nodeValue"in s&&s.nodeValue!==!1&&s.nodeValue!==null?o.missingVariables:{})),{})}};Ee("variations",m_);var v_=xc(hg(),1),Rn=([e,,r,,t])=>({[r.value.toLowerCase()]:[e,t]}),$_=([e,,r])=>({[e]:[ht([{value:"0"}]),r]}),f_=({value:e})=>({variable:e}),Su=([{value:e}])=>{console.log(e)},ht=([{value:e}])=>({constant:{type:"number",nodeValue:parseFloat(e)}}),d_=e=>({...ht(e),unité:e[2].value}),Du=([{value:e}])=>({constant:{type:"date",nodeValue:Mc(e)}}),Ba=([{value:e}])=>({constant:{type:"boolean",nodeValue:e==="oui"}}),ju=([{value:e}])=>({constant:{type:"string",nodeValue:e.slice(1,-1)}}),p_=xc(gg(),1);function de(e){return e[0]}var b_="(?:(?:0?[1-9]|[12][0-9]|3[01])\\/)?(?:0?[1-9]|1[012])\\/\\d{4}",h_="[a-zA-ZÀ-ſ€$%]",g_="[a-zA-ZÀ-ſ0-9',°]",Si=`${h_}(?:[-']?${g_}+)*`,__="-?(?:[1-9][0-9]+|[0-9])(?:\\.[0-9]+)?",re=p_.default.compile({"(":"(",")":")","[":"[","]":"]",comparison:[">","<",">=","<=","=","!="],date:new RegExp(b_),boolean:["oui","non"],number:new RegExp(__),word:new RegExp(Si),string:[/'.*'/,/".*"/],JSONObject:/{.*}/,additionSubstraction:/[\+-]/,multiplicationDivision:["*","/"],dot:" . ",".":".",space:{match:/[\s]+/,lineBreaks:!0}}),Ht=e=>({value:e.map(r=>r&&r.value).join("")}),Fn=([e,r])=>Array.isArray(r)?Ht([e,...r]):e,y_=re,E_=[{name:"main",symbols:["Comparison"],postprocess:de},{name:"main",symbols:["NumericValue"],postprocess:de},{name:"main",symbols:["Date"],postprocess:de},{name:"main",symbols:["NonNumericTerminal"],postprocess:de},{name:"main",symbols:["JSONObject"],postprocess:de},{name:"NumericValue",symbols:["AdditionSubstraction"],postprocess:de},{name:"NumericValue",symbols:["Negation"],postprocess:de},{name:"NumericTerminal",symbols:["Variable"],postprocess:de},{name:"NumericTerminal",symbols:["number"],postprocess:de},{name:"Negation",symbols:[{literal:"-"},re.has("space")?{type:"space"}:space,"Parentheses"],postprocess:$_},{name:"Parentheses",symbols:[{literal:"("},re.has("space")?{type:"space"}:space,"NumericValue",re.has("space")?{type:"space"}:space,{literal:")"}],postprocess:([,,e])=>e},{name:"Parentheses",symbols:[{literal:"("},"NumericValue",{literal:")"}],postprocess:([,e])=>e},{name:"Parentheses",symbols:["NumericTerminal"],postprocess:de},{name:"Date",symbols:["Variable"],postprocess:de},{name:"Date",symbols:[re.has("date")?{type:"date"}:Du],postprocess:Du},{name:"Comparison",symbols:["Comparable",re.has("space")?{type:"space"}:space,re.has("comparison")?{type:"comparison"}:comparison,re.has("space")?{type:"space"}:space,"Comparable"],postprocess:Rn},{name:"Comparison",symbols:["Date",re.has("space")?{type:"space"}:space,re.has("comparison")?{type:"comparison"}:comparison,re.has("space")?{type:"space"}:space,"Date"],postprocess:Rn},{name:"Comparable$subexpression$1",symbols:["AdditionSubstraction"]},{name:"Comparable$subexpression$1",symbols:["NonNumericTerminal"]},{name:"Comparable",symbols:["Comparable$subexpression$1"],postprocess:([[e]])=>e},{name:"NonNumericTerminal",symbols:[re.has("boolean")?{type:"boolean"}:Ba],postprocess:Ba},{name:"NonNumericTerminal",symbols:[re.has("string")?{type:"string"}:ju],postprocess:ju},{name:"Variable$ebnf$1",symbols:[]},{name:"Variable$ebnf$1$subexpression$1",symbols:[re.has("dot")?{type:"dot"}:dot,"Words"],postprocess:Ht},{name:"Variable$ebnf$1",symbols:["Variable$ebnf$1","Variable$ebnf$1$subexpression$1"],postprocess:function(r){return r[0].concat([r[1]])}},{name:"Variable",symbols:["Words","Variable$ebnf$1"],postprocess:e=>f_(Fn(e))},{name:"Words$ebnf$1$subexpression$1$ebnf$1",symbols:[re.has("space")?{type:"space"}:space],postprocess:de},{name:"Words$ebnf$1$subexpression$1$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"Words$ebnf$1$subexpression$1",symbols:["Words$ebnf$1$subexpression$1$ebnf$1","WordOrNumber"],postprocess:Ht},{name:"Words$ebnf$1",symbols:["Words$ebnf$1$subexpression$1"]},{name:"Words$ebnf$1$subexpression$2$ebnf$1",symbols:[re.has("space")?{type:"space"}:space],postprocess:de},{name:"Words$ebnf$1$subexpression$2$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"Words$ebnf$1$subexpression$2",symbols:["Words$ebnf$1$subexpression$2$ebnf$1","WordOrNumber"],postprocess:Ht},{name:"Words$ebnf$1",symbols:["Words$ebnf$1","Words$ebnf$1$subexpression$2"],postprocess:function(r){return r[0].concat([r[1]])}},{name:"Words",symbols:["WordOrKeyword","Words$ebnf$1"],postprocess:Fn},{name:"Words",symbols:[re.has("word")?{type:"word"}:Si],postprocess:de},{name:"WordOrKeyword",symbols:[re.has("word")?{type:"word"}:Si],postprocess:de},{name:"WordOrKeyword",symbols:[re.has("boolean")?{type:"boolean"}:Ba],postprocess:de},{name:"WordOrNumber",symbols:["WordOrKeyword"],postprocess:de},{name:"WordOrNumber",symbols:[re.has("number")?{type:"number"}:ht],postprocess:de},{name:"UnitDenominator$ebnf$1$subexpression$1",symbols:[re.has("space")?{type:"space"}:space]},{name:"UnitDenominator$ebnf$1",symbols:["UnitDenominator$ebnf$1$subexpression$1"],postprocess:de},{name:"UnitDenominator$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"UnitDenominator",symbols:["UnitDenominator$ebnf$1",{literal:"/"},"Words"],postprocess:Ht},{name:"UnitNumerator$ebnf$1$subexpression$1",symbols:[{literal:"."},"Words"]},{name:"UnitNumerator$ebnf$1",symbols:["UnitNumerator$ebnf$1$subexpression$1"],postprocess:de},{name:"UnitNumerator$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"UnitNumerator",symbols:["Words","UnitNumerator$ebnf$1"],postprocess:Fn},{name:"Unit$ebnf$1",symbols:["UnitNumerator"],postprocess:de},{name:"Unit$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"Unit$ebnf$2",symbols:[]},{name:"Unit$ebnf$2",symbols:["Unit$ebnf$2","UnitDenominator"],postprocess:function(r){return r[0].concat([r[1]])}},{name:"Unit",symbols:["Unit$ebnf$1","Unit$ebnf$2"],postprocess:Fn},{name:"AdditionSubstraction",symbols:["AdditionSubstraction",re.has("space")?{type:"space"}:space,re.has("additionSubstraction")?{type:"additionSubstraction"}:additionSubstraction,re.has("space")?{type:"space"}:space,"MultiplicationDivision"],postprocess:Rn},{name:"AdditionSubstraction",symbols:["MultiplicationDivision"],postprocess:de},{name:"MultiplicationDivision",symbols:["MultiplicationDivision",re.has("space")?{type:"space"}:space,re.has("multiplicationDivision")?{type:"multiplicationDivision"}:multiplicationDivision,re.has("space")?{type:"space"}:space,"Parentheses"],postprocess:Rn},{name:"MultiplicationDivision",symbols:["Parentheses"],postprocess:de},{name:"number",symbols:[re.has("number")?{type:"number"}:ht],postprocess:ht},{name:"number$ebnf$1$subexpression$1",symbols:[re.has("space")?{type:"space"}:space]},{name:"number$ebnf$1",symbols:["number$ebnf$1$subexpression$1"],postprocess:de},{name:"number$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"number",symbols:[re.has("number")?{type:"number"}:ht,"number$ebnf$1","Unit"],postprocess:d_},{name:"JSONObject",symbols:[re.has("JSONObject")?{type:"JSONObject"}:Su],postprocess:Su}],k_="main",x_={Lexer:y_,ParserRules:E_,ParserStart:k_},{Grammar:C_,Parser:w_}=v_.default,A_=C_.fromCompiled(x_),Di=new w_(A_),S_=Di.save();function D_(e,r){const t=(e+"").replace(/\s*\n\s*/g," ").trim();try{Di.restore(S_);const[n]=Di.feed(t).results;if(n==null)throw new K("InternalError",`
Un problème est survenu lors du parsing de l'expression \`${t}\` :

	le parseur Nearley n'a pas réussi à parser l'expression.
`,{dottedName:r});return n}catch(n){throw n instanceof K?n:new K("SyntaxError",`\`${t}\` n'est pas une expression valide`,{dottedName:r},n)}}function j_(e,r){if(!r.dottedName)throw new Sn({message:"Une référence ne peut pas exister en dehors d'une règle (`context.dottedName` est vide)",context:r});return{nodeKind:"reference",name:e,contextDottedName:r.dottedName}}Ee("reference",function(r){if(!r.dottedName)throw new Sn(r);const t=this.evaluateNode(this.context.parsedRules[r.dottedName]);return delete t.sourceMap,{...t,...r}});function U(e,r){if(e==null)throw new K("SyntaxError",`
	Une des valeurs de la formule est vide.
	Vérifiez que tous les champs à droite des deux points sont remplis`,{dottedName:r.dottedName});if(typeof e=="boolean")throw new K("SyntaxError",`
Les valeurs booléennes true / false ne sont acceptées.
Utilisez leur contrepartie française : 'oui' / 'non'`,{dottedName:r.dottedName});const t=typeof e=="object"?e:D_(e,r.dottedName);return"nodeKind"in t?t:"nom"in t?N1(t,r):{...V_(t,r),rawNode:e}}function Vu(e,r){if(Array.isArray(e))throw new K("SyntaxError",`
Il manque le nom du mécanisme pour le tableau : [${e.map(o=>`'${o}'`).join(", ")}]
Les mécanisme possibles sont : 'somme', 'le maximum de', 'le minimum de', 'toutes ces conditions', 'une de ces conditions'.
		`,{dottedName:r.dottedName});const t=Object.keys(e);if(t.length>1)throw new K("SyntaxError",`
Les mécanismes suivants se situent au même niveau : ${t.map(o=>`'${o}'`).join(", ")}
Cela vient probablement d'une erreur dans l'indentation
	`,{dottedName:r.dottedName});if(t.length===0)return{nodeKind:"constant",nodeValue:void 0};const n=t[0],a=e[n],s=em[n];if(!s)throw new K("SyntaxError",`Le mécanisme "${n}" est inconnu.

Vérifiez qu'il n'y ait pas d'erreur dans l'orthographe du nom.`,{dottedName:r.dottedName});try{return a?.composantes?r1(n,a,r):a?.variations&&Object.values(a).length>1?l_(n,a,r):s(a,r)}catch(o){throw o instanceof K?o:new K("SyntaxError",n?`➡️ Dans le mécanisme ${n}
${o.message}`:o.message,{dottedName:r.dottedName})}}var Zc=[ja,Pc,Ug,J1,Aa,Da,Qc,e_,Z1,Q1,a_,Xc,Lg];function V_(e,r){const t=Zc.find(s=>s.nom in e);if(!t)return Vu(e,r);const{[t.nom]:n,...a}=e;return Vu({[t.nom]:{valeur:a,[t.nom]:n}},r)}var em={...X1,...Zc.reduce((e,r)=>({[r.nom]:r,...e}),{}),"inversion numérique":F1,"le maximum de":L1,"le minimum de":U1,"taux progressif":i_,"toutes ces conditions":o_,"est non défini":Fc,"est non applicable":Kc,"est applicable":u1,"est défini":o1,"une de ces conditions":u_,"une possibilité":W1,condition:Tc,barème:Qg,durée:s1,grille:T1,multiplication:Au,produit:Au,recalcul:t_,somme:B1,moyenne:z1,[Ai.nom]:Ai,valeur:U,variable:j_,variations:c_,constant:e=>({type:e.type,fullPrecision:!0,isNullable:e.nodeValue==null,missingVariables:{},nodeValue:e.nodeValue,nodeKind:"constant"})},O_=Object.keys(em);function $n(e){return{dottedName:"",logger:console,getUnitKey:r=>r,parsedRules:{},referencesMaps:{referencesIn:new Map,rulesThatUse:new Map},nodesTypes:new WeakMap,rulesReplacements:{},...e}}function za(e){return{...e,parsedRules:{...e.parsedRules},referencesMaps:{referencesIn:new Map(e.referencesMaps.referencesIn),rulesThatUse:new Map(e.referencesMaps.rulesThatUse)}}}function Yn(e,r=$n({})){if(typeof e=="string")throw new K("EngineError","Publicodes does not parse yaml rule sets itself anymore. Please provide a parsed js object. E.g. the `eemeli/yaml` package.",{});let t=jt(e);const n=$n(r);let a=n.parsedRules;n.parsedRules={};for(const v in t){let c=t[v];if((typeof c=="string"||typeof c=="number")&&(c={valeur:`${c}`}),typeof c!="object")throw new K("SyntaxError",`Rule ${v} is incorrectly written. Please give it a proper value.`,{dottedName:v});const p=jt(c);p.nom=v,U(p,n)}let s={};for(const v in a)s[v]=a[v];for(const v in n.parsedRules)s[v]=n.parsedRules[v];let[o,u]=I_(s,n.parsedRules,n.referencesMaps),m;[s,m]=O1({parsedRules:s,newRules:o,referencesMaps:u,previousReplacements:n.rulesReplacements,logger:n.logger});const l=Fg(Object.keys(o),s,n.nodesTypes);return{parsedRules:s,nodesTypes:l,referencesMaps:u,rulesReplacements:m}}function I_(e,r,t){const n=pa(o=>Ci(o,e)),a=pa(o=>{const u=Ci(o,e);return u&&gs(u,t),u});return[Eg(o=>o.nodeKind==="replacementRule"?n(o):a(o),r),t]}var Ln=()=>({_meta:{evaluationRuleStack:[],parentRuleStack:[],traversedVariablesStack:[]},nodes:new Map}),N_=class rm{constructor(r={},t={}){fe(this,"baseContext");fe(this,"context");fe(this,"publicParsedRules");fe(this,"cache",Ln());fe(this,"subEngines",[]);fe(this,"subEngineId");fe(this,"checkExperimentalRule",Cc(r=>(r.nodeKind==="reference"&&xi(this.context.parsedRules,r.dottedName)&&vu(this.baseContext.logger,r.dottedName),"continue")));const n={dottedName:"",...t};this.baseContext=$n({...n,...Yn(r,n)}),this.context=this.baseContext,this.publicParsedRules={};for(const a in this.baseContext.parsedRules){const s=this.baseContext.parsedRules[a];!s.private&&Sa(this.baseContext.parsedRules,"",a)&&(this.publicParsedRules[a]=s)}}resetCache(){this.cache=Ln()}setSituation(r={},t={}){this.resetCache();const n=t.keepPreviousSituation??!1;Object.keys(r).forEach(o=>{if(!(o in this.baseContext.parsedRules))throw new K("EvaluationError",`Erreur lors de la mise à jour de la situation : ${o} n'existe pas dans la base de règle.`,{dottedName:o});if(this.baseContext.parsedRules[o].private)throw new K("EvaluationError",`Erreur lors de la mise à jour de la situation : ${o} est une règle privée (il n'est pas possible de modifier une règle privée).`,{dottedName:o})});const a=Object.fromEntries(Object.entries(r).map(([o,u])=>[`[privé] ${o} . $SITUATION`,u&&typeof u=="object"&&"nodeKind"in u?{valeur:u}:u])),s=za(this.baseContext);try{this.context={...this.baseContext,...Yn(a,n?this.context:this.baseContext)}}catch(o){throw this.baseContext=s,o}return this.baseContext=s,Object.keys(r).forEach(o=>{xi(this.context.parsedRules,o)&&vu(this.baseContext.logger,o),this.checkExperimentalRule(this.context.parsedRules[`${o} . $SITUATION`])}),this}inversionFail(){return!!this.cache.inversionFail}getRule(r){if(!(r in this.baseContext.parsedRules))throw new K("UnknownRule",`La règle '${r}' n'existe pas`,{dottedName:r});if(!(r in this.publicParsedRules))throw new K("PrivateRule",`La règle ${r} est une règle privée.`,{dottedName:r});return this.publicParsedRules[r]}getParsedRules(){return this.publicParsedRules}evaluate(r){const t=this.cache.nodes.get(r);if(t)return t;this.context={...this.context,...Yn({"[privé] $EVALUATION":r&&typeof r=="object"&&"nodeKind"in r?{valeur:r}:r},this.context)},this.checkExperimentalRule(this.context.parsedRules.$EVALUATION),this.cache._meta=Ln()._meta;const n=this.evaluateNode(this.context.parsedRules.$EVALUATION.explanation.valeur);return this.cache.nodes.set(r,n),n}evaluateNode(r){const t=this.cache.nodes.get(r);if(t!==void 0)return t.traversedVariables?.forEach(s=>this.cache._meta.traversedVariablesStack[0]?.add(s)),t;if(!nn[r.nodeKind])throw new K("EvaluationError",`Unknown "nodeKind": ${r.nodeKind}`,{dottedName:""});const n=this.cache._meta.traversedVariablesStack.length===0||r.nodeKind==="rule";n&&this.cache._meta.traversedVariablesStack.unshift(new Set),r.nodeKind==="reference"&&r.dottedName&&r.dottedName in this.publicParsedRules&&this.cache._meta.traversedVariablesStack[0].add(r.dottedName);const a=nn[r.nodeKind].call(this,r);return n&&(a.traversedVariables=Array.from(this.cache._meta.traversedVariablesStack.shift()??[]),this.cache._meta.traversedVariablesStack.length>0&&a.traversedVariables.forEach(s=>{this.cache._meta.traversedVariablesStack[0].add(s)})),this.cache.nodes.set(r,a),a}shallowCopy(){const r=new rm;return r.baseContext=za(this.baseContext),r.context=za(this.context),r.publicParsedRules=this.publicParsedRules,r.cache={...Ln(),nodes:new Map(this.cache.nodes)},r}};class q_ extends N_{constructor(t,n){super(t);fe(this,"elmApp");this.elmApp=n}setSituation(t,n){return this.elmApp.ports.situationUpdated.send(null),super.setSituation(t,n)}evaluateAll(t){const n=t.map(a=>{const s=super.evaluate(a);return[a,{nodeValue:s.nodeValue??null,isNullable:s?.isNullable??!1,missingVariables:Object.keys(s.missingVariables)}]});return this.elmApp.ports.evaluatedRules.send(n),n}}const P_={titre:"Alimentation",formule:{somme:["repas","petits déjeuners","boissons","ecocups","déchets","artistes"]},unité:"kgCO2e",note:`A ajouter dans une V2 ?
  - Part de nourriture bio sur l'ensemble des repas
  - Part de nourriture de saison sur l'ensemble des repas
  - Part de nourriture locale sur l'ensemble des repas
  - Prise en compte du gaspillage ?
`},T_={titre:"Communication",formule:{somme:["merchandising","numérique","textile bénévoles"]},unité:"kgCO2e"},M_=null,R_={titre:"Fret",formule:{somme:["infrastructures","artistes"]}},F_={titre:"Gestion des infrastructures",formule:{somme:["fret","bâtiments","scénographie"]},unité:"kgCO2e"},L_={titre:"Résultats"},U_={titre:"Transport",formule:{somme:["public","artistes"]},unité:"kgCO2e"},B_=null,z_=null,tm={alimentation:P_,"alimentation . artistes":{titre:"Alimentation des artistes",formule:{somme:["repas","petits déjeuners"]},note:`Par défaut, on considère que les artistes consomment un repas sur place, un petit déjeuner s'ils sont hébergés.
`},"alimentation . artistes . repas":{formule:{recalcul:{règle:"alimentation . repas",avec:{"informations . nombre de repas total":"informations . nombre artistes * 1 repas","alimentation . repas . proposition":"alimentation . artistes . repas . type"}}}},"alimentation . artistes . repas . type":{question:"Quelle type de régime alimentaire prévoyez-vous pour les artistes ?",formule:{"une possibilité":{"choix obligatoire":"oui",possibilités:["végétalien","végétarien","mixte végé viande","viande uniquement"]}},"par défaut":"'mixte végé viande'"},"alimentation . artistes . repas . type . végétalien":{titre:"Uniquement végan"},"alimentation . artistes . repas . type . végétarien":{titre:"Uniquement végétarien"},"alimentation . artistes . repas . type . mixte végé viande":{titre:"Mixte végétarien / viande"},"alimentation . artistes . repas . type . viande uniquement":{titre:"Uniquement carné"},"alimentation . artistes . petits déjeuners":{"applicable si":"hébergement . artistes . présent",formule:{recalcul:{règle:"alimentation . petits déjeuners",avec:{"alimentation . petits déjeuners . nombre":"informations . nombre artistes * 1 repas"}}}},"nosgestesclimat . alimentation . boisson . tasse de café":{titre:"Empreinte d'une tasse de café",formule:"empreinte café moulu * quantité café par tasse",unité:"kgCO2e/tasse",description:"> ℹ️ Cette règle provient du modèle `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de café . empreinte café moulu":{formule:10.09,unité:"kgCO2e/kg",note:"Facteur d'émission issu d'[Agibalyse, café moulu](https://agribalyse.ademe.fr/app/aliments/18003#Caf%C3%A9,_moulu).",description:"> ℹ️ Cette règle provient du modèle `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de café . quantité café par tasse":{formule:.012,unité:"kg/tasse",note:"on fait l'hypothèse qu'une tasse de café contient en moyenne 12 grammes de café moulu.",description:"> ℹ️ Cette règle provient du modèle `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de thé":{titre:"Empreinte d'une tasse de thé",formule:"empreinte thé infusé sans consommation * quantité thé par tasse",unité:"kgCO2e/tasse",description:"> ℹ️ Cette règle provient du modèle `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de thé . empreinte thé infusé sans consommation":{formule:"empreinte thé infusé * (1 - part consommation empreinte thé infusé)",unité:"kgCO2e/kg",note:`Pour l'empreinte d'une tasse de café ou chocolat chaud, la part liée à la consommation (chauffage de l'eau notamment) n'est pas prise en compte dans le facteur d'émission
ce qui n'est pas le cas du facteur d'émission du thé issu d'Agribalyse. Si la boisson est bue à domicile, la consommation est déjà incluse dans la facture électrique du logement.
En revanche, si elle est prise dans un café, l'empreinte de la consommation doit être ajoutée.
Nous faisons le choix de ne pas inclure la consommation dans les boissons chaudes
(la part liée à la consommation étant négligeable pour le café et chocolat chaud devant les grains de café ou le cacao)
`,description:"> ℹ️ Cette règle provient du modèle `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de thé . quantité thé par tasse":{formule:.25,unité:"kg/tasse",note:"On fait l'hypothèse qu'une tasse de thé fait en moyenne 250 grammes.",description:"> ℹ️ Cette règle provient du modèle `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de thé . empreinte thé infusé":{formule:.04,unité:"kgCO2e/kg",note:"Facteur d'émission issu d'[Agibalyse, thé infusé non sucré](https://agribalyse.ademe.fr/app/aliments/18020#Th%C3%A9_infus%C3%A9,_non_sucr%C3%A9).",description:"> ℹ️ Cette règle provient du modèle `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . tasse de thé . part consommation empreinte thé infusé":{formule:"25%",note:`Selon la décomposition issu d'[Agibalyse, thé infusé non sucré](https://agribalyse.ademe.fr/app/aliments/18020#Th%C3%A9_infus%C3%A9,_non_sucr%C3%A9),
la part de consommation dans le facteur d'émission du thé représente 25%.
`,description:"> ℹ️ Cette règle provient du modèle `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . sucrées . facteur":{formule:{moyenne:["facteur sodas","facteur jus de fruits"]},note:"Cette valeur est bien sûr très approximative.",description:"> ℹ️ Cette règle provient du modèle `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . sucrées . facteur sodas":{formule:.51,unité:"kgCO2e/l",note:"Facteur d'émission issu d'[Agribalyse, Cola, sucré](https://agribalyse.ademe.fr/app/aliments/18037#Cola,_sucr%C3%A9,_avec_%C3%A9dulcorants), 0.51 kgCO2e/kg. On considère que la masse volumique est de 1kg/l.",description:"> ℹ️ Cette règle provient du modèle `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . sucrées . facteur jus de fruits":{formule:.91,unité:"kgCO2e/l",note:"Facteur d'émission issu d'[Agribalyse, Jus multifruit, pur jus, standard](https://agribalyse.ademe.fr/app/aliments/2069#Jus_multifruit,_%C3%A0_base_de_concentr%C3%A9,_standard), 0.91 kgCO2e/kg. On considère que la masse volumique est de 1kg/l.",description:"> ℹ️ Cette règle provient du modèle `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . alcool . facteur":{formule:{moyenne:["facteur bière","facteur vin","facteur cocktail"]},note:"Le vin n'a pas la même empreinte que la bière au litre, c'est une grosse simplification.",description:"> ℹ️ Cette règle provient du modèle `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . alcool . facteur bière":{formule:1.12,unité:"kgCO2e/l",note:"Facteur d'émission issu d'[Agribalyse, bière coeur de marché](https://agribalyse.ademe.fr/app/aliments/5001#Bi%C3%A8re_%22coeur_de_march%C3%A9%22_(4-5%C2%B0_alcool)), 1.12 kgCO2e/kg. On considère que la masse volumique de la bière est de 1kg/l.",description:"> ℹ️ Cette règle provient du modèle `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . alcool . facteur vin":{formule:1.22,unité:"kgCO2e/l",note:"Facteur d'émission issu d'[Agribalyse, vin blanc sec](https://agribalyse.ademe.fr/app/aliments/5215#Vin_blanc_sec), 1.22 kgCO2e/kg. On considère que la masse volumique du vin est de 1kg/l.",description:"> ℹ️ Cette règle provient du modèle `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . alcool . facteur cocktail":{formule:.91,unité:"kgCO2e/l",note:"Facteur d'émission issu d'[Agribalyse, cocktail base rhum](https://agribalyse.ademe.fr/app/aliments/1012#Cocktail_%C3%A0_base_de_rhum), 0.91 kgCO2e/kg. On considère que la masse volumique d'un cocktail est de 1kg/l.",description:"> ℹ️ Cette règle provient du modèle `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . boisson . eau en bouteille . empreinte":{formule:.27,unité:"kgCO2e/l",note:"Facteur d'émission issu d'[Agibalyse, eau embouteillée de source](https://agribalyse.ademe.fr/app/aliments/18430#Eau_embouteillée_de_source).",description:"> ℹ️ Cette règle provient du modèle `@incubateur-ademe/nosgestesclimat`."},"alimentation . boissons":{titre:"Boissons",formule:{somme:["froide","chaude"]}},"alimentation . boissons . froide":{formule:{somme:["eau","eau en bouteille","soft","alcool"]},note:"On fait l'hypothèse que les boissons ne sont pas servies en bouteilles individuelles."},"alimentation . boissons . froide . eau":{formule:"quantité * empreinte",note:"On fait l'hypothèse de fontaine à eau."},"alimentation . boissons . froide . eau . quantité":{formule:"quantité par jour * informations . nombre de jours"},"alimentation . boissons . froide . eau . quantité par jour":{formule:"0.5 l * informations . nombre de personnes par jour"},"alimentation . boissons . froide . eau . empreinte":{formule:62e-5,unité:"kgCO2e/l",note:`Facteur d'émission issu de la base empreinte "Eau potable, mix de provenances".
Si eau en bouteille: 0.27 kgCO2e/l
`},"alimentation . boissons . froide . eau en bouteille":{"applicable si":"eau en bouteille présent",formule:"quantité * nosgestesclimat . alimentation . boisson . eau en bouteille . empreinte"},"alimentation . boissons . froide . eau en bouteille présent":{question:"Allez-vous prévoir de l'eau en bouteille pour les équipes ?","par défaut":"oui"},"alimentation . boissons . froide . eau en bouteille . quantité":{formule:"quantité par jour * informations . nombre de jours"},"alimentation . boissons . froide . eau en bouteille . quantité par jour":{formule:"0.5 l/jour * informations . nombre de bénévoles"},"alimentation . boissons . froide . soft":{formule:"quantité * nosgestesclimat . alimentation . boisson . sucrées . facteur",note:`A priori, le facteur d'émission d'agribalyse considère bien une part d'emballage qui correspond à la bouteille. 
On suppose que ce sont des grands formats.
`},"alimentation . boissons . froide . soft . quantité":{formule:"quantité par jour * informations . nombre de jours"},"alimentation . boissons . froide . soft . quantité par jour":{formule:"quantité par jour et par personne * informations . nombre de personnes par jour"},"alimentation . boissons . froide . soft . quantité par jour et par personne":{question:'Quelle quantité de boissons "soft" est consommée par personne et par jour ?',"par défaut":.5,unité:"l"},"alimentation . boissons . froide . alcool":{formule:"quantité * nosgestesclimat . alimentation . boisson . alcool . facteur",note:`On considère ici une moyenne de plusieurs types d'alcool dont le facteur d'émission est néanmoins très proche.
On pourrait imaginer séparer la bière du reste ouo considérer seulement la bière.
`},"alimentation . boissons . froide . alcool . quantité":{formule:"quantité par jour * informations . nombre de jours"},"alimentation . boissons . froide . alcool . quantité par jour":{formule:"quantité par jour et par personne * informations . nombre de personnes par jour"},"alimentation . boissons . froide . alcool . quantité par jour et par personne":{question:"Quelle quantité d'alcool est consommée par personne et par jour ?","par défaut":.5,unité:"l"},"alimentation . boissons . chaude":{formule:{somme:["café","thé"]}},"alimentation . boissons . chaude . café":{formule:"nombre * nosgestesclimat . alimentation . boisson . tasse de café"},"alimentation . boissons . chaude . café . nombre":{formule:"nombre par jour * informations . nombre de jours"},"alimentation . boissons . chaude . café . nombre par jour":{formule:"quantité par jour et par personne * informations . nombre de personnes par jour",note:"On fait l'hypothèse qu'en moyenne, la consommation sera de 1 café par personne et par jour."},"alimentation . boissons . chaude . café . quantité par jour et par personne":{question:"Quelle quantité de café est consommée par personne et par jour ?","par défaut":1,unité:"tasse"},"alimentation . boissons . chaude . thé":{formule:"nombre * nosgestesclimat . alimentation . boisson . tasse de thé"},"alimentation . boissons . chaude . thé . nombre":{formule:"nombre par jour * informations . nombre de jours"},"alimentation . boissons . chaude . thé . nombre par jour":{formule:"quantité par jour et par personne * informations . nombre de personnes par jour",note:"On fait l'hypothèse qu'en moyenne, la consommation sera de 1 thé pour 10 personnes par jour."},"alimentation . boissons . chaude . thé . quantité par jour et par personne":{question:"Quelle quantité de thé est consommée par personne et par jour ?","par défaut":"10% * 1 tasse",unité:"tasse"},"alimentation . déchets":{formule:{somme:["gobelets"]},unité:"kgCO2e"},"alimentation . déchets . gobelets":{"non applicable si":"ecocups présent",formule:"2 gobelet * informations . nombre de jours * informations . nombre de personnes par jour * empreinte",unité:"kgCO2e",note:"On considère 2 gobelets par personne par jour."},"alimentation . déchets . gobelets . empreinte":{formule:{variations:[{si:'gobelets . type = "plastique"',alors:"type . plastique . poids * empreinte plastique par kg"},{si:'gobelets . type = "carton"',alors:"type . carton . poids * empreinte carton par kg"}]},unité:"kgCO2e/gobelet"},"alimentation . déchets . gobelets . type":{question:"Quel type de gobelets allez-vous utiliser ?",formule:{"une possibilité":{"choix obligatoire":"oui",possibilités:["plastique","carton"]}},"par défaut":"'plastique'"},"alimentation . déchets . gobelets . type . plastique":{titre:"Plastique jetable"},"alimentation . déchets . gobelets . type . plastique . poids":{formule:.01,unité:"kg/gobelet"},"alimentation . déchets . gobelets . type . carton":null,"alimentation . déchets . gobelets . type . carton . poids":{formule:.01,unité:"kg/gobelet",note:"On considère 10g par gobelet."},"alimentation . déchets . empreinte plastique par kg":{formule:"2 + 0.101",unité:"kgCO2e/kg",note:`On considère du platisque polypropylène (PP) neuf et l'impact fin de vie.
FE issus de la base empreinte (PP - polypropylène et Emballages/Plastique rigide biosourcé PP autres emballages/Fin de vie moyenne filière - Impacts)
`},"alimentation . déchets . empreinte carton par kg":{formule:"0.670 + 0.737",unité:"kgCO2e/kg",note:`On considère que le carton est recyclé (hypothèse conservatrice, contrairement à ce qu'on peut penser, 
le carton recyclé est plus impactant que le carton neuf).
FE issus de la base empreinte (Carton/recyclé et Emballages/Carton/Fin de vie moyenne filière - Impacts)
`},"alimentation . ecocups":{"applicable si":"ecocups présent",formule:"1 ecocup.jour * informations . nombre de personnes par jour * empreinte / amortissement",unité:"kgCO2e"},"alimentation . ecocups présent":{question:"Allez-vous utiliser des ecocups pour l'événement ?","par défaut":"oui"},"alimentation . ecocups . réutilisation":{question:"Est-il prévu de réutiliser les ecocups pour une autre édition ?","par défaut":"non"},"alimentation . ecocups . amortissement":{formule:{variations:[{si:"ecocups . réutilisation",alors:3},{sinon:1}]},note:"On considère que les ecocups servirons sur 3 éditions."},"alimentation . ecocups . empreinte":{formule:"poids * déchets . empreinte plastique par kg",unité:"kgCO2e/ecocup"},"alimentation . ecocups . poids":{formule:.03,unité:"kg/ecocup"},"nosgestesclimat . alimentation . petit déjeuner . continental":{titre:"Continental",formule:.289,unité:"kgCO2e/repas",description:`
> ℹ️ Cette règle provient du modèle \`@incubateur-ademe/nosgestesclimat\`.


Petit déjeuner avec pain, viennoiserie, beurre, confiture et un fruit.

Voici le menu type utilisé pour notre calcul.

| Ingrédients     | Qte (g) | Kcal  | Protéines (g) | Lipides (g) | gCO2e /g | gCO2e |
| --------------- | ------- | ----- | ------------- | ----------- | -------- | ----- |
| Pain            | 50      | 132,5 | 4,5           | 1,6         | 0,67     | 33,5  |
| Vienoiserie     | 50      | 203   | 4             | 10,5        | 1,7      | 85    |
| Beurre demi-sel | 10      | 71,7  | 0,09          | 8,1         | 7,82     | 78,2  |
| Confiture       | 20      | 27,8  | 0,04          | 0,01        | 1,42     | 28,4  |
| Orange          | 100     | 47    | 0,9           | 0,1         | 0,64     | 64    |
| Total           | 230     | 482   | 9,53          | 20,31       |          | 289,1 |
`},"alimentation . petits déjeuners":{titre:"Petits déjeuners","applicable si":"petits déjeuners présent",formule:"nombre * nosgestesclimat . alimentation . petit déjeuner . continental",note:"On considère le petits déjeuner continental de Nos Gestes Climat"},"alimentation . petits déjeuners présent":{question:"Proposez-vous des petits déjeuners sur place ?","par défaut":"oui"},"alimentation . petits déjeuners . nombre":{formule:"nombre par jour * informations . nombre de jours"},"alimentation . petits déjeuners . nombre par jour":{formule:"1 repas * informations . nombre de personnes par jour"},"nosgestesclimat . alimentation . plats . végétalien . empreinte":{titre:"Empreinte d'un repas végétalien",formule:.785,unité:"kgCO2e/repas",note:`Pour l'instant, en l'absence de repas type végétalien dans la [base carbone](https://www.bilans-ges.ademe.fr/documentation/UPLOAD_DOC_FR/index.htm?repas.htm),
nous prenons l'empreinte du repas végétarien, dans lequel nous substituons les 2 œufs par du tofu et des noix dans l'entrée qui devient alors une salade,
en gardant approximativement les mêmes quantités de calories et de protéines.

> Note : on peut se demander pourquoi la recette fait mention d'une omelette aux oignons sans inclure les oignons. Négligeables ? Nous les avons ajoutés.

Notons finalement que le tofu considéré ici pourrait être remplacé par du soja français et une fabrication du tofu française décarbonée, notamment pour éviter la déforestation et réduire encore plus les émissions, donnant lieu à un régime végétalien local. Voir [ce papier](https://www.nature.com/articles/s43016-020-0106-x) à ce propos du soja et de la déforestation.

🧮 Le calcul détaillé est [disponible ici](https://docs.google.com/spreadsheets/d/1SVYvBaaYDOUDcg5jX0eZFEColnWWIL8PCLMGrPR000o/edit#gid=1694091424) sous forme de tableur.
`,description:"> ℹ️ Cette règle provient du modèle `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . plats . végétarien . empreinte":{titre:"Empreinte d'un repas végétarien",formule:1.115,unité:"kgCO2e/repas",note:`C'est le "Repas végétarien 1" [ici](https://www.bilans-ges.ademe.fr/documentation/UPLOAD_DOC_FR/index.htm?repas.htm), [actualisé avec les facteurs d'émission Agribalyse](https://docs.google.com/spreadsheets/d/1SVYvBaaYDOUDcg5jX0eZFEColnWWIL8PCLMGrPR000o/edit#gid=1694091424).

> Note : on peut se demander pourquoi la recette fait mention d'une omelette aux oignons sans inclure les oignons. Négligeables ? Nous les avons ajouté.

🧮 Le calcul détaillé est [disponible ici](https://docs.google.com/spreadsheets/d/1SVYvBaaYDOUDcg5jX0eZFEColnWWIL8PCLMGrPR000o/edit#gid=1694091424) sous forme de tableur.
`,description:"> ℹ️ Cette règle provient du modèle `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . plats . viande 1 . empreinte":{titre:"Empreinte d'un repas de type viande 1 (poulet, porc, fromage)",formule:2.098,unité:"kgCO2e/repas",note:`C'est le "Repas classique 1 (avec poulet)" [ici](https://www.bilans-ges.ademe.fr/documentation/UPLOAD_DOC_FR/index.htm?repas.htm), actualisé avec les facteurs d'émission Agribalyse.

Le facteur d'émission associé à l'ingrédient principal (ici le la pièce de volaille ou porc) correspond à une moyenne de facteurs d'émissions associés au porc (pièce de viande et charcuterie), poulet, dinde, canard d'Agribalyse.
Cette moyenne est pondérée selon les consommations réelles des Français par type de viande animale.

🧮 Le calcul détaillé est [disponible ici](https://docs.google.com/spreadsheets/d/1SVYvBaaYDOUDcg5jX0eZFEColnWWIL8PCLMGrPR000o/edit#gid=1200865486) sous forme de tableur.
`,description:"> ℹ️ Cette règle provient du modèle `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . alimentation . plats . viande 2 . empreinte":{titre:"Empreinte d'un repas de type viande 2 (bœuf, veau, agneau)",formule:5.51,unité:"kgCO2e/repas",note:`C'est le "Repas classique 2 (avec bœuf)" [ici](https://www.bilans-ges.ademe.fr/documentation/UPLOAD_DOC_FR/index.htm?repas.htm), actualisé avec les facteurs d'émission Agribalyse.

Le facteur d'émission associé à l'ingrédient principal (ici le la pièce de viande rouge) correspond à une moyenne de facteurs d'émissions associés au bœuf, agneau, veau d'Agribalyse.
Cette moyenne est pondérée selon les consommations réelles des Français par type de viande animale.

🧮 Le calcul détaillé est [disponible ici](https://docs.google.com/spreadsheets/d/1SVYvBaaYDOUDcg5jX0eZFEColnWWIL8PCLMGrPR000o/edit#gid=1200865486) sous forme de tableur.
`,description:"> ℹ️ Cette règle provient du modèle `@incubateur-ademe/nosgestesclimat`."},"alimentation . repas":{titre:"Repas",formule:{somme:["végétalien","végétarien","viande 1","viande 2"]}},"alimentation . repas . végétalien":{formule:"nombre * nosgestesclimat . alimentation . plats . végétalien . empreinte"},"alimentation . repas . végétalien . nombre":{formule:"proportion * informations . nombre de repas total"},"alimentation . repas . végétalien . proportion":{formule:{variations:[{si:"proposition = 'végétalien'",alors:"100%"},{sinon:"0%"}]}},"alimentation . repas . végétarien":{formule:"nombre * nosgestesclimat . alimentation . plats . végétarien . empreinte"},"alimentation . repas . végétarien . nombre":{formule:"proportion * informations . nombre de repas total"},"alimentation . repas . végétarien . proportion":{formule:{variations:[{si:"proposition = 'végétarien'",alors:"100%"},{si:"proposition = 'mixte végé viande'",alors:"proposition . mixte végé viande . proportion végétarien"},{sinon:"0%"}]}},"alimentation . repas . viande 1":{formule:"nombre * nosgestesclimat . alimentation . plats . viande 1 . empreinte"},"alimentation . repas . viande 1 . nombre":{formule:"proportion * informations . nombre de repas total"},"alimentation . repas . viande 1 . proportion":{formule:{variations:[{si:"proposition = 'viande uniquement'",alors:"proposition . choix viande . proportion viande 1"},{si:"proposition = 'mixte végé viande'",alors:"proposition . choix viande . proportion viande 1 * proposition . mixte végé viande . proportion viande"},{sinon:"0%"}]}},"alimentation . repas . viande 2":{formule:"nombre * nosgestesclimat . alimentation . plats . viande 2 . empreinte"},"alimentation . repas . viande 2 . nombre":{formule:"proportion * informations . nombre de repas total"},"alimentation . repas . viande 2 . proportion":{formule:{variations:[{si:"proposition = 'viande uniquement'",alors:"proposition . choix viande . proportion viande 2"},{si:"proposition = 'mixte végé viande'",alors:"proposition . choix viande . proportion viande 2 * proposition . mixte végé viande . proportion viande"},{sinon:"0%"}]}},"alimentation . repas . proposition":{question:"Quelle type de régime alimentaire prévoyez-vous ?",formule:{"une possibilité":{"choix obligatoire":"oui",possibilités:["végétalien","végétarien","mixte végé viande","viande uniquement"]}},"par défaut":"'mixte végé viande'"},"alimentation . repas . proposition . végétalien":{titre:"Uniquement végan"},"alimentation . repas . proposition . végétarien":{titre:"Uniquement végétarien"},"alimentation . repas . proposition . mixte végé viande":{titre:"Mixte végétarien / viande"},"alimentation . repas . proposition . viande uniquement":{titre:"Uniquement carné"},"alimentation . repas . proposition . mixte végé viande . proportion végétarien":{"applicable si":"proposition = 'mixte végé viande'",question:"Comment allez-vous répartir les régimes proposés ?","par défaut":"50%",unité:"%"},"alimentation . repas . proposition . mixte végé viande . proportion viande":{"applicable si":"proposition = 'mixte végé viande'",formule:"100% - proportion végétarien",unité:"%"},"alimentation . repas . proposition . choix viande":{"applicable si":{"une de ces conditions":["proposition = 'mixte végé viande'","proposition = 'viande uniquement'"]},question:"Proposerez-vous de la viande blanche ou viande rouge ?",formule:{"une possibilité":{"choix obligatoire":"oui",possibilités:["viande 1","viande 2","les deux"]}},"par défaut":"'les deux'"},"alimentation . repas . proposition . choix viande . viande 1":{titre:"Viande blanche"},"alimentation . repas . proposition . choix viande . viande 2":{titre:"Viande rouge"},"alimentation . repas . proposition . choix viande . les deux":{titre:"Les 2"},"alimentation . repas . proposition . choix viande . proportion viande 1":{formule:{variations:[{si:"choix viande = 'viande 1'",alors:"100%"},{si:"choix viande = 'les deux'",alors:"50%"},{sinon:"0%"}]}},"alimentation . repas . proposition . choix viande . proportion viande 2":{formule:{variations:[{si:"choix viande = 'viande 2'",alors:"100%"},{si:"choix viande = 'les deux'",alors:"50%"},{sinon:"0%"}]}},"commun . intensité électricité":{titre:"Intensité carbone du mix électrique français",description:`
> ℹ️ Cette règle provient du modèle [\`@incubateur-ademe/publicodes-commun\`](https://github.com/incubateur-ademe/publicodes-commun).


Intensité moyenne, tous types de consommations confondues, année 2022.`,formule:.052,unité:"kgCO2e/kWh",note:`Ici, on parle du mix électrique de consommation. 
Le chiffre est issu de la Base Empreinte (Electricité/2022 - mix moyen/consommation) dont la méthodologie est décrite dans la [documentation](https://prod-basecarbonesolo.ademe-dri.fr/documentation/UPLOAD_DOC_FR/).
La v2.6 de MicMac donnait une valeur de 12.4gCO2e/kWh pour les fournisseurs d'électricité "verte", mais cette valeur semble correspondre à un calcul théorique sur l'année, et non pas à un calcul réel, minute par minute.
`},"commun . mois par an":{titre:"Nombre de mois par an",formule:12,unité:"mois",description:"> ℹ️ Cette règle provient du modèle [`@incubateur-ademe/publicodes-commun`](https://github.com/incubateur-ademe/publicodes-commun)."},"commun . semaines par an":{titre:"Nombre de semaines par an",formule:52,unité:"semaine",description:"> ℹ️ Cette règle provient du modèle [`@incubateur-ademe/publicodes-commun`](https://github.com/incubateur-ademe/publicodes-commun)."},"commun . jours par semaine":{titre:"Nombre de jours par semaine",formule:7,unité:"jour/semaine",description:"> ℹ️ Cette règle provient du modèle [`@incubateur-ademe/publicodes-commun`](https://github.com/incubateur-ademe/publicodes-commun)."},"commun . jours par an":{titre:"Nombre de jours par an",formule:365,unité:"jour",description:"> ℹ️ Cette règle provient du modèle [`@incubateur-ademe/publicodes-commun`](https://github.com/incubateur-ademe/publicodes-commun)."},communication:T_,"communication . merchandising":{titre:"Merchandising",formule:{somme:["textile","plastique"]},unité:"kgCO2e",note:`Pour cette modélisation, nous nous inspirons de l'étude [Décarbonons la Culture ! The Shift Project](https://theshiftproject.org/wp-content/uploads/2021/12/211130-TSP-PTEF-Rapport-final-Culture-v3.pdf)
en estimant le chiffre d'affaires réalisé grâce au merchandising réparti sur différents produits textiles (t-shirts et sweat shirts) 
mais également des produits dérivés "plastiques".

D'après [le baromètre 2023 de Weezevent](https://weezevent.com/fr/blog/barometre-festivals-2023/#:~:text=Notons%20que%20le%20prix%20moyen,%E2%82%AC)%20pour%20les%20festivals%20urbains.)
sur les consommations et les achats des festivaliers, le panier moyen pour du merch est de 4€ par jour et par personne.

Dans une V2, il s'agira d'affiner l'empreinte carbone associée aux produits vendu en passant par des FE "physiques"
et en incluant des variations selon l'approvisionnement des produits.
`},"communication . merchandising . surplus production":{formule:"110%",note:`On estime que 10% le surplus de production.
`},"communication . merchandising . chiffre d affaires":{formule:"informations . nombre de festivaliers * merchandising . panier moyen par jour et par personne",unité:"€",note:`D'après [le baromètre 2023 de Weezevent](https://weezevent.com/fr/blog/barometre-festivals-2023/#:~:text=Notons%20que%20le%20prix%20moyen,%E2%82%AC)%20pour%20les%20festivals%20urbains.)
sur les consommations et les achats des festivaliers, le panier moyen pour du merch est de 4€ par jour et par personne.
`},"communication . merchandising . chiffre d affaires . part textile":{formule:"70%"},"communication . merchandising . chiffre d affaires . part plastique":{formule:"30%"},"communication . merchandising . panier moyen par jour et par personne":{formule:4,unité:"€",note:`D'après [le baromètre 2023 de Weezevent](https://weezevent.com/fr/blog/barometre-festivals-2023/#:~:text=Notons%20que%20le%20prix%20moyen,%E2%82%AC)%20pour%20les%20festivals%20urbains.)
`},"communication . merchandising . textile":{formule:"surplus production * chiffre d affaires . part textile * chiffre d affaires * ratio monétaire",unité:"kgCO2e"},"communication . merchandising . textile . ratio monétaire":{formule:"ratio monétaire HT / 1.2 €/€HT",unité:"kgCO2e/€"},"communication . merchandising . textile . ratio monétaire HT":{formule:.6,unité:"kgCO2e/€HT",note:`Facteur d'émission issu de la base empreinte "Service/Textile et habillement".
`},"communication . merchandising . plastique":{formule:"surplus production * chiffre d affaires . part plastique * chiffre d affaires * ratio monétaire",unité:"kgCO2e"},"communication . merchandising . plastique . ratio monétaire":{formule:"ratio monétaire HT / 1.2 €/€HT",unité:"kgCO2e/€"},"communication . merchandising . plastique . ratio monétaire HT":{formule:.8,unité:"kgCO2e/€HT",note:`Facteur d'émission issu de la base empreinte "Service/Textile et habillement".
`},numérique:{titre:"Numérique",formule:0,unité:"kgCO2e"},"nosgestesclimat . divers . textile . t-shirt . empreinte":{formule:5.35,unité:"kgCO2e",note:"moyenne de l'empreinte des t-shirts en coton et en polyester de la Base Carbone",description:"> ℹ️ Cette règle provient du modèle `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . divers . textile . sweat . empreinte":{formule:27.4,unité:"kgCO2e",note:"empreinte d'un sweat de la Base Carbone",description:"> ℹ️ Cette règle provient du modèle `@incubateur-ademe/nosgestesclimat`."},"textile bénévoles":{titre:"Textile bénévoles",formule:{variations:[{si:'textile bénévoles . type = "t shirt"',alors:"informations . nombre de bénévoles * nosgestesclimat . divers . textile . t-shirt . empreinte / amortissement"},{si:'textile bénévoles . type = "sweat"',alors:"informations . nombre de bénévoles * nosgestesclimat . divers . textile . sweat . empreinte / amortissement"},{si:'textile bénévoles . type = "aucun"',alors:0}]},unité:"kgCO2e"},"textile bénévoles . type":{question:"Prévoyez-vous des vêtements pour votre équipe ?",formule:{"une possibilité":{"choix obligatoire":"oui",possibilités:["t shirt","sweat","aucun"]}},"par défaut":"'t shirt'"},"textile bénévoles . type . t shirt":{titre:"T-shirt"},"textile bénévoles . type . sweat":{titre:"Sweat"},"textile bénévoles . type . aucun":{titre:"Non, aucun vêtement"},"textile bénévoles . amortissement":{formule:{variations:[{si:"textile bénévoles . réutilisation",alors:2},{sinon:1}]}},"textile bénévoles . réutilisation":{question:"Est-il prévu de réutiliser les vêtements pour une autre édition ?","par défaut":"non"},"nosgestesclimat . logement . chauffage . gaz . facteur d'émission base carbone":{titre:"Intensité carbone gaz naturel",valeur:.221,unité:"kgCO2e/kWh",note:`Il s'agit de kgCO2e/kWh *PCS*.

On raisonne en PCS (Pouvoir Calorifique Supérieur) et non en PCI (Pouvoir Calorifique Inférieur), car le PCS est utilisé en tant que coefficient de conversion dans les factures pour convertir le volume de gaz utilisé en kWh : 
on fait l'hypothèse que la chaudière gaz récupère bien la chaleur latente de condensation.

Base Carbone Gaz naturel - 2022/mix moyen/consommation
`,description:"> ℹ️ Cette règle provient du modèle `@incubateur-ademe/nosgestesclimat`."},énergie:{titre:"Énergie",formule:{somme:["électricité","autre","groupe électrogène"]},unité:"kgCO2e"},"énergie . consommation par défaut":{formule:"0.6 kWh * informations . nombre de festivaliers",unité:"kWh",note:`Selon l'étude [Décarbonons la Culture ! The Shift Project](https://theshiftproject.org/wp-content/uploads/2021/12/211130-TSP-PTEF-Rapport-final-Culture-v3.pdf):
il est tout à fait pertinent d'utiliser l’[étude d’ENERIS](https://www.ressource0.com/wp-content/uploads/2012/09/guideSpectacle-vivant1.pdf) produite en 2011 
qui propose une consommation électrique de 0,6 KWh par festivalier en moyenne.
`},"énergie . électricité":{formule:"consommation * commun . intensité électricité",unité:"kgCO2e"},"énergie . électricité . consommation":{question:"Quelle est votre consommation d'électricité pour l'événement ?",unité:"kWh","par défaut":{variations:[{si:"autre présent",alors:"consommation par défaut / 4"},{sinon:"consommation par défaut / 2"}]}},"énergie . autre":{"applicable si":"autre présent",formule:{somme:["gaz","fioul"]},unité:"kgCO2e"},"énergie . autre présent":{question:"Utilisez-vous une autre source d'énergie pour l'événement (gaz, fioul) ?","par défaut":"non"},"énergie . autre . gaz":{formule:"consommation * nosgestesclimat . logement . chauffage . gaz . facteur d'émission base carbone",unité:"kgCO2e"},"énergie . autre . gaz . consommation":{question:"Quelle est votre consommation de gaz pour l'événement ?",unité:"kWh","par défaut":"consommation par défaut / 4"},"énergie . autre . fioul":{formule:"consommation * empreinte",unité:"kgCO2e"},"énergie . autre . fioul . consommation":{question:"Quelle est votre consommation de fioul pour l'événement ?",unité:"kWh","par défaut":"consommation par défaut / 4"},"énergie . autre . fioul . empreinte":{formule:.303,unité:"kgCO2e/kWh",note:`Facteur d'émission issu de la base empreinte "Fioul domestique" (kgCO2e/kWhPCS).
`},"énergie . groupe électrogène":{formule:"nombre * empreinte par jour * informations . nombre de jours",unité:"kgCO2e",note:`On fait l'hypothèse que la puissance d'un groupe électrogène utilisé est de 10kW.
On estime qu'un groupe électrogène de cette puissance consomme 4l/h.

Dans un second temps, il s'agira de d'évaluer l'empreinte du groupe électrogène directement 
via le type de carburant consommé et la consommation réelle.
`},"énergie . groupe électrogène . nombre":{question:"Combien de groupes électrogènes prévoyez-vous d'utiliser ?","par défaut":"consommation par défaut / 2 / production"},"énergie . groupe électrogène . production":{formule:"10kW * 24 h/jour * 0.75 * informations . nombre de jours",unité:"kWh"},"énergie . groupe électrogène . empreinte par jour":{formule:"0.75 * consommation carburant * empreinte carburant * 24 h/jour",note:"On considère qu'un groupe électrogène est utilisé 75% de la journée à pleine puissance.",unité:"kgCO2e/jour"},"énergie . groupe électrogène . consommation carburant":{formule:4,unité:"l/h"},"énergie . groupe électrogène . empreinte carburant":{formule:2.7,unité:"kgCO2e/l",note:`Facteur d'émission issu de la base empreinte "Essence".
`},"nosgestesclimat . logement . vacances . empreinte hotel par nuit":{formule:6.93,unité:"kgCO2e/nuit",note:`## Notre hypothèse sur le facteur d'émission utilisé

  D'après [l'enquête mobilité des français de 2019](https://www.statistiques.developpement-durable.gouv.fr/resultats-detailles-de-lenquete-mobilite-des-personnes-de-2019?rubrique=60&dossier=1345), 
  les français voyagent à 86% en France. On assume donc ici que **les nuitées se passent en France**.

## Notre source de données

  Le rapport final de pré-déploiement de l'affichage environnemental des hôtels, [publication ADEME de mars 2020](https://librairie.ademe.fr/consommer-autrement/4096-projet-de-pre-deploiement-de-l-affichage-environnemental-des-hotels.html), donne une moyenne de 9,91 kg éqCO2 / nuitée. 
  En retranchant la partie petit-déjeuner (comptant pour 30% de l'empreinte), car sinon nous aurions une double comptabilité de ces derniers, on se retrouve avec une empreinte par nuitée de 9,91 * (1 - 30%) = 6,93 kg éqCO2.

  Le rapport permet également de scinder les empreintes selon la classe de l'hôtel. Pour démarrer, nous avons assumé de partir sur la moyenne des empreintes toutes classes confondues, mais cela pourra être implémenté par la suite. Cela donnerait :

  - Hôtels sans classement : 4,73 kg éqCO2 / nuitée
  - Hôtels 2* : 8,53 kg éqCO2 / nuitée
  - Hôtels 3* : 8,47 kg éqCO2 / nuitée
  - Hôtels 4* : 11,43 kg éqCO2 / nuitée
  - Hôtels 5* : 17,11 kg éqCO2 / nuitée

  Depuis plusieurs années, [Betterfly Tourism](https://www.betterfly-tourism.com/affichage-environnemental-hotels/) implémente en partenariat avec l'ADEME l'affichage environnemental auprès des hôtels. Il sera donc possible de réévaluer l'empreinte avec des données plus récentes issues de leur base de données consolidée.

  De son côté, le [Hotel Carbon Measurement Initiative (HCMI)](https://sustainablehospitalityalliance.org/resource/hotel-carbon-measurement-initiative/) qui alimente le [Cornell Hotel Sustainability Benchmarking Index](https://greenview.sg/services/chsb-index/) présente des [données](https://ecommons.cornell.edu/handle/1813/109990) pertinentes pour notre usage.
  Cela pourra être un bon point de départ pour le jour où nous souhaiterons différencier les nuitées d'hôtel selon le pays fréquenté.
  À noter que le HCMI donne une moyenne pour la France de 7,7 kg éqCO2 / nuitée, ce qui est très proche de la donnée que nous avons choisie, elle calculée à partir du référentiel ADEME.

  > Point publicodes : Cette règle étant utilisée dans d'autres espaces nom que \`logement . vacances . hotel\` c'est important ici de ne pas l'inclure dans cet espace non qui rendrait l'empreinte de la nuitée non applicable si la règle hotel est elle aussi non applicable.
`,description:"> ℹ️ Cette règle provient du modèle `@incubateur-ademe/nosgestesclimat`."},"nosgestesclimat . logement . vacances . camping . empreinte par nuit":{formule:1.4,unité:"kgCO2e/nuit",note:`Ces données sont issues de la proposition de référentiel ADEME pour l'hôtellerie de plein air, étude effectuée sur 13 campings de l'Hérault conjointement entre Betterfly Tourism et l'ADEME.
Les données sont fournies par Betterfly Tourism et datent de juin 2021. La moyenne de l'empreinte par nuitée sur les 13 campings étudiés est de 1,4 kg éqCO2.
Le référentiel ADEME est présent dans la base Impacts depuis mai 2023.
`,description:"> ℹ️ Cette règle provient du modèle `@incubateur-ademe/nosgestesclimat`."},hébergement:{titre:"Hébergement",formule:{somme:["nuitées hotel","nuitées camping","artistes"]},unité:"kgCO2e",note:`Pour le moment, on ne prend en compte que les nuitées en hôtel en considérant que le nombre de nuits 
correspond au nombre de jours de l'évènement.
Dans un second temps, on pourrait ajouter le camping par exemple. 
On pourrait également ajouter la possibilité de renseigner le nombre de nuitées prises en charge durant l'évènement.
`},"hébergement . nuitées hotel":{"non applicable si":'présent = "aucun"',formule:"nombre de nuits hotel * nosgestesclimat . logement . vacances . empreinte hotel par nuit",unité:"kgCO2e"},"hébergement . nuitées hotel . présent":{question:"Prenez-vous en charge l'hébergement en hôtel des participants, bénévoles ou organisateurs du festival ?",formule:{"une possibilité":{"choix obligatoire":"oui",possibilités:["participants et organisateurs","organisateurs","aucun"]}},"par défaut":"'organisateurs'"},"hébergement . nuitées hotel . présent . participants et organisateurs":{titre:"Oui, pour tous le monde"},"hébergement . nuitées hotel . présent . organisateurs":{titre:"Uniquement pour les organisateurs et bénévoles"},"hébergement . nuitées hotel . présent . aucun":{titre:"Non, pas d'hébergement en hôtel"},"hébergement . nuitées hotel . nombre de nuits hotel":{formule:{variations:[{si:'présent = "participants et organisateurs"',alors:"informations . nombre de personnes par jour * informations . nombre de nuits"},{si:'présent = "organisateurs"',alors:"informations . nombre de bénévoles * informations . nombre de nuits"},{si:'présent = "aucun"',alors:0}]},unité:"nuit"},"hébergement . nuitées camping":{"non applicable si":'présent = "aucun"',formule:"nombre de nuits camping * nosgestesclimat . logement . vacances . camping . empreinte par nuit",unité:"kgCO2e"},"hébergement . nuitées camping . présent":{question:"Prenez-vous en charge l'hébergement en camping des participants, bénévoles ou organisateurs du festival ?",formule:{"une possibilité":{"choix obligatoire":"oui",possibilités:["participants et organisateurs","organisateurs","aucun"]}},"par défaut":"'aucun'"},"hébergement . nuitées camping . présent . participants et organisateurs":{titre:"Oui, pour tous le monde"},"hébergement . nuitées camping . présent . organisateurs":{titre:"Uniquement pour les organisateurs et bénévoles"},"hébergement . nuitées camping . présent . aucun":{titre:"Non, pas d'hébergement en hôtel"},"hébergement . nuitées camping . nombre de nuits camping":{formule:{variations:[{si:'présent = "participants et organisateurs"',alors:"informations . nombre de personnes par jour * informations . nombre de nuits"},{si:'présent = "organisateurs"',alors:"informations . nombre de bénévoles * informations . nombre de nuits"},{si:'présent = "aucun"',alors:0}]},unité:"nuit"},"hébergement . artistes":{"applicable si":"présent",formule:"informations . nombre de nuits artistes * nosgestesclimat . logement . vacances . empreinte hotel par nuit",unité:"kgCO2e"},"hébergement . artistes . présent":{question:"Prenez-vous en charge l'hébergement en hôtel des artistes du festival ?","par défaut":"oui"},informations:M_,"informations . nombre de jours":{question:"Combien de jours dure votre évènment ?","par défaut":2,unité:"jour"},"informations . nombre de nuits":{formule:"informations . nombre de jours * 1 nuit/jour",unité:"nuit"},"informations . nombre de festivaliers":{question:"Combien de participants attendez-vous sur l'ensemble de l'évènements (compter 2 entrées si une personne est présente 2 jours) ?",note:"On parle de la somme des entrées uniques par jour.","par défaut":25e3},"informations . nombre de festivaliers par jour":{formule:"nombre de festivaliers / nombre de jours"},"informations . nombre de bénévoles":{question:"Combien y aura-t-il d'organisateurs et bénévoles ?","par défaut":100},"informations . nombre de personnes par jour":{formule:"nombre de festivaliers par jour + nombre de bénévoles"},"informations . nombre de repas par jour":{formule:"2 repas * nombre de personnes par jour"},"informations . nombre de repas total":{formule:"nombre de repas par jour * nombre de jours"},"informations . nombre artistes en voiture":{question:"Combien d'artistes (équipe incluse) seront présents sur le festival ?","par défaut":10},"informations . nombre artistes en train":{question:"Combien d'artistes (équipe incluse) seront présents sur le festival ?","par défaut":10},"informations . nombre artistes en tour bus":{question:"Combien d'artistes (équipe incluse) seront présents sur le festival ?","par défaut":30},"informations . nombre artistes en avion":{question:"Combien d'artistes (équipe incluse) seront présents sur le festival ?","par défaut":10},"informations . nombre artistes":{question:"Combien d'artistes (équipe incluse) seront présents sur le festival ?","par défaut":{somme:["nombre artistes en voiture","nombre artistes en train","nombre artistes en tour bus","nombre artistes en avion"]}},"informations . nombre de nuits artistes":{formule:"nombre artistes * 1 nuit",unité:"nuit"},bâtiments:{titre:"Bâtiments",formule:{somme:["béton","métallique"]},unité:"kgCO2e"},"bâtiments . facteur amortissement":{formule:"informations . nombre de jours / (commun . jours par an * 50)",note:`Bâtiments amortis sur 50 ans. On fait l'hypothèse que le bâtiment reste "non amorti" 
même s'il date de plus de 50 ans pour limiter les paramètres, au vu de l'impact négligeable.
`},"bâtiments . béton":{formule:"surface * empreinte par m2 * facteur amortissement",unité:"kgCO2e"},"bâtiments . béton . surface":{question:`Quelle est la surface des bâtiments "structure béton" utilisés pour l'événement ?`,"par défaut":50,unité:"m2"},"bâtiments . béton . empreinte par m2":{formule:825,unité:"kgCO2e/m2",note:`Facteur d'émission issu de la base empreinte "Bâtiment industriel/structure en béton".
`},"bâtiments . métallique":{formule:"surface * empreinte par m2 * facteur amortissement",unité:"kgCO2e"},"bâtiments . métallique . surface":{question:`Quelle est la surface des bâtiments "structure métallique" utilisés pour l'événement ?`,"par défaut":50,unité:"m2"},"bâtiments . métallique . empreinte par m2":{formule:275,unité:"kgCO2e/m2",note:`Facteur d'émission issu de la base empreinte "Bâtiment industriel/structure métallique".
`},fret:R_,"fret . infrastructures":{formule:0,unité:"kgCO2e"},"fret . artistes":{formule:0,unité:"kgCO2e"},infrastructures:F_,"infrastructures . scénographie":{titre:"Scénographie",formule:{somme:["scène","matériel","décor"]},unité:"kgCO2e"},"infrastructures . scénographie . scène":{formule:0,note:`Le seul montage des scènes d’un festival comme Les Vieilles Charrues implique une vingtaine
de semi-remorques d’après certaines sources53 et quarante pour d’autres54. Nous sommes
partis d’une moyenne à trente semi-remorques et d’une hypothèse où le festival ne cherche
pas à réduire les distances parcourues par le choix de fournisseurs locaux, comptant ainsi
2000 kilomètres par véhicule en incluant les retours à vide.
Nous insistons sur un point : nous n’affirmons pas que ces données sont celles des Vieilles
Charrues, il s’agit d’une première estimation pour un grand festival en périphérie. Par ailleurs,
nous ignorons si cette donnée inclut la logistique alimentaire.
Si l’on estime que les fournisseurs ne sont pas locaux et que le tonnage transporté est en
moyenne à 8,5 tonnes, nous pensons que l’impact global du fret lié à la logistique avoisine
les 190 tonnes de carbone.
`},"infrastructures . scénographie . matériel":{formule:"dépenses * ratio monétaire * facteur amortissement",unité:"kgCO2e",note:`Selon la méthode du simulateur [SEEDS](https://nuage.arviva.org/index.php/s/Pzzm9KbAwwL4gPR), 
les émissions de CO2 liées à la location de matériel technique sont estimées à partir du montant 
dépensés pour leur location puis amorties sur via la durée de location et leur durée de vie.

A titre indicatif:
  - Projecteur : 600€ soit 240kgCO2e  
  - Enceinte : 500€ soit 200kgCO2e 
  - Console : 1500€ soit 600kgCO2e 
  - Machine à fumée : 400€ soit 160kgCO2e  
  - Micros : 200€ soit 80kgCO2e  
  - Vidéoprojecteur : 145kgCO2e (déjà présent dans la base ADEME)
`},"infrastructures . scénographie . matériel . facteur amortissement":{formule:"informations . nombre de jours / (commun . jours par an * 5)",note:"Matériel amorti sur 5 ans."},"infrastructures . scénographie . matériel . dépenses":{question:"A combien estimez-vous vos dépenses de location de matériel technique (son, lumière, vidéo etc...) ?","par défaut":1e4,unité:"€HT"},"infrastructures . scénographie . matériel . ratio monétaire":{formule:.4,unité:"kgCO2e/€HT",note:`Ratio monétaire issu de la Base Empreinte "Service/Produits informatiques, électroniques et optiques".
`},"infrastructures . scénographie . décor":{"applicable si":"décor présent",formule:0,unité:"kgCO2e",note:`Pour le moment, nous faisons l'hypothèse que les décors et costumes sont de la responsabilité des artistes.
`},"infrastructures . scénographie . décor présent":{question:"Prévoyez-vous des décors et costumes pour la scénographie de l'événement ?","par défaut":"non"},resultats:L_,"resultats . bilan total":{titre:"Bilan Carbone de mon évènement",formule:{somme:["alimentation","transport","infrastructures","hébergement","énergie","communication"]},unité:"kgCO2e"},"resultats . bilan par festivalier":{titre:"Bilan Carbone de mon évènement par festivalier",formule:"bilan total / informations . nombre de festivaliers",unité:"kgCO2e"},transport:U_,"transport . public":{formule:{somme:["voiture","avion","train","commun"]},unité:"kgCO2e"},"transport . public . accessible en transports en commun":{question:"Votre festival est-il facilement accessible en transport en commun ?","par défaut":"non"},"transport . public . nombre de déplacements":{formule:{variations:[{si:{"toutes ces conditions":['hébergement . nuitées hotel . présent = "aucun"','hébergement . nuitées camping . présent = "aucun"']},alors:"informations . nombre de festivaliers + informations . nombre de bénévoles * informations . nombre de jours"},{si:{"une de ces conditions":['hébergement . nuitées hotel . présent = "organisateurs"','hébergement . nuitées camping . présent = "organisateurs"']},alors:"informations . nombre de festivaliers"},{si:{"une de ces conditions":['hébergement . nuitées hotel . présent = "participants et organisateurs"','hébergement . nuitées camping . présent = "participants et organisateurs"']},alors:"informations . nombre de festivaliers par jour + informations . nombre de bénévoles"}]},note:`Erreur d'unité dans la formule "informations . nombre de festivaliers par jour + informations . nombre de bénévoles"`},"transport . public . distance AR":{question:"Quelle est la distane moyenne aller/retour parcourue par un festivalier ?",unité:"km","par défaut":100,note:"On inclue ici les festivaliers mais également les bénévoles et les organisateurs."},"transport . public . part mobilité douce":{formule:"100% - parts totales modes de transport",unité:"%",note:"On considère que l'impact de la marche ou du vélo est négligeable."},"transport . public . parts totales modes de transport":{formule:{somme:["voiture . part","avion . part","train . part","commun . part"]},plafond:100,unité:"%"},"transport . public . voiture . part":{question:"Quelle part des festivaliers viennent en voiture ?","par défaut":{variations:[{si:"accessible en transports en commun",alors:"20%"},{sinon:"80%"}]}},"transport . public . avion . part":{question:"Quelle part des festivaliers viennent en avion ?","par défaut":{variations:[{si:"accessible en transports en commun",alors:"3%"},{sinon:"3%"}]}},"transport . public . train . part":{question:"Quelle part des festivaliers viennent en train ?","par défaut":{variations:[{si:"accessible en transports en commun",alors:"20%"},{sinon:"10%"}]}},"transport . public . commun . part":{question:"Quelle part des festivaliers viennent en transports en commun (bus, tramway, métro) ?","par défaut":{variations:[{si:"accessible en transports en commun",alors:"50%"},{sinon:"5%"}]}},"transport . public . voiture":{formule:"part * nombre de déplacements * distance AR * voiture . empreinte par km / voiture . remplissage moyen",unité:"kgCO2e",note:"On fait l'hypothèse d'un aller/retour par festivalier."},"transport . public . avion":{formule:"part * nombre de déplacements * distance avion AR * avion . empreinte par km",unité:"kgCO2e"},"transport . public . avion . distance avion AR":{formule:1500,unité:"km"},"transport . public . train":{formule:"part * nombre de déplacements * distance AR * train . empreinte par km",unité:"kgCO2e"},"transport . public . commun":{formule:"part * nombre de déplacements * distance AR * commun . empreinte par km",unité:"kgCO2e"},"transport . artistes":{formule:{somme:["voiture","avion","train","tour bus"]},unité:"kgCO2e"},"transport . artistes . voiture":{formule:"informations . nombre artistes en train * distance * voiture . empreinte par km / voiture . remplissage moyen",unité:"kgCO2e"},"transport . artistes . voiture . distance":{question:"Quelle est la distance (A/R) parcourue en voiture en moyenne par les artistes pour venir au festival ?","par défaut":100,unité:"km"},"transport . artistes . avion":{formule:"informations . nombre artistes en avion * distance * avion . empreinte par km",unité:"kgCO2e"},"transport . artistes . avion . distance":{question:"Quelle est la distance (A/R) parcourue en avion en moyenne par les artistes pour venir au festival ?","par défaut":1500,unité:"km"},"transport . artistes . train":{formule:"informations . nombre artistes en train * distance * train . empreinte par km",unité:"kgCO2e"},"transport . artistes . train . distance":{question:"Quelle est la distance en moyenne (A/R) parcourue en train par les artistes pour venir au festival ?","par défaut":500,unité:"km"},"transport . artistes . tour bus":{formule:"informations . nombre artistes en tour bus * distance * tour bus . empreinte par km",unité:"kgCO2e"},"transport . artistes . tour bus . distance":{question:"Quelle est la distance en moyenne (A/R) parcourue en tour bus par les artistes pour venir au festival ?","par défaut":1e3,unité:"km"},"transport . voiture":null,"transport . voiture . empreinte par km":{formule:.231,unité:"kgCO2e/km",note:`Facteur d'émission issu de la base empreinte "Voiture/Motorisation moyenne/2018".
`},"transport . voiture . remplissage moyen":{formule:1.8,note:"On considère un taux de remplissage moyen de 1,8 personnes par voiture."},"transport . avion":null,"transport . avion . empreinte par km":{formule:.187,unité:"kgCO2e/km",note:`Facteur d'émission issu de la base empreinte "Avion passagers/Moyen courrier, 2018/AVEC trainées".
`},"transport . train":null,"transport . train . empreinte par km":{formule:{moyenne:["TGV","TER"]},unité:"kgCO2e/km",note:`Moyenne entre TGV et TER.
`},"transport . train . empreinte par km . TGV":{formule:.00293,unité:"kgCO2e/km",note:`Facteur d'émission issu de la base empreinte "TGV/2022".
`},"transport . train . empreinte par km . TER":{formule:.0277,unité:"kgCO2e/km",note:`Facteur d'émission issu de la base empreinte "TER/2022/Traction moyenne".
`},"transport . commun . empreinte par km":{formule:{moyenne:["bus","métro ou tram"]},unité:"kgCO2e/km"},"transport . commun . empreinte par km . bus":{formule:.146,unité:"kgCO2e/km",note:`Facteur d'émission issu de la base empreinte "Autobus moyen/Agglomération de 100 000 à 250 000 habitants".
`},"transport . commun . empreinte par km . métro ou tram":{formule:.00503,unité:"kgCO2e/km",note:`Facteur d'émission issu de la base empreinte "Métro, tramway, trolleybus/2018/Agglomération de 100 000 à 250 000 habitants".
`},"transport . tour bus":null,"transport . tour bus . empreinte par km":{formule:.0295,unité:"kgCO2e/km",note:`Facteur d'émission issu de la base empreinte "Autocar/2018".
`},nosgestesclimat:B_,"nosgestesclimat . alimentation . boisson":null,"nosgestesclimat . alimentation":null,"nosgestesclimat . alimentation . boisson . sucrées":null,"nosgestesclimat . alimentation . boisson . alcool":null,"nosgestesclimat . alimentation . boisson . eau en bouteille":null,"nosgestesclimat . alimentation . petit déjeuner":null,"nosgestesclimat . alimentation . plats . végétalien":null,"nosgestesclimat . alimentation . plats":null,"nosgestesclimat . alimentation . plats . végétarien":null,"nosgestesclimat . alimentation . plats . viande 1":null,"nosgestesclimat . alimentation . plats . viande 2":null,commun:z_,"nosgestesclimat . divers . textile . t-shirt":null,"nosgestesclimat . divers . textile":null,"nosgestesclimat . divers":null,"nosgestesclimat . divers . textile . sweat":null,"nosgestesclimat . logement . chauffage . gaz":null,"nosgestesclimat . logement . chauffage":null,"nosgestesclimat . logement":null,"nosgestesclimat . logement . vacances":null,"nosgestesclimat . logement . vacances . camping":null};let ys=mg.Main.init({flags:tm,node:document.getElementById("elm-app")});const Es=new q_(tm,ys);console.log("app",Es.getParsedRules());ys.ports.setSituation.subscribe(e=>{Es.setSituation(e)});ys.ports.evaluateAll.subscribe(e=>{Es.evaluateAll(e)});
